"use strict";(self.webpackChunkminesweep_angular=self.webpackChunkminesweep_angular||[]).push([[179],{655:()=>{function Fe(n){return"function"==typeof n}function ul(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const sh=ul(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function ia(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class Wn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(Fe(r))try{r()}catch(s){e=s instanceof sh?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{GA(s)}catch(o){e=e??[],o instanceof sh?e=[...e,...o.errors]:e.push(o)}}if(e)throw new sh(e)}}add(e){var t;if(e&&e!==this)if(this.closed)GA(e);else{if(e instanceof Wn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&ia(t,e)}remove(e){const{_finalizers:t}=this;t&&ia(t,e),e instanceof Wn&&e._removeParent(this)}}Wn.EMPTY=(()=>{const n=new Wn;return n.closed=!0,n})();const $A=Wn.EMPTY;function jA(n){return n instanceof Wn||n&&"closed"in n&&Fe(n.remove)&&Fe(n.add)&&Fe(n.unsubscribe)}function GA(n){Fe(n)?n():n.unsubscribe()}const zs={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},oh={setTimeout(n,e,...t){const{delegate:r}=oh;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=oh;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function HA(n){oh.setTimeout(()=>{const{onUnhandledError:e}=zs;if(!e)throw n;e(n)})}function zA(){}const zH=ey("C",void 0,void 0);function ey(n,e,t){return{kind:n,value:e,error:t}}let qs=null;function ah(n){if(zs.useDeprecatedSynchronousErrorHandling){const e=!qs;if(e&&(qs={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=qs;if(qs=null,t)throw r}}else n()}class ty extends Wn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,jA(e)&&e.add(this)):this.destination=JH}static create(e,t,r){return new ll(e,t,r)}next(e){this.isStopped?ry(function WH(n){return ey("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?ry(function qH(n){return ey("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?ry(zH,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const QH=Function.prototype.bind;function ny(n,e){return QH.call(n,e)}class YH{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){uh(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){uh(r)}else uh(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){uh(t)}}}class ll extends ty{constructor(e,t,r){let i;if(super(),Fe(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&zs.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&ny(e.next,s),error:e.error&&ny(e.error,s),complete:e.complete&&ny(e.complete,s)}):i=e}this.destination=new YH(i)}}function uh(n){zs.useDeprecatedSynchronousErrorHandling?function KH(n){zs.useDeprecatedSynchronousErrorHandling&&qs&&(qs.errorThrown=!0,qs.error=n)}(n):HA(n)}function ry(n,e){const{onStoppedNotification:t}=zs;t&&oh.setTimeout(()=>t(n,e))}const JH={closed:!0,next:zA,error:function XH(n){throw n},complete:zA},iy="function"==typeof Symbol&&Symbol.observable||"@@observable";function Ws(n){return n}function qA(n){return 0===n.length?Ws:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}let We=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const s=function tz(n){return n&&n instanceof ty||function ez(n){return n&&Fe(n.next)&&Fe(n.error)&&Fe(n.complete)}(n)&&jA(n)}(t)?t:new ll(t,r,i);return ah(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=WA(r))((i,s)=>{const o=new ll({next:a=>{try{t(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[iy](){return this}pipe(...t){return qA(t)(this)}toPromise(t){return new(t=WA(t))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function WA(n){var e;return null!==(e=n??zs.Promise)&&void 0!==e?e:Promise}const nz=ul(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let tn=(()=>{class n extends We{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new KA(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new nz}next(t){ah(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){ah(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){ah(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:s}=this;return r||i?$A:(this.currentObservers=null,s.push(t),new Wn(()=>{this.currentObservers=null,ia(s,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){const t=new We;return t.source=this,t}}return n.create=(e,t)=>new KA(e,t),n})();class KA extends tn{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:$A}}function QA(n){return Fe(n?.lift)}function kt(n){return e=>{if(QA(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Dt(n,e,t,r,i){return new rz(n,e,t,r,i)}class rz extends ty{constructor(e,t,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function fe(n,e){return kt((t,r)=>{let i=0;t.subscribe(Dt(r,s=>{r.next(n.call(e,s,i++))}))})}function ay(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}function rs(n){return this instanceof rs?(this.v=n,this):new rs(n)}function ZA(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function ly(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(o){return new Promise(function(a,u){!function i(s,o,a,u){Promise.resolve(u).then(function(l){s({value:l,done:a})},o)}(a,u,(o=n[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const eM=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function tM(n){return Fe(n?.then)}function nM(n){return Fe(n[iy])}function rM(n){return Symbol.asyncIterator&&Fe(n?.[Symbol.asyncIterator])}function iM(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const sM=function Tz(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function oM(n){return Fe(n?.[sM])}function aM(n){return function JA(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(n,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,g){s.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof rs?Promise.resolve(h.value.v).then(l,c):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function l(h){a("next",h)}function c(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield rs(t.read());if(i)return yield rs(void 0);yield yield rs(r)}}finally{t.releaseLock()}})}function uM(n){return Fe(n?.getReader)}function cr(n){if(n instanceof We)return n;if(null!=n){if(nM(n))return function Dz(n){return new We(e=>{const t=n[iy]();if(Fe(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(eM(n))return function Cz(n){return new We(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(tM(n))return function Sz(n){return new We(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,HA)})}(n);if(rM(n))return lM(n);if(oM(n))return function Az(n){return new We(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(uM(n))return function Mz(n){return lM(aM(n))}(n)}throw iM(n)}function lM(n){return new We(e=>{(function xz(n,e){var t,r,i,s;return function YA(n,e,t,r){return new(t||(t=Promise))(function(s,o){function a(c){try{l(r.next(c))}catch(d){o(d)}}function u(c){try{l(r.throw(c))}catch(d){o(d)}}function l(c){c.done?s(c.value):function i(s){return s instanceof t?s:new t(function(o){o(s)})}(c.value).then(a,u)}l((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=ZA(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function vi(n,e,t,r=0,i=!1){const s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function $t(n,e,t=1/0){return Fe(e)?$t((r,i)=>fe((s,o)=>e(r,s,i,o))(cr(n(r,i))),t):("number"==typeof e&&(t=e),kt((r,i)=>function Nz(n,e,t,r,i,s,o,a){const u=[];let l=0,c=0,d=!1;const h=()=>{d&&!u.length&&!l&&e.complete()},f=g=>l<r?p(g):u.push(g),p=g=>{s&&e.next(g),l++;let m=!1;cr(t(g,c++)).subscribe(Dt(e,_=>{i?.(_),s?f(_):e.next(_)},()=>{m=!0},void 0,()=>{if(m)try{for(l--;u.length&&l<r;){const _=u.shift();o?vi(e,o,()=>p(_)):p(_)}h()}catch(_){e.error(_)}}))};return n.subscribe(Dt(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,n,t)))}function sa(n=1/0){return $t(Ws,n)}const Hr=new We(n=>n.complete());function cy(n){return n[n.length-1]}function cM(n){return Fe(cy(n))?n.pop():void 0}function cl(n){return function Rz(n){return n&&Fe(n.schedule)}(cy(n))?n.pop():void 0}function lh(n,e=0){return kt((t,r)=>{t.subscribe(Dt(r,i=>vi(r,n,()=>r.next(i),e),()=>vi(r,n,()=>r.complete(),e),i=>vi(r,n,()=>r.error(i),e)))})}function ch(n,e=0){return kt((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function dM(n,e){if(!n)throw new Error("Iterable cannot be null");return new We(t=>{vi(t,e,()=>{const r=n[Symbol.asyncIterator]();vi(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function yt(n,e){return e?function Bz(n,e){if(null!=n){if(nM(n))return function Oz(n,e){return cr(n).pipe(ch(e),lh(e))}(n,e);if(eM(n))return function Lz(n,e){return new We(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(tM(n))return function Fz(n,e){return cr(n).pipe(ch(e),lh(e))}(n,e);if(rM(n))return dM(n,e);if(oM(n))return function Vz(n,e){return new We(t=>{let r;return vi(t,e,()=>{r=n[sM](),vi(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void t.error(o)}s?t.complete():t.next(i)},0,!0)}),()=>Fe(r?.return)&&r.return()})}(n,e);if(uM(n))return function Uz(n,e){return dM(aM(n),e)}(n,e)}throw iM(n)}(n,e):cr(n)}function dy(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new ll({next:()=>{r.unsubscribe(),n()}});return cr(e(...t)).subscribe(r)}function Pe(n){for(let e in n)if(n[e]===Pe)return e;throw Error("Could not find renamed property on target object.")}function hy(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Le(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Le).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function fy(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const Gz=Pe({__forward_ref__:Pe});function Ve(n){return n.__forward_ref__=Ve,n.toString=function(){return Le(this())},n}function Q(n){return py(n)?n():n}function py(n){return"function"==typeof n&&n.hasOwnProperty(Gz)&&n.__forward_ref__===Ve}function gy(n){return n&&!!n.\u0275providers}const dh="https://g.co/ng/security#xss";class b extends Error{constructor(e,t){super(hh(e,t)),this.code=e}}function hh(n,e){return`NG0${Math.abs(n)}${e?": "+e.trim():""}`}function ie(n){return"string"==typeof n?n:null==n?"":String(n)}function fh(n,e){throw new b(-201,!1)}function dr(n,e){null==n&&function Se(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function B(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function vn(n){return{providers:n.providers||[],imports:n.imports||[]}}function ph(n){return hM(n,gh)||hM(n,pM)}function hM(n,e){return n.hasOwnProperty(e)?n[e]:null}function fM(n){return n&&(n.hasOwnProperty(my)||n.hasOwnProperty(Xz))?n[my]:null}const gh=Pe({\u0275prov:Pe}),my=Pe({\u0275inj:Pe}),pM=Pe({ngInjectableDef:Pe}),Xz=Pe({ngInjectorDef:Pe});var Y=(()=>((Y=Y||{})[Y.Default=0]="Default",Y[Y.Host=1]="Host",Y[Y.Self=2]="Self",Y[Y.SkipSelf=4]="SkipSelf",Y[Y.Optional=8]="Optional",Y))();let yy;function hr(n){const e=yy;return yy=n,e}function gM(n,e,t){const r=ph(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&Y.Optional?null:void 0!==e?e:void fh(Le(n))}const $e=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),dl={},_y="__NG_DI_FLAG__",mh="ngTempTokenPath",Zz="ngTokenPath",e4=/\n/gm,t4="\u0275",mM="__source";let hl;function oa(n){const e=hl;return hl=n,e}function n4(n,e=Y.Default){if(void 0===hl)throw new b(-203,!1);return null===hl?gM(n,void 0,e):hl.get(n,e&Y.Optional?null:void 0,e)}function P(n,e=Y.Default){return(function Jz(){return yy}()||n4)(Q(n),e)}function X(n,e=Y.Default){return P(n,yh(e))}function yh(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function vy(n){const e=[];for(let t=0;t<n.length;t++){const r=Q(n[t]);if(Array.isArray(r)){if(0===r.length)throw new b(900,!1);let i,s=Y.Default;for(let o=0;o<r.length;o++){const a=r[o],u=r4(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push(P(i,s))}else e.push(P(r))}return e}function fl(n,e){return n[_y]=e,n.prototype[_y]=e,n}function r4(n){return n[_y]}function wi(n){return{toString:n}.toString()}var zr=(()=>((zr=zr||{})[zr.OnPush=0]="OnPush",zr[zr.Default=1]="Default",zr))(),Dr=(()=>{return(n=Dr||(Dr={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Dr;var n})();const Ei={},De=[],_h=Pe({\u0275cmp:Pe}),wy=Pe({\u0275dir:Pe}),Ey=Pe({\u0275pipe:Pe}),_M=Pe({\u0275mod:Pe}),Ii=Pe({\u0275fac:Pe}),pl=Pe({__NG_ELEMENT_ID__:Pe});let o4=0;function Cr(n){return wi(()=>{const e=wM(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===zr.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,data:n.data||{},encapsulation:n.encapsulation||Dr.Emulated,id:"c"+o4++,styles:n.styles||De,_:null,schemas:n.schemas||null,tView:null};EM(t);const r=n.dependencies;return t.directiveDefs=vh(r,!1),t.pipeDefs=vh(r,!0),t})}function u4(n){return Ae(n)||nn(n)}function l4(n){return null!==n}function On(n){return wi(()=>({type:n.type,bootstrap:n.bootstrap||De,declarations:n.declarations||De,imports:n.imports||De,exports:n.exports||De,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function vM(n,e){if(null==n)return Ei;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),t[i]=r,e&&(e[i]=s)}return t}function ee(n){return wi(()=>{const e=wM(n);return EM(e),e})}function wn(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Ae(n){return n[_h]||null}function nn(n){return n[wy]||null}function Fn(n){return n[Ey]||null}function Qn(n,e){const t=n[_M]||null;if(!t&&!0===e)throw new Error(`Type ${Le(n)} does not have '\u0275mod' property.`);return t}function wM(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,exportAs:n.exportAs||null,standalone:!0===n.standalone,selectors:n.selectors||De,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:vM(n.inputs,e),outputs:vM(n.outputs)}}function EM(n){n.features?.forEach(e=>e(n))}function vh(n,e){if(!n)return null;const t=e?Fn:u4;return()=>("function"==typeof n?n():n).map(r=>t(r)).filter(l4)}const bi=0,O=1,ce=2,rt=3,Sr=4,Ks=5,rn=6,ua=7,lt=8,wh=9,Eh=10,he=11,Iy=12,gl=13,IM=14,la=15,sn=16,ml=17,ca=18,qr=19,yl=20,bM=21,je=22,by=1,TM=2,Ih=7,bh=8,da=9,En=10;function Yn(n){return Array.isArray(n)&&"object"==typeof n[by]}function Ar(n){return Array.isArray(n)&&!0===n[by]}function Ty(n){return 0!=(4&n.flags)}function _l(n){return n.componentOffset>-1}function Th(n){return 1==(1&n.flags)}function Mr(n){return!!n.template}function d4(n){return 0!=(256&n[ce])}function Qs(n,e){return n.hasOwnProperty(Ii)?n[Ii]:null}class p4{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function fr(){return SM}function SM(n){return n.type.prototype.ngOnChanges&&(n.setInput=m4),g4}function g4(){const n=MM(this),e=n?.current;if(e){const t=n.previous;if(t===Ei)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function m4(n,e,t,r){const i=this.declaredInputs[t],s=MM(n)||function y4(n,e){return n[AM]=e}(n,{previous:Ei,current:null}),o=s.current||(s.current={}),a=s.previous,u=a[i];o[i]=new p4(u&&u.currentValue,e,a===Ei),n[r]=e}fr.ngInherit=!0;const AM="__ngSimpleChanges__";function MM(n){return n[AM]||null}const pr=function(n,e,t){};function jt(n){for(;Array.isArray(n);)n=n[bi];return n}function Dh(n,e){return jt(e[n])}function Xn(n,e){return jt(e[n.index])}function kM(n,e){return n.data[e]}function ha(n,e){return n[e]}function Ln(n,e){const t=e[n];return Yn(t)?t:t[bi]}function Ch(n){return 64==(64&n[ce])}function ss(n,e){return null==e?null:n[e]}function RM(n){n[ca]=0}function Cy(n,e){n[Ks]+=e;let t=n,r=n[rt];for(;null!==r&&(1===e&&1===t[Ks]||-1===e&&0===t[Ks]);)r[Ks]+=e,t=r,r=r[rt]}const se={lFrame:GM(null),bindingsEnabled:!0};function OM(){return se.bindingsEnabled}function D(){return se.lFrame.lView}function we(){return se.lFrame.tView}function vl(n){return se.lFrame.contextLView=n,n[lt]}function wl(n){return se.lFrame.contextLView=null,n}function Gt(){let n=FM();for(;null!==n&&64===n.type;)n=n.parent;return n}function FM(){return se.lFrame.currentTNode}function Wr(n,e){const t=se.lFrame;t.currentTNode=n,t.isParent=e}function Sy(){return se.lFrame.isParent}function Ay(){se.lFrame.isParent=!1}function In(){const n=se.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function fa(){return se.lFrame.bindingIndex++}function Di(n){const e=se.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function x4(n,e){const t=se.lFrame;t.bindingIndex=t.bindingRootIndex=n,My(e)}function My(n){se.lFrame.currentDirectiveIndex=n}function xy(n){const e=se.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}function Ny(n){se.lFrame.currentQueryIndex=n}function k4(n){const e=n[O];return 2===e.type?e.declTNode:1===e.type?n[rn]:null}function $M(n,e,t){if(t&Y.SkipSelf){let i=e,s=n;for(;!(i=i.parent,null!==i||t&Y.Host||(i=k4(s),null===i||(s=s[la],10&i.type))););if(null===i)return!1;e=i,n=s}const r=se.lFrame=jM();return r.currentTNode=e,r.lView=n,!0}function ky(n){const e=jM(),t=n[O];se.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function jM(){const n=se.lFrame,e=null===n?null:n.child;return null===e?GM(n):e}function GM(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function HM(){const n=se.lFrame;return se.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const zM=HM;function Ry(){const n=HM();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function bn(){return se.lFrame.selectedIndex}function Ys(n){se.lFrame.selectedIndex=n}function Xe(){const n=se.lFrame;return kM(n.tView,n.selectedIndex)}function Sh(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:c}=s;o&&(n.contentHooks??(n.contentHooks=[])).push(-t,o),a&&((n.contentHooks??(n.contentHooks=[])).push(t,a),(n.contentCheckHooks??(n.contentCheckHooks=[])).push(t,a)),u&&(n.viewHooks??(n.viewHooks=[])).push(-t,u),l&&((n.viewHooks??(n.viewHooks=[])).push(t,l),(n.viewCheckHooks??(n.viewCheckHooks=[])).push(t,l)),null!=c&&(n.destroyHooks??(n.destroyHooks=[])).push(t,c)}}function Ah(n,e,t){qM(n,e,3,t)}function Mh(n,e,t,r){(3&n[ce])===t&&qM(n,e,t,r)}function Py(n,e){let t=n[ce];(3&t)===e&&(t&=2047,t+=1,n[ce]=t)}function qM(n,e,t,r){const s=r??-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&n[ca]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(n[ca]+=65536),(a<s||-1==s)&&($4(n,t,e,u),n[ca]=(4294901760&n[ca])+u+2),u++}function $4(n,e,t,r){const i=t[r]<0,s=t[r+1],a=n[i?-t[r]:t[r]];if(i){if(n[ce]>>11<n[ca]>>16&&(3&n[ce])===e){n[ce]+=2048,pr(4,a,s);try{s.call(a)}finally{pr(5,a,s)}}}else{pr(4,a,s);try{s.call(a)}finally{pr(5,a,s)}}}const pa=-1;class Il{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function Fy(n,e,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const s=t[r++],o=t[r++],a=t[r++];n.setAttribute(e,o,a,s)}else{const s=i,o=t[++r];KM(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),r++}}return r}function WM(n){return 3===n||4===n||6===n}function KM(n){return 64===n.charCodeAt(0)}function bl(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||QM(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function QM(n,e,t,r,i){let s=0,o=n.length;if(-1===e)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[s+1]=i));if(r===n[s+1])return void(n[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),null!==r&&n.splice(s++,0,r),null!==i&&n.splice(s++,0,i)}function YM(n){return n!==pa}function xh(n){return 32767&n}function Nh(n,e){let t=function z4(n){return n>>16}(n),r=e;for(;t>0;)r=r[la],t--;return r}let Ly=!0;function kh(n){const e=Ly;return Ly=n,e}const XM=255,JM=5;let q4=0;const Kr={};function Rh(n,e){const t=ZM(n,e);if(-1!==t)return t;const r=e[O];r.firstCreatePass&&(n.injectorIndex=e.length,Vy(r.data,n),Vy(e,null),Vy(r.blueprint,null));const i=Uy(n,e),s=n.injectorIndex;if(YM(i)){const o=xh(i),a=Nh(i,e),u=a[O].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|u[o+l]}return e[s+8]=i,s}function Vy(n,e){n.push(0,0,0,0,0,0,0,0,e)}function ZM(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function Uy(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){if(r=ox(i),null===r)return pa;if(t++,i=i[la],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return pa}function By(n,e,t){!function W4(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(pl)&&(r=t[pl]),null==r&&(r=t[pl]=q4++);const i=r&XM;e.data[n+(i>>JM)]|=1<<i}(n,e,t)}function ex(n,e,t){if(t&Y.Optional||void 0!==n)return n;fh()}function tx(n,e,t,r){if(t&Y.Optional&&void 0===r&&(r=null),!(t&(Y.Self|Y.Host))){const i=n[wh],s=hr(void 0);try{return i?i.get(e,r,t&Y.Optional):gM(e,r,t&Y.Optional)}finally{hr(s)}}return ex(r,0,t)}function nx(n,e,t,r=Y.Default,i){if(null!==n){if(1024&e[ce]){const o=function J4(n,e,t,r,i){let s=n,o=e;for(;null!==s&&null!==o&&1024&o[ce]&&!(256&o[ce]);){const a=rx(s,o,t,r|Y.Self,Kr);if(a!==Kr)return a;let u=s.parent;if(!u){const l=o[bM];if(l){const c=l.get(t,Kr,r);if(c!==Kr)return c}u=ox(o),o=o[la]}s=u}return i}(n,e,t,r,Kr);if(o!==Kr)return o}const s=rx(n,e,t,r,Kr);if(s!==Kr)return s}return tx(e,t,r,i)}function rx(n,e,t,r,i){const s=function Y4(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(pl)?n[pl]:void 0;return"number"==typeof e?e>=0?e&XM:X4:e}(t);if("function"==typeof s){if(!$M(e,n,r))return r&Y.Host?ex(i,0,r):tx(e,t,r,i);try{const o=s(r);if(null!=o||r&Y.Optional)return o;fh()}finally{zM()}}else if("number"==typeof s){let o=null,a=ZM(n,e),u=pa,l=r&Y.Host?e[sn][rn]:null;for((-1===a||r&Y.SkipSelf)&&(u=-1===a?Uy(n,e):e[a+8],u!==pa&&sx(r,!1)?(o=e[O],a=xh(u),e=Nh(u,e)):a=-1);-1!==a;){const c=e[O];if(ix(s,a,c.data)){const d=Q4(a,e,t,o,r,l);if(d!==Kr)return d}u=e[a+8],u!==pa&&sx(r,e[O].data[a+8]===l)&&ix(s,a,e)?(o=c,a=xh(u),e=Nh(u,e)):a=-1}}return i}function Q4(n,e,t,r,i,s){const o=e[O],a=o.data[n+8],c=function Ph(n,e,t,r,i){const s=n.providerIndexes,o=e.data,a=1048575&s,u=n.directiveStart,c=s>>20,h=i?a+c:n.directiveEnd;for(let f=r?a:a+c;f<h;f++){const p=o[f];if(f<u&&t===p||f>=u&&p.type===t)return f}if(i){const f=o[u];if(f&&Mr(f)&&f.type===t)return u}return null}(a,o,t,null==r?_l(a)&&Ly:r!=o&&0!=(3&a.type),i&Y.Host&&s===a);return null!==c?Xs(e,o,c,a):Kr}function Xs(n,e,t,r){let i=n[t];const s=e.data;if(function j4(n){return n instanceof Il}(i)){const o=i;o.resolving&&function Hz(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new b(-200,`Circular dependency in DI detected for ${n}${t}`)}(function Ce(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():ie(n)}(s[t]));const a=kh(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?hr(o.injectImpl):null;$M(n,r,Y.Default);try{i=n[t]=o.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&function B4(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=SM(e);(t.preOrderHooks??(t.preOrderHooks=[])).push(n,o),(t.preOrderCheckHooks??(t.preOrderCheckHooks=[])).push(n,o)}i&&(t.preOrderHooks??(t.preOrderHooks=[])).push(0-n,i),s&&((t.preOrderHooks??(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks??(t.preOrderCheckHooks=[])).push(n,s))}(t,s[t],e)}finally{null!==u&&hr(u),kh(a),o.resolving=!1,zM()}}return i}function ix(n,e,t){return!!(t[e+(n>>JM)]&1<<n)}function sx(n,e){return!(n&Y.Self||n&Y.Host&&e)}class ga{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return nx(this._tNode,this._lView,e,yh(r),t)}}function X4(){return new ga(Gt(),D())}function Ht(n){return wi(()=>{const e=n.prototype.constructor,t=e[Ii]||$y(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const s=i[Ii]||$y(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function $y(n){return py(n)?()=>{const e=$y(Q(n));return e&&e()}:Qs(n)}function ox(n){const e=n[O],t=e.type;return 2===t?e.declTNode:1===t?n[rn]:null}const ya="__parameters__";function va(n,e,t){return wi(()=>{const r=function jy(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,l,c){const d=u.hasOwnProperty(ya)?u[ya]:Object.defineProperty(u,ya,{value:[]})[ya];for(;d.length<=c;)d.push(null);return(d[c]=d[c]||[]).push(o),u}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}class ${constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=B({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Js(n,e){n.forEach(t=>Array.isArray(t)?Js(t,e):e(t))}function ux(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Fh(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Jn(n,e,t){let r=wa(n,e);return r>=0?n[1|r]=t:(r=~r,function n3(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function Hy(n,e){const t=wa(n,e);if(t>=0)return n[1|t]}function wa(n,e){return function lx(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const s=r+(i-r>>1),o=n[s<<t];if(e===o)return s<<t;o>e?i=s:r=s+1}return~(i<<t)}(n,e,1)}const Tn=fl(va("Optional"),8),Sl=fl(va("SkipSelf"),4);var Vn=(()=>((Vn=Vn||{})[Vn.Important=1]="Important",Vn[Vn.DashCase=2]="DashCase",Vn))();const Yy=new Map;let T3=0;const Jy="__ngContext__";function on(n,e){Yn(e)?(n[Jy]=e[yl],function C3(n){Yy.set(n[yl],n)}(e)):n[Jy]=e}let Zy;function e_(n,e){return Zy(n,e)}function Nl(n){const e=n[rt];return Ar(e)?e[rt]:e}function t_(n){return Mx(n[gl])}function n_(n){return Mx(n[Sr])}function Mx(n){for(;null!==n&&!Ar(n);)n=n[Sr];return n}function Ia(n,e,t,r,i){if(null!=r){let s,o=!1;Ar(r)?s=r:Yn(r)&&(o=!0,r=r[bi]);const a=jt(r);0===n&&null!==t?null==i?Ox(e,t,a):Zs(e,t,a,i||null,!0):1===n&&null!==t?Zs(e,t,a,i||null,!0):2===n?function l_(n,e,t){const r=Bh(n,e);r&&function q3(n,e,t,r){n.removeChild(e,t,r)}(n,r,e,t)}(e,a,o):3===n&&e.destroyNode(a),null!=s&&function Q3(n,e,t,r,i){const s=t[Ih];s!==jt(t)&&Ia(e,n,r,s,i);for(let a=En;a<t.length;a++){const u=t[a];kl(u[O],u,n,e,r,s)}}(e,n,s,t,i)}}function i_(n,e,t){return n.createElement(e,t)}function Nx(n,e){const t=n[da],r=t.indexOf(e),i=e[rt];512&e[ce]&&(e[ce]&=-513,Cy(i,-1)),t.splice(r,1)}function s_(n,e){if(n.length<=En)return;const t=En+e,r=n[t];if(r){const i=r[ml];null!==i&&i!==n&&Nx(i,r),e>0&&(n[t-1][Sr]=r[Sr]);const s=Fh(n,En+e);!function V3(n,e){kl(n,e,e[he],2,null,null),e[bi]=null,e[rn]=null}(r[O],r);const o=s[qr];null!==o&&o.detachView(s[O]),r[rt]=null,r[Sr]=null,r[ce]&=-65}return r}function kx(n,e){if(!(128&e[ce])){const t=e[he];t.destroyNode&&kl(n,e,t,3,null,null),function $3(n){let e=n[gl];if(!e)return o_(n[O],n);for(;e;){let t=null;if(Yn(e))t=e[gl];else{const r=e[En];r&&(t=r)}if(!t){for(;e&&!e[Sr]&&e!==n;)Yn(e)&&o_(e[O],e),e=e[rt];null===e&&(e=n),Yn(e)&&o_(e[O],e),t=e&&e[Sr]}e=t}}(e)}}function o_(n,e){if(!(128&e[ce])){e[ce]&=-65,e[ce]|=128,function z3(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof Il)){const s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];pr(4,a,u);try{u.call(a)}finally{pr(5,a,u)}}else{pr(4,i,s);try{s.call(i)}finally{pr(5,i,s)}}}}}(n,e),function H3(n,e){const t=n.cleanup,r=e[ua];let i=-1;if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+3];o>=0?r[i=o]():r[i=-o].unsubscribe(),s+=2}else{const o=r[i=t[s+1]];t[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)(0,r[s])();e[ua]=null}}(n,e),1===e[O].type&&e[he].destroy();const t=e[ml];if(null!==t&&Ar(e[rt])){t!==e[rt]&&Nx(t,e);const r=e[qr];null!==r&&r.detachView(n)}!function S3(n){Yy.delete(n[yl])}(e)}}function Rx(n,e,t){return function Px(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[bi];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=n.data[r.directiveStart+i];if(s===Dr.None||s===Dr.Emulated)return null}return Xn(r,t)}}(n,e.parent,t)}function Zs(n,e,t,r,i){n.insertBefore(e,t,r,i)}function Ox(n,e,t){n.appendChild(e,t)}function Fx(n,e,t,r,i){null!==r?Zs(n,e,t,r,i):Ox(n,e,t)}function Bh(n,e){return n.parentNode(e)}let a_,Gh,h_,Hh,Ux=function Vx(n,e,t){return 40&n.type?Xn(n,t):null};function $h(n,e,t,r){const i=Rx(n,r,e),s=e[he],a=function Lx(n,e,t){return Ux(n,e,t)}(r.parent||e[rn],r,e);if(null!=i)if(Array.isArray(t))for(let u=0;u<t.length;u++)Fx(s,i,t[u],a,!1);else Fx(s,i,t,a,!1);void 0!==a_&&a_(s,r,e,t,i)}function jh(n,e){if(null!==e){const t=e.type;if(3&t)return Xn(e,n);if(4&t)return u_(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return jh(n,r);{const i=n[e.index];return Ar(i)?u_(-1,i):jt(i)}}if(32&t)return e_(e,n)()||jt(n[e.index]);{const r=$x(n,e);return null!==r?Array.isArray(r)?r[0]:jh(Nl(n[sn]),r):jh(n,e.next)}}return null}function $x(n,e){return null!==e?n[sn][rn].projection[e.projection]:null}function u_(n,e){const t=En+n+1;if(t<e.length){const r=e[t],i=r[O].firstChild;if(null!==i)return jh(r,i)}return e[Ih]}function c_(n,e,t,r,i,s,o){for(;null!=t;){const a=r[t.index],u=t.type;if(o&&0===e&&(a&&on(jt(a),r),t.flags|=2),32!=(32&t.flags))if(8&u)c_(n,e,t.child,r,i,s,!1),Ia(e,n,i,a,s);else if(32&u){const l=e_(t,r);let c;for(;c=l();)Ia(e,n,i,c,s);Ia(e,n,i,a,s)}else 16&u?jx(n,e,r,t,i,s):Ia(e,n,i,a,s);t=o?t.projectionNext:t.next}}function kl(n,e,t,r,i,s){c_(t,r,n.firstChild,e,i,s,!1)}function jx(n,e,t,r,i,s){const o=t[sn],u=o[rn].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++)Ia(e,n,i,u[l],s);else c_(n,e,u,o[rt],i,s,!0)}function Gx(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function Hx(n,e,t){const{mergedAttrs:r,classes:i,styles:s}=t;null!==r&&Fy(n,e,r),null!==i&&Gx(n,e,i),null!==s&&function X3(n,e,t){n.setAttribute(e,"style",t)}(n,e,s)}function ba(n){return function d_(){if(void 0===Gh&&(Gh=null,$e.trustedTypes))try{Gh=$e.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Gh}()?.createHTML(n)||n}function f_(){if(void 0===Hh&&(Hh=null,$e.trustedTypes))try{Hh=$e.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Hh}function qx(n){return f_()?.createHTML(n)||n}function Kx(n){return f_()?.createScriptURL(n)||n}class eo{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${dh})`}}class nq extends eo{getTypeName(){return"HTML"}}class rq extends eo{getTypeName(){return"Style"}}class iq extends eo{getTypeName(){return"Script"}}class sq extends eo{getTypeName(){return"URL"}}class oq extends eo{getTypeName(){return"ResourceURL"}}function Zn(n){return n instanceof eo?n.changingThisBreaksApplicationSecurity:n}function Qr(n,e){const t=function aq(n){return n instanceof eo&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${dh})`)}return t===e}class fq{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(ba(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch{return null}}}class pq{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const t=this.inertDocument.createElement("template");return t.innerHTML=ba(e),t}}const mq=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function zh(n){return(n=String(n)).match(mq)?n:"unsafe:"+n}function Ci(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function Rl(...n){const e={};for(const t of n)for(const r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}const Yx=Ci("area,br,col,hr,img,wbr"),Xx=Ci("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Jx=Ci("rp,rt"),p_=Rl(Yx,Rl(Xx,Ci("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Rl(Jx,Ci("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Rl(Jx,Xx)),g_=Ci("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Zx=Rl(g_,Ci("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ci("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),yq=Ci("script,style,template");class _q{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,r=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let i=this.checkClobberedElement(t,t.nextSibling);if(i){t=i;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!p_.hasOwnProperty(t))return this.sanitizedSomething=!0,!yq.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const r=e.attributes;for(let i=0;i<r.length;i++){const s=r.item(i),o=s.name,a=o.toLowerCase();if(!Zx.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let u=s.value;g_[a]&&(u=zh(u)),this.buf.push(" ",o,'="',e1(u),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();p_.hasOwnProperty(t)&&!Yx.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(e1(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const vq=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,wq=/([^\#-~ |!])/g;function e1(n){return n.replace(/&/g,"&amp;").replace(vq,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(wq,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let qh;function t1(n,e){let t=null;try{qh=qh||function Qx(n){const e=new pq(n);return function gq(){try{return!!(new window.DOMParser).parseFromString(ba(""),"text/html")}catch{return!1}}()?new fq(e):e}(n);let r=e?String(e):"";t=qh.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=t.innerHTML,t=qh.getInertBodyElement(r)}while(r!==s);return ba((new _q).sanitizeChildren(m_(t)||t))}finally{if(t){const r=m_(t)||t;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function m_(n){return"content"in n&&function Eq(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Oe=(()=>((Oe=Oe||{})[Oe.NONE=0]="NONE",Oe[Oe.HTML=1]="HTML",Oe[Oe.STYLE=2]="STYLE",Oe[Oe.SCRIPT=3]="SCRIPT",Oe[Oe.URL=4]="URL",Oe[Oe.RESOURCE_URL=5]="RESOURCE_URL",Oe))();function y_(n){const e=Pl();return e?qx(e.sanitize(Oe.HTML,n)||""):Qr(n,"HTML")?qx(Zn(n)):t1(function zx(){return void 0!==h_?h_:typeof document<"u"?document:void 0}(),ie(n))}function __(n){const e=Pl();return e?e.sanitize(Oe.URL,n)||"":Qr(n,"URL")?Zn(n):zh(ie(n))}function n1(n){const e=Pl();if(e)return Kx(e.sanitize(Oe.RESOURCE_URL,n)||"");if(Qr(n,"ResourceURL"))return Kx(Zn(n));throw new b(904,!1)}function Pl(){const n=D();return n&&n[Iy]}const Wh=new $("ENVIRONMENT_INITIALIZER"),i1=new $("INJECTOR",-1),s1=new $("INJECTOR_DEF_TYPES");class o1{get(e,t=dl){if(t===dl){const r=new Error(`NullInjectorError: No provider for ${Le(e)}!`);throw r.name="NullInjectorError",r}return t}}function Aq(...n){return{\u0275providers:a1(0,n),\u0275fromNgModule:!0}}function a1(n,...e){const t=[],r=new Set;let i;return Js(e,s=>{const o=s;v_(o,t,[],r)&&(i||(i=[]),i.push(o))}),void 0!==i&&u1(i,t),t}function u1(n,e){for(let t=0;t<n.length;t++){const{providers:i}=n[t];w_(i,s=>{e.push(s)})}}function v_(n,e,t,r){if(!(n=Q(n)))return!1;let i=null,s=fM(n);const o=!s&&Ae(n);if(s||o){if(o&&!o.standalone)return!1;i=n}else{const u=n.ngModule;if(s=fM(u),!s)return!1;i=u}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const u="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const l of u)v_(l,e,t,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let l;r.add(i);try{Js(s.imports,c=>{v_(c,e,t,r)&&(l||(l=[]),l.push(c))})}finally{}void 0!==l&&u1(l,e)}if(!a){const l=Qs(i)||(()=>new i);e.push({provide:i,useFactory:l,deps:De},{provide:s1,useValue:i,multi:!0},{provide:Wh,useValue:()=>P(i),multi:!0})}const u=s.providers;null==u||a||w_(u,c=>{e.push(c)})}}return i!==n&&void 0!==n.providers}function w_(n,e){for(let t of n)gy(t)&&(t=t.\u0275providers),Array.isArray(t)?w_(t,e):e(t)}const Mq=Pe({provide:String,useValue:Pe});function E_(n){return null!==n&&"object"==typeof n&&Mq in n}function to(n){return"function"==typeof n}const I_=new $("Set Injector scope."),Kh={},Nq={};let b_;function Qh(){return void 0===b_&&(b_=new o1),b_}class Si{}class d1 extends Si{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,D_(e,o=>this.processProvider(o)),this.records.set(i1,Ta(void 0,this)),i.has("environment")&&this.records.set(Si,Ta(void 0,this));const s=this.records.get(I_);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(s1.multi,De,Y.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const t=oa(this),r=hr(void 0);try{return e()}finally{oa(t),hr(r)}}get(e,t=dl,r=Y.Default){this.assertNotDestroyed(),r=yh(r);const i=oa(this),s=hr(void 0);try{if(!(r&Y.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=function Fq(n){return"function"==typeof n||"object"==typeof n&&n instanceof $}(e)&&ph(e);a=u&&this.injectableDefInScope(u)?Ta(T_(e),Kh):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&Y.Self?Qh():this.parent).get(e,t=r&Y.Optional&&t===dl?null:t)}catch(o){if("NullInjectorError"===o.name){if((o[mh]=o[mh]||[]).unshift(Le(e)),i)throw o;return function i4(n,e,t,r){const i=n[mh];throw e[mM]&&i.unshift(e[mM]),n.message=function s4(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&n.charAt(1)==t4?n.slice(2):n;let i=Le(e);if(Array.isArray(e))i=e.map(Le).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Le(a)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(e4,"\n  ")}`}("\n"+n.message,i,t,r),n[Zz]=i,n[mh]=null,n}(o,e,"R3InjectorError",this.source)}throw o}finally{hr(s),oa(i)}}resolveInjectorInitializers(){const e=oa(this),t=hr(void 0);try{const r=this.get(Wh.multi,De,Y.Self);for(const i of r)i()}finally{oa(e),hr(t)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(Le(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new b(205,!1)}processProvider(e){let t=to(e=Q(e))?e:Q(e&&e.provide);const r=function Rq(n){return E_(n)?Ta(void 0,n.useValue):Ta(h1(n),Kh)}(e);if(to(e)||!0!==e.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=Ta(void 0,Kh,!0),i.factory=()=>vy(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){return t.value===Kh&&(t.value=Nq,t.value=t.factory()),"object"==typeof t.value&&t.value&&function Oq(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=Q(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}}function T_(n){const e=ph(n),t=null!==e?e.factory:Qs(n);if(null!==t)return t;if(n instanceof $)throw new b(204,!1);if(n instanceof Function)return function kq(n){const e=n.length;if(e>0)throw function Cl(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}(e,"?"),new b(204,!1);const t=function Yz(n){return n&&(n[gh]||n[pM])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new b(204,!1)}function h1(n,e,t){let r;if(to(n)){const i=Q(n);return Qs(i)||T_(i)}if(E_(n))r=()=>Q(n.useValue);else if(function c1(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...vy(n.deps||[]));else if(function l1(n){return!(!n||!n.useExisting)}(n))r=()=>P(Q(n.useExisting));else{const i=Q(n&&(n.useClass||n.provide));if(!function Pq(n){return!!n.deps}(n))return Qs(i)||T_(i);r=()=>new i(...vy(n.deps))}return r}function Ta(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function D_(n,e){for(const t of n)Array.isArray(t)?D_(t,e):t&&gy(t)?D_(t.\u0275providers,e):e(t)}class Lq{}class f1{}class Uq{resolveComponentFactory(e){throw function Vq(n){const e=Error(`No component factory found for ${Le(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let Da=(()=>{class n{}return n.NULL=new Uq,n})();function Bq(){return Ca(Gt(),D())}function Ca(n,e){return new er(Xn(n,e))}let er=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=Bq,n})();class Ol{}let Ai=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function jq(){const n=D(),t=Ln(Gt().index,n);return(Yn(t)?t:n)[he]}(),n})(),Gq=(()=>{class n{}return n.\u0275prov=B({token:n,providedIn:"root",factory:()=>null}),n})();class Sa{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const g1=new Sa("15.2.9"),C_={},S_="ngOriginalError";function A_(n){return n[S_]}class Aa{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&A_(e);for(;t&&A_(t);)t=A_(t);return t||null}}function Mi(n){return n instanceof Function?n():n}function y1(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}const _1="ng-template";function e6(n,e,t){let r=0,i=!0;for(;r<n.length;){let s=n[r++];if("string"==typeof s&&i){const o=n[r++];if(t&&"class"===s&&-1!==y1(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<n.length&&"string"==typeof(s=n[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function v1(n){return 4===n.type&&n.value!==_1}function t6(n,e,t){return e===(4!==n.type||t?n.value:_1)}function n6(n,e,t){let r=4;const i=n.attrs||[],s=function s6(n){for(let e=0;e<n.length;e++)if(WM(n[e]))return e;return n.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!t6(n,u,t)||""===u&&1===e.length){if(xr(r))return!1;o=!0}}else{const l=8&r?u:e[++a];if(8&r&&null!==n.attrs){if(!e6(n.attrs,l,t)){if(xr(r))return!1;o=!0}continue}const d=r6(8&r?"class":u,i,v1(n),t);if(-1===d){if(xr(r))return!1;o=!0;continue}if(""!==l){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==y1(f,l,0)||2&r&&l!==h){if(xr(r))return!1;o=!0}}}}else{if(!o&&!xr(r)&&!xr(u))return!1;if(o&&xr(u))continue;o=!1,r=u|1&r}}return xr(r)||o}function xr(n){return 0==(1&n)}function r6(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){const o=e[i];if(o===n)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function o6(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function w1(n,e,t=!1){for(let r=0;r<e.length;r++)if(n6(n,e[r],t))return!0;return!1}function E1(n,e){return n?":not("+e.trim()+")":e}function u6(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&r){const a=n[++t];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!xr(o)&&(e+=E1(s,i),i=""),r=o,s=s||!xr(r);t++}return""!==i&&(e+=E1(s,i)),e}const oe={};function te(n){I1(we(),D(),bn()+n,!1)}function I1(n,e,t,r){if(!r)if(3==(3&e[ce])){const s=n.preOrderCheckHooks;null!==s&&Ah(e,s,t)}else{const s=n.preOrderHooks;null!==s&&Mh(e,s,0,t)}Ys(t)}function C1(n,e=null,t=null,r){const i=S1(n,e,t,r);return i.resolveInjectorInitializers(),i}function S1(n,e=null,t=null,r,i=new Set){const s=[t||De,Aq(n)];return r=r||("object"==typeof n?void 0:Le(n)),new d1(s,e||Qh(),r||null,i)}let Dn=(()=>{class n{static create(t,r){if(Array.isArray(t))return C1({name:""},r,t,"");{const i=t.name??"";return C1({name:i},t.parent,t.providers,i)}}}return n.THROW_IF_NOT_FOUND=dl,n.NULL=new o1,n.\u0275prov=B({token:n,providedIn:"any",factory:()=>P(i1)}),n.__NG_ELEMENT_ID__=-1,n})();function T(n,e=Y.Default){const t=D();return null===t?P(n,e):nx(Gt(),t,Q(n),e)}function O1(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const s=t[r+1];if(-1!==s){const o=n.data[s];Ny(t[r]),o.contentQueries(2,e[s],s)}}}function Xh(n,e,t,r,i,s,o,a,u,l,c){const d=e.blueprint.slice();return d[bi]=i,d[ce]=76|r,(null!==c||n&&1024&n[ce])&&(d[ce]|=1024),RM(d),d[rt]=d[la]=n,d[lt]=t,d[Eh]=o||n&&n[Eh],d[he]=a||n&&n[he],d[Iy]=u||n&&n[Iy]||null,d[wh]=l||n&&n[wh]||null,d[rn]=s,d[yl]=function D3(){return T3++}(),d[bM]=c,d[sn]=2==e.type?n[sn]:d,d}function Na(n,e,t,r,i){let s=n.data[e];if(null===s)s=function R_(n,e,t,r,i){const s=FM(),o=Sy(),u=n.data[e]=function P6(n,e,t,r,i,s){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u,u.prev=s)),u}(n,e,t,r,i),function M4(){return se.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=t,s.value=r,s.attrs=i;const o=function El(){const n=se.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Wr(s,!0),s}function Fl(n,e,t,r){if(0===t)return-1;const i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function P_(n,e,t){ky(e);try{const r=n.viewQuery;null!==r&&G_(1,r,t);const i=n.template;null!==i&&F1(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&O1(n,e),n.staticViewQueries&&G_(2,n.viewQuery,t);const s=n.components;null!==s&&function N6(n,e){for(let t=0;t<e.length;t++)eW(n,e[t])}(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[ce]&=-5,Ry()}}function Jh(n,e,t,r){const i=e[ce];if(128!=(128&i)){ky(e);try{RM(e),function VM(n){return se.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&F1(n,e,t,2,r);const o=3==(3&i);if(o){const l=n.preOrderCheckHooks;null!==l&&Ah(e,l,null)}else{const l=n.preOrderHooks;null!==l&&Mh(e,l,0,null),Py(e,0)}if(function J6(n){for(let e=t_(n);null!==e;e=n_(e)){if(!e[TM])continue;const t=e[da];for(let r=0;r<t.length;r++){const i=t[r];512&i[ce]||Cy(i[rt],1),i[ce]|=512}}}(e),function X6(n){for(let e=t_(n);null!==e;e=n_(e))for(let t=En;t<e.length;t++){const r=e[t],i=r[O];Ch(r)&&Jh(i,r,i.template,r[lt])}}(e),null!==n.contentQueries&&O1(n,e),o){const l=n.contentCheckHooks;null!==l&&Ah(e,l)}else{const l=n.contentHooks;null!==l&&Mh(e,l,1),Py(e,1)}!function M6(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)Ys(~i);else{const s=i,o=t[++r],a=t[++r];x4(o,s),a(2,e[s])}}}finally{Ys(-1)}}(n,e);const a=n.components;null!==a&&function x6(n,e){for(let t=0;t<e.length;t++)Z6(n,e[t])}(e,a);const u=n.viewQuery;if(null!==u&&G_(2,u,r),o){const l=n.viewCheckHooks;null!==l&&Ah(e,l)}else{const l=n.viewHooks;null!==l&&Mh(e,l,2),Py(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[ce]&=-41,512&e[ce]&&(e[ce]&=-513,Cy(e[rt],-1))}finally{Ry()}}}function F1(n,e,t,r,i){const s=bn(),o=2&r;try{Ys(-1),o&&e.length>je&&I1(n,e,je,!1),pr(o?2:0,i),t(r,i)}finally{Ys(s),pr(o?3:1,i)}}function O_(n,e,t){if(Ty(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=n.data[s];o.contentQueries&&o.contentQueries(1,t[s],s)}}}function F_(n,e,t){OM()&&(function $6(n,e,t,r){const i=t.directiveStart,s=t.directiveEnd;_l(t)&&function K6(n,e,t){const r=Xn(e,n),i=L1(t),s=n[Eh],o=Zh(n,Xh(n,i,null,t.onPush?32:16,r,e,s,s.createRenderer(r,t),null,null,null));n[e.index]=o}(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||Rh(t,e),on(r,e);const o=t.initialInputs;for(let a=i;a<s;a++){const u=n.data[a],l=Xs(e,n,a,t);on(l,e),null!==o&&Q6(0,a-i,l,u,0,o),Mr(u)&&(Ln(t.index,e)[lt]=Xs(e,n,a,t))}}(n,e,t,Xn(t,e)),64==(64&t.flags)&&j1(n,e,t))}function L_(n,e,t=Xn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?t(e,n):n[o];n[i++]=a}}}function L1(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=V_(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function V_(n,e,t,r,i,s,o,a,u,l){const c=je+r,d=c+i,h=function k6(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:oe);return t}(c,d),f="function"==typeof l?l():l;return h[O]={type:n,blueprint:h,template:t,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,c),bindingStartIndex:c,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function U1(n,e,t,r){for(let i in n)if(n.hasOwnProperty(i)){t=null===t?{}:t;const s=n[i];null===r?B1(t,e,i,s):r.hasOwnProperty(i)&&B1(t,e,r[i],s)}return t}function B1(n,e,t,r){n.hasOwnProperty(t)?n[t].push(e,r):n[t]=[e,r]}function tr(n,e,t,r,i,s,o,a){const u=Xn(e,t);let c,l=e.inputs;!a&&null!=l&&(c=l[r])?(H_(n,t,c,r,i),_l(e)&&function L6(n,e){const t=Ln(e,n);16&t[ce]||(t[ce]|=32)}(t,e.index)):3&e.type&&(r=function F6(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(u,r,i))}function U_(n,e,t,r){if(OM()){const i=null===r?null:{"":-1},s=function G6(n,e){const t=n.directiveRegistry;let r=null,i=null;if(t)for(let s=0;s<t.length;s++){const o=t[s];if(w1(e,o.selectors,!1))if(r||(r=[]),Mr(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),B_(n,e,a.length)}else r.unshift(o),B_(n,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(n,t);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&$1(n,e,t,o,i,a),i&&function H6(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const s=t[e[i+1]];if(null==s)throw new b(-301,!1);r.push(e[i],s)}}}(t,r,i)}t.mergedAttrs=bl(t.mergedAttrs,t.attrs)}function $1(n,e,t,r,i,s){for(let l=0;l<r.length;l++)By(Rh(t,e),n,r[l].type);!function q6(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,r.length);for(let l=0;l<r.length;l++){const c=r[l];c.providersResolver&&c.providersResolver(c)}let o=!1,a=!1,u=Fl(n,e,r.length,null);for(let l=0;l<r.length;l++){const c=r[l];t.mergedAttrs=bl(t.mergedAttrs,c.hostAttrs),W6(n,t,e,u,c),z6(u,c,i),null!==c.contentQueries&&(t.flags|=4),(null!==c.hostBindings||null!==c.hostAttrs||0!==c.hostVars)&&(t.flags|=64);const d=c.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((n.preOrderHooks??(n.preOrderHooks=[])).push(t.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(t.index),a=!0),u++}!function O6(n,e,t){const i=e.directiveEnd,s=n.data,o=e.attrs,a=[];let u=null,l=null;for(let c=e.directiveStart;c<i;c++){const d=s[c],h=t?t.get(d):null,p=h?h.outputs:null;u=U1(d.inputs,c,u,h?h.inputs:null),l=U1(d.outputs,c,l,p);const g=null===u||null===o||v1(e)?null:Y6(u,c,o);a.push(g)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=l}(n,t,s)}function j1(n,e,t){const r=t.directiveStart,i=t.directiveEnd,s=t.index,o=function N4(){return se.lFrame.currentDirectiveIndex}();try{Ys(s);for(let a=r;a<i;a++){const u=n.data[a],l=e[a];My(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&j6(u,l)}}finally{Ys(-1),My(o)}}function j6(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function B_(n,e,t){e.componentOffset=t,(n.components??(n.components=[])).push(e.index)}function z6(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Mr(e)&&(t[""]=n)}}function W6(n,e,t,r,i){n.data[r]=i;const s=i.factory||(i.factory=Qs(i.type)),o=new Il(s,Mr(i),T);n.blueprint[r]=o,t[r]=o,function U6(n,e,t,r,i){const s=i.hostBindings;if(s){let o=n.hostBindingOpCodes;null===o&&(o=n.hostBindingOpCodes=[]);const a=~e.index;(function B6(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(o)!=a&&o.push(a),o.push(t,r,s)}}(n,e,r,Fl(n,t,i.hostVars,oe),i)}function Yr(n,e,t,r,i,s){const o=Xn(n,e);!function $_(n,e,t,r,i,s,o){if(null==s)n.removeAttribute(e,i,t);else{const a=null==o?ie(s):o(s,r||"",i);n.setAttribute(e,i,a,t)}}(e[he],o,s,n.value,t,r,i)}function Q6(n,e,t,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let u=0;u<o.length;){const l=o[u++],c=o[u++],d=o[u++];null!==a?r.setInput(t,d,l,c):t[c]=d}}}function Y6(n,e,t){let r=null,i=0;for(;i<t.length;){const s=t[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(n.hasOwnProperty(s)){null===r&&(r=[]);const o=n[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],t[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function G1(n,e,t,r){return[n,!0,!1,e,null,0,r,t,null,null]}function Z6(n,e){const t=Ln(e,n);if(Ch(t)){const r=t[O];48&t[ce]?Jh(r,t,r.template,t[lt]):t[Ks]>0&&j_(t)}}function j_(n){for(let r=t_(n);null!==r;r=n_(r))for(let i=En;i<r.length;i++){const s=r[i];if(Ch(s))if(512&s[ce]){const o=s[O];Jh(o,s,o.template,s[lt])}else s[Ks]>0&&j_(s)}const t=n[O].components;if(null!==t)for(let r=0;r<t.length;r++){const i=Ln(t[r],n);Ch(i)&&i[Ks]>0&&j_(i)}}function eW(n,e){const t=Ln(e,n),r=t[O];(function tW(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(r,t),P_(r,t,t[lt])}function Zh(n,e){return n[gl]?n[IM][Sr]=e:n[gl]=e,n[IM]=e,e}function ef(n){for(;n;){n[ce]|=32;const e=Nl(n);if(d4(n)&&!e)return n;n=e}return null}function tf(n,e,t,r=!0){const i=e[Eh];i.begin&&i.begin();try{Jh(n,e,n.template,t)}catch(o){throw r&&W1(e,o),o}finally{i.end&&i.end()}}function G_(n,e,t){Ny(0),e(n,t)}function H1(n){return n[ua]||(n[ua]=[])}function z1(n){return n.cleanup||(n.cleanup=[])}function W1(n,e){const t=n[wh],r=t?t.get(Aa,null):null;r&&r.handleError(e)}function H_(n,e,t,r,i){for(let s=0;s<t.length;){const o=t[s++],a=t[s++],u=e[o],l=n.data[o];null!==l.setInput?l.setInput(u,i,r,a):u[a]=i}}function xi(n,e,t){const r=Dh(e,n);!function xx(n,e,t){n.setValue(e,t)}(n[he],r,t)}function nf(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=fy(i,a):2==s&&(r=fy(r,a+": "+e[++o]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function rf(n,e,t,r,i=!1){for(;null!==t;){const s=e[t.index];if(null!==s&&r.push(jt(s)),Ar(s))for(let a=En;a<s.length;a++){const u=s[a],l=u[O].firstChild;null!==l&&rf(u[O],u,l,r)}const o=t.type;if(8&o)rf(n,e,t.child,r);else if(32&o){const a=e_(t,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=$x(e,t);if(Array.isArray(a))r.push(...a);else{const u=Nl(e[sn]);rf(u[O],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}class Ll{get rootNodes(){const e=this._lView,t=e[O];return rf(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[lt]}set context(e){this._lView[lt]=e}get destroyed(){return 128==(128&this._lView[ce])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[rt];if(Ar(e)){const t=e[bh],r=t?t.indexOf(this):-1;r>-1&&(s_(e,r),Fh(t,r))}this._attachedToViewContainer=!1}kx(this._lView[O],this._lView)}onDestroy(e){!function V1(n,e,t,r){const i=H1(e);null===t?i.push(r):(i.push(t),n.firstCreatePass&&z1(n).push(r,i.length-1))}(this._lView[O],this._lView,null,e)}markForCheck(){ef(this._cdRefInjectingView||this._lView)}detach(){this._lView[ce]&=-65}reattach(){this._lView[ce]|=64}detectChanges(){tf(this._lView[O],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new b(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function B3(n,e){kl(n,e,e[he],2,null,null)}(this._lView[O],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new b(902,!1);this._appRef=e}}class nW extends Ll{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;tf(e[O],e,e[lt],!1)}checkNoChanges(){}get context(){return null}}class K1 extends Da{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=Ae(e);return new Vl(t,this.ngModule)}}function Q1(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class iW{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=yh(r);const i=this.injector.get(e,C_,r);return i!==C_||t===C_?i:this.parentInjector.get(e,t,r)}}class Vl extends f1{get inputs(){return Q1(this.componentDef.inputs)}get outputs(){return Q1(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function l6(n){return n.map(u6).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let s=(i=i||this.ngModule)instanceof Si?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new iW(e,s):e,a=o.get(Ol,null);if(null===a)throw new b(407,!1);const u=o.get(Gq,null),l=a.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",d=r?function R6(n,e,t){return n.selectRootElement(e,t===Dr.ShadowDom)}(l,r,this.componentDef.encapsulation):i_(l,c,function rW(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(c)),h=this.componentDef.onPush?288:272,f=V_(0,null,null,1,0,null,null,null,null,null),p=Xh(null,f,null,h,null,null,a,l,u,o,null);let g,m;ky(p);try{const _=this.componentDef;let I,v=null;_.findHostDirectiveDefs?(I=[],v=new Map,_.findHostDirectiveDefs(_,I,v),I.push(_)):I=[_];const A=function oW(n,e){const t=n[O],r=je;return n[r]=e,Na(t,r,2,"#host",null)}(p,d),L=function aW(n,e,t,r,i,s,o,a){const u=i[O];!function uW(n,e,t,r){for(const i of n)e.mergedAttrs=bl(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(nf(e,e.mergedAttrs,!0),null!==t&&Hx(r,t,e))}(r,n,e,o);const l=s.createRenderer(e,t),c=Xh(i,L1(t),null,t.onPush?32:16,i[n.index],n,s,l,a||null,null,null);return u.firstCreatePass&&B_(u,n,r.length-1),Zh(i,c),i[n.index]=c}(A,d,_,I,p,a,l);m=kM(f,je),d&&function cW(n,e,t,r){if(r)Fy(n,t,["ng-version",g1.full]);else{const{attrs:i,classes:s}=function c6(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let s=n[r];if("string"==typeof s)2===i?""!==s&&e.push(s,n[++r]):8===i&&t.push(s);else{if(!xr(i))break;i=s}r++}return{attrs:e,classes:t}}(e.selectors[0]);i&&Fy(n,t,i),s&&s.length>0&&Gx(n,t,s.join(" "))}}(l,_,d,r),void 0!==t&&function dW(n,e,t){const r=n.projection=[];for(let i=0;i<e.length;i++){const s=t[i];r.push(null!=s?Array.from(s):null)}}(m,this.ngContentSelectors,t),g=function lW(n,e,t,r,i,s){const o=Gt(),a=i[O],u=Xn(o,i);$1(a,i,o,t,null,r);for(let c=0;c<t.length;c++)on(Xs(i,a,o.directiveStart+c,o),i);j1(a,i,o),u&&on(u,i);const l=Xs(i,a,o.directiveStart+o.componentOffset,o);if(n[lt]=i[lt]=l,null!==s)for(const c of s)c(l,e);return O_(a,o,n),l}(L,_,I,v,p,[hW]),P_(f,p,null)}finally{Ry()}return new sW(this.componentType,g,Ca(m,p),p,m)}}class sW extends Lq{constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=t,this.hostView=this.changeDetectorRef=new nW(i),this.componentType=e}setInput(e,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){const s=this._rootLView;H_(s[O],s,i,e,t),ef(Ln(this._tNode.index,s))}}get injector(){return new ga(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function hW(){const n=Gt();Sh(D()[O],n)}function Me(n){let e=function Y1(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(Mr(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new b(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);const o=n;o.inputs=z_(n.inputs),o.declaredInputs=z_(n.declaredInputs),o.outputs=z_(n.outputs);const a=i.hostBindings;a&&mW(n,a);const u=i.viewQuery,l=i.contentQueries;if(u&&pW(n,u),l&&gW(n,l),hy(n.inputs,i.inputs),hy(n.declaredInputs,i.declaredInputs),hy(n.outputs,i.outputs),Mr(i)&&i.data.animation){const c=n.data;c.animation=(c.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===Me&&(t=!1)}}e=Object.getPrototypeOf(e)}!function fW(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=bl(i.hostAttrs,t=bl(t,i.hostAttrs))}}(r)}function z_(n){return n===Ei?{}:n===De?[]:n}function pW(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function gW(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,s)=>{e(r,i,s),t(r,i,s)}:e}function mW(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}function sf(n){return!!q_(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function q_(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Xr(n,e,t){return n[e]=t}function an(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function no(n,e,t,r){const i=an(n,e,t);return an(n,e+1,r)||i}function Bn(n,e,t,r){const i=D();return an(i,fa(),e)&&(we(),Yr(Xe(),i,n,e,t,r)),Bn}function Pa(n,e,t,r,i,s){const a=no(n,function Ti(){return se.lFrame.bindingIndex}(),t,i);return Di(2),a?e+ie(t)+r+ie(i)+s:oe}function Ke(n,e,t,r,i,s,o,a){const u=D(),l=we(),c=n+je,d=l.firstCreatePass?function CW(n,e,t,r,i,s,o,a,u){const l=e.consts,c=Na(e,n,4,o||null,ss(l,a));U_(e,t,c,ss(l,u)),Sh(e,c);const d=c.tView=V_(2,c,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l);return null!==e.queries&&(e.queries.template(e,c),d.queries=e.queries.embeddedTView(c)),c}(c,l,u,e,t,r,i,s,o):l.data[c];Wr(d,!1);const h=u[he].createComment("");$h(l,u,h,d),on(h,u),Zh(u,u[c]=G1(h,u,h,d)),Th(d)&&F_(l,u,d),null!=o&&L_(u,d,a)}function pe(n,e,t){const r=D();return an(r,fa(),e)&&tr(we(),Xe(),r,n,e,r[he],t,!1),pe}function W_(n,e,t,r,i){const o=i?"class":"style";H_(n,t,e.inputs[o],o,r)}function H(n,e,t,r){const i=D(),s=we(),o=je+n,a=i[he],u=s.firstCreatePass?function MW(n,e,t,r,i,s){const o=e.consts,u=Na(e,n,2,r,ss(o,i));return U_(e,t,u,ss(o,s)),null!==u.attrs&&nf(u,u.attrs,!1),null!==u.mergedAttrs&&nf(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(o,s,i,e,t,r):s.data[o],l=i[o]=i_(a,e,function U4(){return se.lFrame.currentNamespace}()),c=Th(u);return Wr(u,!0),Hx(a,l,u),32!=(32&u.flags)&&$h(s,i,l,u),0===function b4(){return se.lFrame.elementDepthCount}()&&on(l,i),function T4(){se.lFrame.elementDepthCount++}(),c&&(F_(s,i,u),O_(s,u,i)),null!==r&&L_(i,u),H}function z(){let n=Gt();Sy()?Ay():(n=n.parent,Wr(n,!1));const e=n;!function D4(){se.lFrame.elementDepthCount--}();const t=we();return t.firstCreatePass&&(Sh(t,n),Ty(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function G4(n){return 0!=(8&n.flags)}(e)&&W_(t,e,D(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function H4(n){return 0!=(16&n.flags)}(e)&&W_(t,e,D(),e.stylesWithoutHost,!1),z}function un(n,e,t,r){return H(n,e,t,r),z(),un}function $a(n,e,t){const r=D(),i=we(),s=n+je,o=i.firstCreatePass?function xW(n,e,t,r,i){const s=e.consts,o=ss(s,r),a=Na(e,n,8,"ng-container",o);return null!==o&&nf(a,o,!0),U_(e,t,a,ss(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,r,e,t):i.data[s];Wr(o,!0);const a=r[s]=r[he].createComment("");return $h(i,r,a,o),on(a,r),Th(o)&&(F_(i,r,o),O_(i,o,r)),null!=t&&L_(r,o),$a}function ja(){let n=Gt();const e=we();return Sy()?Ay():(n=n.parent,Wr(n,!1)),e.firstCreatePass&&(Sh(e,n),Ty(n)&&e.queries.elementEnd(n)),ja}function uf(){return D()}function Bl(n){return!!n&&"function"==typeof n.then}function cN(n){return!!n&&"function"==typeof n.subscribe}const K_=cN;function ke(n,e,t,r){const i=D(),s=we(),o=Gt();return function hN(n,e,t,r,i,s,o){const a=Th(r),l=n.firstCreatePass&&z1(n),c=e[lt],d=H1(e);let h=!0;if(3&r.type||o){const g=Xn(r,e),m=o?o(g):g,_=d.length,I=o?A=>o(jt(A[r.index])):r.index;let v=null;if(!o&&a&&(v=function NW(n,e,t,r){const i=n.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===t&&i[s+1]===r){const a=e[ua],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(n,e,i,r.index)),null!==v)(v.__ngLastListenerFn__||v).__ngNextListenerFn__=s,v.__ngLastListenerFn__=s,h=!1;else{s=pN(r,e,c,s,!1);const A=t.listen(m,i,s);d.push(s,A),l&&l.push(i,I,_,_+1)}}else s=pN(r,e,c,s,!1);const f=r.outputs;let p;if(h&&null!==f&&(p=f[i])){const g=p.length;if(g)for(let m=0;m<g;m+=2){const L=e[p[m]][p[m+1]].subscribe(s),V=d.length;d.push(s,L),l&&l.push(i,r.index,V,-(V+1))}}}(s,i,i[he],o,n,e,r),ke}function fN(n,e,t,r){try{return pr(6,e,t),!1!==t(r)}catch(i){return W1(n,i),!1}finally{pr(7,e,t)}}function pN(n,e,t,r,i){return function s(o){if(o===Function)return r;ef(n.componentOffset>-1?Ln(n.index,e):e);let u=fN(e,t,r,o),l=s.__ngNextListenerFn__;for(;l;)u=fN(e,t,l,o)&&u,l=l.__ngNextListenerFn__;return i&&!1===u&&(o.preventDefault(),o.returnValue=!1),u}}function zt(n=1){return function R4(n){return(se.lFrame.contextLView=function P4(n,e){for(;n>0;)e=e[la],n--;return e}(n,se.lFrame.contextLView))[lt]}(n)}function lf(n,e){return n<<17|e<<2}function os(n){return n>>17&32767}function Y_(n){return 2|n}function ro(n){return(131068&n)>>2}function X_(n,e){return-131069&n|e<<2}function J_(n){return 1|n}function TN(n,e,t,r,i){const s=n[t+1],o=null===e;let a=r?os(s):ro(s),u=!1;for(;0!==a&&(!1===u||o);){const c=n[a+1];BW(n[a],e)&&(u=!0,n[a+1]=r?J_(c):Y_(c)),a=r?os(c):ro(c)}u&&(n[t+1]=r?Y_(s):J_(s))}function BW(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&wa(n,e)>=0}const St={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function DN(n){return n.substring(St.key,St.keyEnd)}function CN(n,e){const t=St.textEnd;return t===e?-1:(e=St.keyEnd=function HW(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}(n,St.key=e,t),Ga(n,e,t))}function Ga(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function Ha(n,e,t){return Nr(n,e,t,!1),Ha}function cf(n,e){return Nr(n,e,null,!0),cf}function Ni(n){!function kr(n,e,t,r){const i=we(),s=Di(2);i.firstUpdatePass&&kN(i,null,s,r);const o=D();if(t!==oe&&an(o,s,t)){const a=i.data[bn()];if(FN(a,r)&&!NN(i,s)){let u=r?a.classesWithoutHost:a.stylesWithoutHost;null!==u&&(t=fy(u,t||"")),W_(i,a,o,t,r)}else!function e5(n,e,t,r,i,s,o,a){i===oe&&(i=De);let u=0,l=0,c=0<i.length?i[0]:null,d=0<s.length?s[0]:null;for(;null!==c||null!==d;){const h=u<i.length?i[u+1]:void 0,f=l<s.length?s[l+1]:void 0;let g,p=null;c===d?(u+=2,l+=2,h!==f&&(p=d,g=f)):null===d||null!==c&&c<d?(u+=2,p=c):(l+=2,p=d,g=f),null!==p&&PN(n,e,t,r,p,g,o,a),c=u<i.length?i[u]:null,d=l<s.length?s[l]:null}}(i,a,o,o[he],o[s+1],o[s+1]=function JW(n,e,t){if(null==t||""===t)return De;const r=[],i=Zn(t);if(Array.isArray(i))for(let s=0;s<i.length;s++)n(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&n(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(n,e,t),r,s)}}(ZW,Zr,n,!0)}function Zr(n,e){for(let t=function jW(n){return function AN(n){St.key=0,St.keyEnd=0,St.value=0,St.valueEnd=0,St.textEnd=n.length}(n),CN(n,Ga(n,0,St.textEnd))}(e);t>=0;t=CN(e,t))Jn(n,DN(e),!0)}function Nr(n,e,t,r){const i=D(),s=we(),o=Di(2);s.firstUpdatePass&&kN(s,n,o,r),e!==oe&&an(i,o,e)&&PN(s,s.data[bn()],i,i[he],n,i[o+1]=function t5(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=Le(Zn(n)))),n}(e,t),r,o)}function NN(n,e){return e>=n.expandoStartIndex}function kN(n,e,t,r){const i=n.data;if(null===i[t+1]){const s=i[bn()],o=NN(n,t);FN(s,r)&&null===e&&!o&&(e=!1),e=function KW(n,e,t,r){const i=xy(n);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=$l(t=Z_(null,n,e,t,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||n[o]!==i)if(t=Z_(i,n,e,t,r),null===s){let u=function QW(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==ro(r))return n[os(r)]}(n,e,r);void 0!==u&&Array.isArray(u)&&(u=Z_(null,n,e,u[1],r),u=$l(u,e.attrs,r),function YW(n,e,t,r){n[os(t?e.classBindings:e.styleBindings)]=r}(n,e,r,u))}else s=function XW(n,e,t){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=$l(r,n[s].hostAttrs,t);return $l(r,e.attrs,t)}(n,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),t}(i,s,e,r),function VW(n,e,t,r,i,s){let o=s?e.classBindings:e.styleBindings,a=os(o),u=ro(o);n[r]=t;let c,l=!1;if(Array.isArray(t)?(c=t[1],(null===c||wa(t,c)>0)&&(l=!0)):c=t,i)if(0!==u){const h=os(n[a+1]);n[r+1]=lf(h,a),0!==h&&(n[h+1]=X_(n[h+1],r)),n[a+1]=function FW(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=lf(a,0),0!==a&&(n[a+1]=X_(n[a+1],r)),a=r;else n[r+1]=lf(u,0),0===a?a=r:n[u+1]=X_(n[u+1],r),u=r;l&&(n[r+1]=Y_(n[r+1])),TN(n,c,r,!0),TN(n,c,r,!1),function UW(n,e,t,r,i){const s=i?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&wa(s,e)>=0&&(t[r+1]=J_(t[r+1]))}(e,c,n,r,s),o=lf(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,t,o,r)}}function Z_(n,e,t,r,i){let s=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(s=e[a],r=$l(r,s.hostAttrs,i),s!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function $l(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Jn(n,o,!!t||e[++s]))}return void 0===n?null:n}function ZW(n,e,t){const r=String(e);""!==r&&!r.includes(" ")&&Jn(n,r,t)}function PN(n,e,t,r,i,s,o,a){if(!(3&e.type))return;const u=n.data,l=u[a+1],c=function LW(n){return 1==(1&n)}(l)?ON(u,e,t,i,ro(l),o):void 0;df(c)||(df(s)||function OW(n){return 2==(2&n)}(l)&&(s=ON(u,null,t,i,a,o)),function Y3(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let s=-1===r.indexOf("-")?void 0:Vn.DashCase;null==i?n.removeStyle(t,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Vn.Important),n.setStyle(t,r,i,s))}}(r,o,Dh(bn(),t),i,s))}function ON(n,e,t,r,i,s){const o=null===e;let a;for(;i>0;){const u=n[i],l=Array.isArray(u),c=l?u[1]:u,d=null===c;let h=t[i+1];h===oe&&(h=d?De:void 0);let f=d?Hy(h,r):c===r?h:void 0;if(l&&!df(f)&&(f=Hy(u,r)),df(f)&&(a=f,o))return a;const p=n[i+1];i=o?os(p):ro(p)}if(null!==e){let u=s?e.residualClasses:e.residualStyles;null!=u&&(a=Hy(u,r))}return a}function df(n){return void 0!==n}function FN(n,e){return 0!=(n.flags&(e?8:16))}function ae(n,e=""){const t=D(),r=we(),i=n+je,s=r.firstCreatePass?Na(r,i,1,e,null):r.data[i],o=t[i]=function r_(n,e){return n.createText(e)}(t[he],e);$h(r,t,o,s),Wr(s,!1)}function as(n){return Rr("",n,""),as}function Rr(n,e,t){const r=D(),i=function Ra(n,e,t,r){return an(n,fa(),t)?e+ie(t)+r:oe}(r,n,e,t);return i!==oe&&xi(r,bn(),i),Rr}function ev(n,e,t,r,i){const s=D(),o=Pa(s,n,e,t,r,i);return o!==oe&&xi(s,bn(),o),ev}function tv(n,e,t){const r=D();if(an(r,fa(),e)){const s=we(),o=Xe();tr(s,o,r,n,e,function q1(n,e,t){return(null===n||Mr(n))&&(t=function v4(n){for(;Array.isArray(n);){if("object"==typeof n[by])return n;n=n[bi]}return null}(t[e.index])),t[he]}(xy(s.data),o,r),t,!0)}return tv}const qa="en-US";let nk=qa;function iv(n,e,t,r,i){if(n=Q(n),Array.isArray(n))for(let s=0;s<n.length;s++)iv(n[s],e,t,r,i);else{const s=we(),o=D();let a=to(n)?n:Q(n.provide),u=h1(n);const l=Gt(),c=1048575&l.providerIndexes,d=l.directiveStart,h=l.providerIndexes>>20;if(to(n)||!n.multi){const f=new Il(u,i,T),p=ov(a,e,i?c:c+h,d);-1===p?(By(Rh(l,o),s,a),sv(s,n,e.length),e.push(a),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),t.push(f),o.push(f)):(t[p]=f,o[p]=f)}else{const f=ov(a,e,c+h,d),p=ov(a,e,c,c+h),m=p>=0&&t[p];if(i&&!m||!i&&!(f>=0&&t[f])){By(Rh(l,o),s,a);const _=function v9(n,e,t,r,i){const s=new Il(n,t,T);return s.multi=[],s.index=e,s.componentProviders=0,Sk(s,i,r&&!t),s}(i?_9:y9,t.length,i,r,u);!i&&m&&(t[p].providerFactory=_),sv(s,n,e.length,0),e.push(a),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),t.push(_),o.push(_)}else sv(s,n,f>-1?f:p,Sk(t[i?p:f],u,!i&&r));!i&&r&&m&&t[p].componentProviders++}}}function sv(n,e,t,r){const i=to(e),s=function xq(n){return!!n.useClass}(e);if(i||s){const u=(s?Q(e.useClass):e).prototype.ngOnDestroy;if(u){const l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const c=l.indexOf(t);-1===c?l.push(t,[r,u]):l[c+1].push(r,u)}else l.push(t,u)}}}function Sk(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function ov(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function y9(n,e,t,r){return av(this.multi,[])}function _9(n,e,t,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Xs(t,t[O],this.providerFactory.index,r);s=a.slice(0,o),av(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],av(i,s);return s}function av(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function Qe(n,e=[]){return t=>{t.providersResolver=(r,i)=>function m9(n,e,t){const r=we();if(r.firstCreatePass){const i=Mr(n);iv(t,r.data,r.blueprint,i,!0),iv(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class Wa{}class Ak{}class Mk extends Wa{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new K1(this);const r=Qn(e);this._bootstrapComponents=Mi(r.bootstrap),this._r3Injector=S1(e,t,[{provide:Wa,useValue:this},{provide:Da,useValue:this.componentFactoryResolver}],Le(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class uv extends Ak{constructor(e){super(),this.moduleType=e}create(e){return new Mk(this.moduleType,e)}}class E9 extends Wa{constructor(e,t,r){super(),this.componentFactoryResolver=new K1(this),this.instance=null;const i=new d1([...e,{provide:Wa,useValue:this},{provide:Da,useValue:this.componentFactoryResolver}],t||Qh(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function mf(n,e,t=null){return new E9(n,e,t).injector}let I9=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t.id)){const r=a1(0,t.type),i=r.length>0?mf([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t.id,i)}return this.cachedInjectors.get(t.id)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=B({token:n,providedIn:"environment",factory:()=>new n(P(Si))}),n})();function yf(n){n.getStandaloneInjector=e=>e.get(I9).getOrCreateStandaloneInjector(n)}function so(n,e,t,r){return Fk(D(),In(),n,e,t,r)}function Wl(n,e){const t=n[e];return t===oe?void 0:t}function Fk(n,e,t,r,i,s){const o=e+t;return an(n,o,i)?Xr(n,o+1,s?r.call(s,i):r(i)):Wl(n,o+1)}function cv(n,e){const t=we();let r;const i=n+je;t.firstCreatePass?(r=function B9(n,e){if(e)for(let t=e.length-1;t>=0;t--){const r=e[t];if(n===r.name)return r}}(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??(t.destroyHooks=[])).push(i,r.onDestroy)):r=t.data[i];const s=r.factory||(r.factory=Qs(r.type)),o=hr(T);try{const a=kh(!1),u=s();return kh(a),function SW(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}(t,D(),i,u),u}finally{hr(o)}}function jk(n,e,t,r){const i=n+je,s=D(),o=ha(s,i);return Kl(s,i)?function Lk(n,e,t,r,i,s,o){const a=e+t;return no(n,a,i,s)?Xr(n,a+2,o?r.call(o,i,s):r(i,s)):Wl(n,a+2)}(s,In(),e,o.transform,t,r,o):o.transform(t,r)}function Kl(n,e){return n[O].data[e].pure}function dv(n){return e=>{setTimeout(n,void 0,e)}}const Je=class H9 extends tn{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){let i=e,s=t||(()=>null),o=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=dv(s),i&&(i=dv(i)),o&&(o=dv(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof Wn&&e.add(a),a}};let ki=(()=>{class n{}return n.__NG_ELEMENT_ID__=K9,n})();const q9=ki,W9=class extends q9{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}createEmbeddedView(e,t){const r=this._declarationTContainer.tView,i=Xh(this._declarationLView,r,e,16,null,r.declTNode,null,null,null,null,t||null);i[ml]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[qr];return null!==o&&(i[qr]=o.createEmbeddedView(r)),P_(r,i,e),new Ll(i)}};function K9(){return function _f(n,e){return 4&n.type?new W9(e,n,Ca(n,e)):null}(Gt(),D())}let Pr=(()=>{class n{}return n.__NG_ELEMENT_ID__=Q9,n})();function Q9(){return function zk(n,e){let t;const r=e[n.index];if(Ar(r))t=r;else{let i;if(8&n.type)i=jt(r);else{const s=e[he];i=s.createComment("");const o=Xn(n,e);Zs(s,Bh(s,o),i,function W3(n,e){return n.nextSibling(e)}(s,o),!1)}e[n.index]=t=G1(r,e,i,n),Zh(e,t)}return new Gk(t,n,e)}(Gt(),D())}const Y9=Pr,Gk=class extends Y9{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Ca(this._hostTNode,this._hostLView)}get injector(){return new ga(this._hostTNode,this._hostLView)}get parentInjector(){const e=Uy(this._hostTNode,this._hostLView);if(YM(e)){const t=Nh(e,this._hostLView),r=xh(e);return new ga(t[O].data[r+8],t)}return new ga(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=Hk(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-En}createEmbeddedView(e,t,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const o=e.createEmbeddedView(t||{},s);return this.insert(o,i),o}createComponent(e,t,r,i,s){const o=e&&!function Dl(n){return"function"==typeof n}(e);let a;if(o)a=t;else{const d=t||{};a=d.index,r=d.injector,i=d.projectableNodes,s=d.environmentInjector||d.ngModuleRef}const u=o?e:new Vl(Ae(e)),l=r||this.parentInjector;if(!s&&null==u.ngModule){const h=(o?l:this.parentInjector).get(Si,null);h&&(s=h)}const c=u.create(l,i,void 0,s);return this.insert(c.hostView,a),c}insert(e,t){const r=e._lView,i=r[O];if(function I4(n){return Ar(n[rt])}(r)){const c=this.indexOf(e);if(-1!==c)this.detach(c);else{const d=r[rt],h=new Gk(d,d[rn],d[rt]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(t),o=this._lContainer;!function j3(n,e,t,r){const i=En+r,s=t.length;r>0&&(t[i-1][Sr]=e),r<s-En?(e[Sr]=t[i],ux(t,En+r,e)):(t.push(e),e[Sr]=null),e[rt]=t;const o=e[ml];null!==o&&t!==o&&function G3(n,e){const t=n[da];e[sn]!==e[rt][rt][sn]&&(n[TM]=!0),null===t?n[da]=[e]:t.push(e)}(o,e);const a=e[qr];null!==a&&a.insertView(n),e[ce]|=64}(i,r,o,s);const a=u_(s,o),u=r[he],l=Bh(u,o[Ih]);return null!==l&&function U3(n,e,t,r,i,s){r[bi]=i,r[rn]=e,kl(n,r,t,1,i,s)}(i,o[rn],u,r,l,a),e.attachToViewContainerRef(),ux(fv(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=Hk(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=s_(this._lContainer,t);r&&(Fh(fv(this._lContainer),t),kx(r[O],r))}detach(e){const t=this._adjustIndex(e,-1),r=s_(this._lContainer,t);return r&&null!=Fh(fv(this._lContainer),t)?new Ll(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function Hk(n){return n[bh]}function fv(n){return n[bh]||(n[bh]=[])}function wf(...n){}const Ef=new $("Application Initializer");let If=(()=>{class n{constructor(t){this.appInits=t,this.resolve=wf,this.reject=wf,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(Bl(s))t.push(s);else if(K_(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});t.push(o)}}Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(P(Ef,8))},n.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Yl=new $("AppId",{providedIn:"root",factory:function yR(){return`${Tv()}${Tv()}${Tv()}`}});function Tv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const _R=new $("Platform Initializer"),bf=new $("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),vR=new $("AnimationModuleType");let T7=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Ri=new $("LocaleId",{providedIn:"root",factory:()=>X(Ri,Y.Optional|Y.SkipSelf)||function D7(){return typeof $localize<"u"&&$localize.locale||qa}()});class S7{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let wR=(()=>{class n{compileModuleSync(t){return new uv(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),s=Mi(Qn(t).declarations).reduce((o,a)=>{const u=Ae(a);return u&&o.push(new Vl(u)),o},[]);return new S7(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const x7=(()=>Promise.resolve(0))();function Dv(n){typeof Zone>"u"?x7.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Re{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Je(!1),this.onMicrotaskEmpty=new Je(!1),this.onStable=new Je(!1),this.onError=new Je(!1),typeof Zone>"u")throw new b(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function N7(){let n=$e.requestAnimationFrame,e=$e.cancelAnimationFrame;if(typeof Zone<"u"&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function P7(n){const e=()=>{!function R7(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call($e,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Sv(n),n.isCheckStableRunning=!0,Cv(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Sv(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,s,o,a)=>{try{return bR(n),t.invokeTask(i,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),TR(n)}},onInvoke:(t,r,i,s,o,a,u)=>{try{return bR(n),t.invoke(i,s,o,a,u)}finally{n.shouldCoalesceRunChangeDetection&&e(),TR(n)}},onHasTask:(t,r,i,s)=>{t.hasTask(i,s),r===i&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,Sv(n),Cv(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,r,i,s)=>(t.handleError(i,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Re.isInAngularZone())throw new b(909,!1)}static assertNotInAngularZone(){if(Re.isInAngularZone())throw new b(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,k7,wf,wf);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const k7={};function Cv(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Sv(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function bR(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function TR(n){n._nesting--,Cv(n)}class O7{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Je,this.onMicrotaskEmpty=new Je,this.onStable=new Je,this.onError=new Je}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}const DR=new $(""),Tf=new $("");let xv,Av=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,xv||(function F7(n){xv=n}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Re.assertNotInAngularZone(),Dv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Dv(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}}return n.\u0275fac=function(t){return new(t||n)(P(Re),P(Mv),P(Tf))},n.\u0275prov=B({token:n,factory:n.\u0275fac}),n})(),Mv=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return xv?.findTestabilityInTree(this,t,r)??null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Pi=!1;let us=null;const CR=new $("AllowMultipleToken"),Nv=new $("PlatformDestroyListeners"),SR=new $("appBootstrapListener");class AR{constructor(e,t){this.name=e,this.token=t}}function xR(n,e,t=[]){const r=`Platform: ${e}`,i=new $(r);return(s=[])=>{let o=kv();if(!o||o.injector.get(CR,!1)){const a=[...t,...s,{provide:i,useValue:!0}];n?n(a):function U7(n){if(us&&!us.get(CR,!1))throw new b(400,!1);us=n;const e=n.get(kR);(function MR(n){const e=n.get(_R,null);e&&e.forEach(t=>t())})(n)}(function NR(n=[],e){return Dn.create({name:e,providers:[{provide:I_,useValue:"platform"},{provide:Nv,useValue:new Set([()=>us=null])},...n]})}(a,r))}return function $7(n){const e=kv();if(!e)throw new b(401,!1);return e}()}}function kv(){return us?.get(kR)??null}let kR=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function PR(n,e){let t;return t="noop"===n?new O7:("zone.js"===n?void 0:n)||new Re(e),t}(r?.ngZone,function RR(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(r)),s=[{provide:Re,useValue:i}];return i.run(()=>{const o=Dn.create({providers:s,parent:this.injector,name:t.moduleType.name}),a=t.create(o),u=a.injector.get(Aa,null);if(!u)throw new b(402,!1);return i.runOutsideAngular(()=>{const l=i.onError.subscribe({next:c=>{u.handleError(c)}});a.onDestroy(()=>{Df(this._modules,a),l.unsubscribe()})}),function OR(n,e,t){try{const r=t();return Bl(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(u,i,()=>{const l=a.injector.get(If);return l.runInitializers(),l.donePromise.then(()=>(function rk(n){dr(n,"Expected localeId to be defined"),"string"==typeof n&&(nk=n.toLowerCase().replace(/_/g,"-"))}(a.injector.get(Ri,qa)||qa),this._moduleDoBootstrap(a),a))})})}bootstrapModule(t,r=[]){const i=FR({},r);return function L7(n,e,t){const r=new uv(t);return Promise.resolve(r)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(t){const r=t.injector.get(oo);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new b(-403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new b(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(Nv,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(P(Dn))},n.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function FR(n,e){return Array.isArray(e)?e.reduce(FR,n):{...n,...e}}let oo=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(t,r,i){this._zone=t,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new We(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),o=new We(a=>{let u;this._zone.runOutsideAngular(()=>{u=this._zone.onStable.subscribe(()=>{Re.assertNotInAngularZone(),Dv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const l=this._zone.onUnstable.subscribe(()=>{Re.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{u.unsubscribe(),l.unsubscribe()}});this.isStable=function $z(...n){const e=cl(n),t=function Pz(n,e){return"number"==typeof cy(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?cr(r[0]):sa(t)(yt(r,e)):Hr}(s,o.pipe(function jz(n={}){const{connector:e=(()=>new tn),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return s=>{let o,a,u,l=0,c=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=u=void 0,c=d=!1},p=()=>{const g=o;f(),g?.unsubscribe()};return kt((g,m)=>{l++,!d&&!c&&h();const _=u=u??e();m.add(()=>{l--,0===l&&!d&&!c&&(a=dy(p,i))}),_.subscribe(m),!o&&l>0&&(o=new ll({next:I=>_.next(I),error:I=>{d=!0,h(),a=dy(f,t,I),_.error(I)},complete:()=>{c=!0,h(),a=dy(f,r),_.complete()}}),cr(g).subscribe(o))})(s)}}()))}bootstrap(t,r){const i=t instanceof f1;if(!this._injector.get(If).done){!i&&function aa(n){const e=Ae(n)||nn(n)||Fn(n);return null!==e&&e.standalone}(t);throw new b(405,Pi)}let o;o=i?t:this._injector.get(Da).resolveComponentFactory(t),this.componentTypes.push(o.componentType);const a=function V7(n){return n.isBoundToModule}(o)?void 0:this._injector.get(Wa),l=o.create(Dn.NULL,[],r||o.selector,a),c=l.location.nativeElement,d=l.injector.get(DR,null);return d?.registerApplication(c),l.onDestroy(()=>{this.detachView(l.hostView),Df(this.components,l),d?.unregisterApplication(c)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new b(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;Df(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(SR,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Df(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new b(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(t){return new(t||n)(P(Re),P(Si),P(Aa))},n.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Df(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let Xl=(()=>{class n{}return n.__NG_ELEMENT_ID__=G7,n})();function G7(n){return function H7(n,e,t){if(_l(n)&&!t){const r=Ln(n.index,e);return new Ll(r,r)}return 47&n.type?new Ll(e[sn],e):null}(Gt(),D(),16==(16&n))}class $R{constructor(){}supports(e){return sf(e)}create(e){return new Y7(e)}}const Q7=(n,e)=>e;class Y7{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Q7}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){const o=!r||t&&t.currentIndex<GR(r,i,s)?t:r,a=GR(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(t=t._next,null==o.previousIndex)i++;else{s||(s=[]);const l=a-i,c=u-i;if(l!=c){for(let h=0;h<l;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;c<=p&&p<l&&(s[h]=f+1)}s[o.previousIndex]=c-l}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!sf(e))throw new b(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,o,a),r=!0),t=t._next}else i=0,function bW(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Symbol.iterator]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,a,o,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,o,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):e=this._addAfter(new X7(t,r),s,i),e}_verifyReinsertion(e,t,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new jR),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new jR),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class X7{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class J7{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class jR{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new J7,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function GR(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}class HR{constructor(){}supports(e){return e instanceof Map||q_(e)}create(){return new Z7}}class Z7{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||q_(e)))throw new b(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const s=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,t);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new e8(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}}class e8{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function zR(){return new Af([new $R])}let Af=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||zR()),deps:[[n,new Sl,new Tn]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new b(901,!1)}}return n.\u0275prov=B({token:n,providedIn:"root",factory:zR}),n})();function qR(){return new Jl([new HR])}let Jl=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||qR()),deps:[[n,new Sl,new Tn]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(r)return r;throw new b(901,!1)}}return n.\u0275prov=B({token:n,providedIn:"root",factory:qR}),n})();const r8=xR(null,"core",[]);let i8=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(P(oo))},n.\u0275mod=On({type:n}),n.\u0275inj=vn({}),n})();function Ya(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let Lv=null;function Oi(){return Lv}class a8{}const _t=new $("DocumentToken");let Vv=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=B({token:n,factory:function(){return function u8(){return P(WR)}()},providedIn:"platform"}),n})();const l8=new $("Location Initialized");let WR=(()=>{class n extends Vv{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Oi().getBaseHref(this._doc)}onPopState(t){const r=Oi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=Oi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){KR()?this._history.pushState(t,r,i):this._location.hash=i}replaceState(t,r,i){KR()?this._history.replaceState(t,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(P(_t))},n.\u0275prov=B({token:n,factory:function(){return function c8(){return new WR(P(_t))}()},providedIn:"platform"}),n})();function KR(){return!!window.history.pushState}function Uv(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function QR(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Fi(n){return n&&"?"!==n[0]?"?"+n:n}let uo=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=B({token:n,factory:function(){return X(XR)},providedIn:"root"}),n})();const YR=new $("appBaseHref");let XR=(()=>{class n extends uo{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??X(_t).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Uv(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Fi(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const o=this.prepareExternalUrl(i+Fi(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){const o=this.prepareExternalUrl(i+Fi(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(P(Vv),P(YR,8))},n.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),d8=(()=>{class n extends uo{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Uv(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+Fi(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+Fi(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(P(Vv),P(YR,8))},n.\u0275prov=B({token:n,factory:n.\u0275fac}),n})(),Bv=(()=>{class n{constructor(t){this._subject=new Je,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function p8(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(QR(JR(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Fi(r))}normalize(t){return n.stripTrailingSlash(function f8(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,JR(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Fi(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Fi(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=Fi,n.joinWithSlash=Uv,n.stripTrailingSlash=QR,n.\u0275fac=function(t){return new(t||n)(P(uo))},n.\u0275prov=B({token:n,factory:function(){return function h8(){return new Bv(P(uo))}()},providedIn:"root"}),n})();function JR(n){return n.replace(/\/index.html$/,"")}const Yv=/\s+/,aP=[];let Xv=(()=>{class n{constructor(t,r,i,s){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=s,this.initialClasses=aP,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(Yv):aP}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(Yv):t}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const r of t)this._updateState(r,!0);else if(null!=t)for(const r of Object.keys(t))this._updateState(r,Boolean(t[r]));this._applyStateDiff()}_updateState(t,r){const i=this.stateMap.get(t);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){(t=t.trim()).length>0&&t.split(Yv).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(T(Af),T(Jl),T(er),T(Ai))},n.\u0275dir=ee({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class Z8{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Jv=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new Z8(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),cP(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{cP(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(T(Pr),T(ki),T(Af))},n.\u0275dir=ee({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function cP(n,e){n.context.$implicit=e.item}let tc=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new tK,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){dP("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){dP("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(T(Pr),T(ki))},n.\u0275dir=ee({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class tK{constructor(){this.$implicit=null,this.ngIf=null}}function dP(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Le(e)}'.`)}let tw=(()=>{class n{constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){const[i,s]=t.split("."),o=-1===i.indexOf("-")?void 0:Vn.DashCase;null!=r?this._renderer.setStyle(this._ngEl.nativeElement,i,s?`${r}${s}`:r,o):this._renderer.removeStyle(this._ngEl.nativeElement,i,o)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return n.\u0275fac=function(t){return new(t||n)(T(er),T(Jl),T(Ai))},n.\u0275dir=ee({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n})();class sK{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}}class oK{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}}const aK=new oK,uK=new sK;let fP=(()=>{class n{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if(Bl(t))return aK;if(cN(t))return uK;throw function Lr(n,e){return new b(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(T(Xl,16))},n.\u0275pipe=wn({name:"async",type:n,pure:!1,standalone:!0}),n})(),CK=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=On({type:n}),n.\u0275inj=vn({}),n})();let xK=(()=>{class n{}return n.\u0275prov=B({token:n,providedIn:"root",factory:()=>new NK(P(_t),window)}),n})();class NK{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function kK(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=mP(this.window.history)||mP(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function mP(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class oQ extends a8{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ow extends oQ{static makeCurrent(){!function o8(n){Lv||(Lv=n)}(new ow)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function aQ(){return rc=rc||document.querySelector("base"),rc?rc.getAttribute("href"):null}();return null==t?null:function uQ(n){Bf=Bf||document.createElement("a"),Bf.setAttribute("href",n);const e=Bf.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){rc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function X8(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let Bf,rc=null;const EP=new $("TRANSITION_ID"),cQ=[{provide:Ef,useFactory:function lQ(n,e,t){return()=>{t.get(If).donePromise.then(()=>{const r=Oi(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[EP,_t,Dn],multi:!0}];let hQ=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=B({token:n,factory:n.\u0275fac}),n})();const $f=new $("EventManagerPlugins");let jf=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(t))return this._eventNameToPlugin.set(t,o),o}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(P($f),P(Re))},n.\u0275prov=B({token:n,factory:n.\u0275fac}),n})();class IP{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=Oi().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let bP=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)0===this.changeUsageCount(r,-1)&&this.onStyleRemoved(r)}onStyleRemoved(t){}onStyleAdded(t){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(t,r){const i=this.usageCount;let s=i.get(t)??0;return s+=r,s>0?i.set(t,s):i.delete(t),s}ngOnDestroy(){for(const t of this.getAllStyles())this.onStyleRemoved(t);this.usageCount.clear()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=B({token:n,factory:n.\u0275fac}),n})(),ic=(()=>{class n extends bP{constructor(t){super(),this.doc=t,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.forEach(s=>s.remove()),r.delete(t)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}addStyleToHost(t,r){const i=this.doc.createElement("style");i.textContent=r,t.appendChild(i);const s=this.styleRef.get(r);s?s.push(i):this.styleRef.set(r,[i])}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(P(_t))},n.\u0275prov=B({token:n,factory:n.\u0275fac}),n})();const aw={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},uw=/%COMP%/g,CP=new $("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function SP(n,e){return e.flat(100).map(t=>t.replace(uw,n))}function AP(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Gf=(()=>{class n{constructor(t,r,i,s){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestory=s,this.rendererByCompId=new Map,this.defaultRenderer=new lw(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;const i=this.getOrCreateRenderer(t,r);return i instanceof NP?i.applyToHost(t):i instanceof cw&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.eventManager,a=this.sharedStylesHost,u=this.removeStylesOnCompDestory;switch(r.encapsulation){case Dr.Emulated:s=new NP(o,a,r,this.appId,u);break;case Dr.ShadowDom:return new vQ(o,a,t,r);default:s=new cw(o,a,r,u)}s.onDestroy=()=>i.delete(r.id),i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(P(jf),P(ic),P(Yl),P(CP))},n.\u0275prov=B({token:n,factory:n.\u0275fac}),n})();class lw{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(aw[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(xP(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(xP(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=aw[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=aw[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Vn.DashCase|Vn.Important)?e.style.setProperty(t,r,i&Vn.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Vn.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,AP(r)):this.eventManager.addEventListener(e,t,AP(r))}}function xP(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class vQ extends lw{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=SP(i.id,i.styles);for(const o of s){const a=document.createElement("style");a.textContent=o,this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class cw extends lw{constructor(e,t,r,i,s=r.id){super(e),this.sharedStylesHost=t,this.removeStylesOnCompDestory=i,this.rendererUsageCount=0,this.styles=SP(s,r.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class NP extends cw{constructor(e,t,r,i,s){const o=i+"-"+r.id;super(e,t,r,s,o),this.contentAttr=function mQ(n){return"_ngcontent-%COMP%".replace(uw,n)}(o),this.hostAttr=function yQ(n){return"_nghost-%COMP%".replace(uw,n)}(o)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let wQ=(()=>{class n extends IP{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(P(_t))},n.\u0275prov=B({token:n,factory:n.\u0275fac}),n})();const kP=["alt","control","meta","shift"],EQ={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},IQ={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let bQ=(()=>{class n extends IP{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Oi().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),kP.forEach(l=>{const c=r.indexOf(l);c>-1&&(r.splice(c,1),o+=l+".")}),o+=s,0!=r.length||0===s.length)return null;const u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(t,r){let i=EQ[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),kP.forEach(o=>{o!==i&&(0,IQ[o])(t)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(P(_t))},n.\u0275prov=B({token:n,factory:n.\u0275fac}),n})();const PP=[{provide:bf,useValue:"browser"},{provide:_R,useValue:function TQ(){ow.makeCurrent()},multi:!0},{provide:_t,useFactory:function CQ(){return function tq(n){h_=n}(document),document},deps:[]}],SQ=xR(r8,"browser",PP),OP=new $(""),FP=[{provide:Tf,useClass:class dQ{addToWindow(e){$e.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},$e.getAllAngularTestabilities=()=>e.getAllTestabilities(),$e.getAllAngularRootElements=()=>e.getAllRootElements(),$e.frameworkStabilizers||($e.frameworkStabilizers=[]),$e.frameworkStabilizers.push(r=>{const i=$e.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?Oi().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:DR,useClass:Av,deps:[Re,Mv,Tf]},{provide:Av,useClass:Av,deps:[Re,Mv,Tf]}],LP=[{provide:I_,useValue:"root"},{provide:Aa,useFactory:function DQ(){return new Aa},deps:[]},{provide:$f,useClass:wQ,multi:!0,deps:[_t,Re,bf]},{provide:$f,useClass:bQ,multi:!0,deps:[_t]},{provide:Gf,useClass:Gf,deps:[jf,ic,Yl,CP]},{provide:Ol,useExisting:Gf},{provide:bP,useExisting:ic},{provide:ic,useClass:ic,deps:[_t]},{provide:jf,useClass:jf,deps:[$f,Re]},{provide:class RK{},useClass:hQ,deps:[]},[]];let VP=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:Yl,useValue:t.appId},{provide:EP,useExisting:Yl},cQ]}}}return n.\u0275fac=function(t){return new(t||n)(P(OP,12))},n.\u0275mod=On({type:n}),n.\u0275inj=vn({providers:[...LP,...FP],imports:[CK,i8]}),n})(),UP=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(P(_t))},n.\u0275prov=B({token:n,factory:function(t){let r=null;return r=t?new t:function MQ(){return new UP(P(_t))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;let jP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=B({token:n,factory:function(t){let r=null;return r=t?new(t||n):P(GP),r},providedIn:"root"}),n})(),GP=(()=>{class n extends jP{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case Oe.NONE:return r;case Oe.HTML:return Qr(r,"HTML")?Zn(r):t1(this._doc,String(r)).toString();case Oe.STYLE:return Qr(r,"Style")?Zn(r):r;case Oe.SCRIPT:if(Qr(r,"Script"))return Zn(r);throw new Error("unsafe value used in a script context");case Oe.URL:return Qr(r,"URL")?Zn(r):zh(String(r));case Oe.RESOURCE_URL:if(Qr(r,"ResourceURL"))return Zn(r);throw new Error(`unsafe value used in a resource URL context (see ${dh})`);default:throw new Error(`Unexpected SecurityContext ${t} (see ${dh})`)}}bypassSecurityTrustHtml(t){return function uq(n){return new nq(n)}(t)}bypassSecurityTrustStyle(t){return function lq(n){return new rq(n)}(t)}bypassSecurityTrustScript(t){return function cq(n){return new iq(n)}(t)}bypassSecurityTrustUrl(t){return function dq(n){return new sq(n)}(t)}bypassSecurityTrustResourceUrl(t){return function hq(n){return new oq(n)}(t)}}return n.\u0275fac=function(t){return new(t||n)(P(_t))},n.\u0275prov=B({token:n,factory:function(t){let r=null;return r=t?new t:function PQ(n){return new GP(n.get(_t))}(P(Dn)),r},providedIn:"root"}),n})();function HP(n,e,t,r,i,s,o){try{var a=n[s](o),u=a.value}catch(l){return void t(l)}a.done?e(u):Promise.resolve(u).then(r,i)}function y(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var s=n.apply(e,t);function o(u){HP(s,r,i,o,a,"next",u)}function a(u){HP(s,r,i,o,a,"throw",u)}o(void 0)})}}const zP=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):55296==(64512&i)&&r+1<n.length&&56320==(64512&n.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&n.charCodeAt(++r)),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e},pw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],o=i+1<n.length,a=o?n[i+1]:0,u=i+2<n.length,l=u?n[i+2]:0;let h=(15&a)<<2|l>>6,f=63&l;u||(f=64,o||(h=64)),r.push(t[s>>2],t[(3&s)<<4|a>>4],t[h],t[f])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(zP(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=n[t++],o=n[t++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;const l=i<n.length?t[n.charAt(i)]:64;++i;const d=i<n.length?t[n.charAt(i)]:64;if(++i,null==s||null==a||null==l||null==d)throw new VQ;r.push(s<<2|a>>4),64!==l&&(r.push(a<<4&240|l>>2),64!==d&&r.push(l<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class VQ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Hf=function(n){return function(n){const e=zP(n);return pw.encodeByteArray(e,!0)}(n).replace(/\./g,"")},zf=function(n){try{return pw.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},qf=()=>{try{return function $Q(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const n=process.env.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&zf(n[1]);return e&&JSON.parse(e)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}},qQ=n=>{const e=(n=>{var e,t;return null===(t=null===(e=qf())||void 0===e?void 0:e.emulatorHosts)||void 0===t?void 0:t[n]})(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return"["===e[0]?[e.substring(1,t-1),r]:[e.substring(0,t),r]},WP=()=>{var n;return null===(n=qf())||void 0===n?void 0:n.config};class Wf{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}function nr(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function gw(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}function lo(){try{return"object"==typeof indexedDB}catch{return!1}}function sc(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(t){e(t)}})}function mw(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Vr extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Vr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ei.prototype.create)}}class ei{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function ZQ(n,e){return n.replace(eY,(t,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new Vr(i,`${this.serviceName}: ${o} (${i}).`,r)}}const eY=/\{\$([^}]+)}/g;function yw(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],o=e[i];if(QP(s)&&QP(o)){if(!yw(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function QP(n){return null!==n&&"object"==typeof n}function YP(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class nY{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(void 0===e&&void 0===t&&void 0===r)throw new Error("Missing Observer.");i=function rY(n,e){if("object"!=typeof n||null===n)return!1;for(const t of e)if(t in n&&"function"==typeof n[t])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:r},void 0===i.next&&(i.next=_w),void 0===i.error&&(i.error=_w),void 0===i.complete&&(i.complete=_w);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function _w(){}const iY=1e3,sY=2,oY=144e5,aY=.5;function ww(n,e=iY,t=sY){const r=e*Math.pow(t,n),i=Math.round(aY*r*(Math.random()-.5)*2);return Math.min(oY,r+i)}function An(n){return n&&n._delegate?n._delegate:n}class ln{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const co="[DEFAULT]";class lY{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new Wf;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(t=e?.optional)&&void 0!==t&&t;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function dY(n){return"EAGER"===n.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:co})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=co){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return y(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=co){return this.instances.has(e)}getOptions(e=co){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,n===co?void 0:n),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var n;return r||null}normalizeInstanceIdentifier(e=co){return this.component?this.component.multipleInstances?e:co:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class hY{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new lY(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Ew=[];var _e=(()=>{return(n=_e||(_e={}))[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",_e;var n})();const XP={debug:_e.DEBUG,verbose:_e.VERBOSE,info:_e.INFO,warn:_e.WARN,error:_e.ERROR,silent:_e.SILENT},fY=_e.INFO,pY={[_e.DEBUG]:"log",[_e.VERBOSE]:"log",[_e.INFO]:"info",[_e.WARN]:"warn",[_e.ERROR]:"error"},gY=(n,e,...t)=>{if(e<n.logLevel)return;const r=(new Date).toISOString(),i=pY[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${n.name}:`,...t)};class Xa{constructor(e){this.name=e,this._logLevel=fY,this._logHandler=gY,this._userLogHandler=null,Ew.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in _e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?XP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,_e.DEBUG,...e),this._logHandler(this,_e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,_e.VERBOSE,...e),this._logHandler(this,_e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,_e.INFO,...e),this._logHandler(this,_e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,_e.WARN,...e),this._logHandler(this,_e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,_e.ERROR,...e),this._logHandler(this,_e.ERROR,...e)}}const mY=(n,e)=>e.some(t=>n instanceof t);let JP,ZP;const eO=new WeakMap,Iw=new WeakMap,tO=new WeakMap,bw=new WeakMap,Tw=new WeakMap;let Dw={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return Iw.get(n);if("objectStoreNames"===e)return n.objectStoreNames||tO.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return cs(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function bY(n){return"function"==typeof n?function IY(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function _Y(){return ZP||(ZP=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(Cw(this),e),cs(eO.get(this))}:function(...e){return cs(n.apply(Cw(this),e))}:function(e,...t){const r=n.call(Cw(this),e,...t);return tO.set(r,e.sort?e.sort():[e]),cs(r)}}(n):(n instanceof IDBTransaction&&function wY(n){if(Iw.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});Iw.set(n,e)}(n),mY(n,function yY(){return JP||(JP=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,Dw):n)}function cs(n){if(n instanceof IDBRequest)return function vY(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(cs(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&eO.set(t,n)}).catch(()=>{}),Tw.set(e,n),e}(n);if(bw.has(n))return bw.get(n);const e=bY(n);return e!==n&&(bw.set(n,e),Tw.set(e,n)),e}const Cw=n=>Tw.get(n),DY=["get","getKey","getAll","getAllKeys","count"],CY=["put","add","delete","clear"],Sw=new Map;function nO(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(Sw.get(e))return Sw.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=CY.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!DY.includes(t))return;const s=function(){var o=y(function*(a,...u){const l=this.transaction(a,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(u.shift())),(yield Promise.all([c[t](...u),i&&l.done]))[0]});return function(u){return o.apply(this,arguments)}}();return Sw.set(e,s),s}!function EY(n){Dw=n(Dw)}(n=>({...n,get:(e,t,r)=>nO(e,t)||n.get(e,t,r),has:(e,t)=>!!nO(e,t)||n.has(e,t)}));class SY{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function AY(n){return"VERSION"===n.getComponent()?.type}(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}return null}).filter(t=>t).join(" ")}}const Aw="@firebase/app",ho=new Xa("@firebase/app"),Qf="[DEFAULT]",eX={[Aw]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},fo=new Map,Yf=new Map;function tX(n,e){try{n.container.addComponent(e)}catch(t){ho.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Mn(n){const e=n.name;if(Yf.has(e))return ho.debug(`There were multiple attempts to register component ${e}.`),!1;Yf.set(e,n);for(const t of fo.values())tX(t,n);return!0}function Xf(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}const Vi=new ei("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class rX{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ln("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Vi.create("app-deleted",{appName:this._name})}}const oc="9.23.0";function iO(n,e={}){let t=n;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:Qf,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Vi.create("bad-app-name",{appName:String(i)});if(t||(t=WP()),!t)throw Vi.create("no-options");const s=fo.get(i);if(s){if(yw(t,s.options)&&yw(r,s.config))return s;throw Vi.create("duplicate-app",{appName:i})}const o=new hY(i);for(const u of Yf.values())o.addComponent(u);const a=new rX(t,r,o);return fo.set(i,a),a}function sO(n=Qf){const e=fo.get(n);if(!e&&n===Qf&&WP())return iO();if(!e)throw Vi.create("no-app",{appName:n});return e}function oO(){return Array.from(fo.values())}function ht(n,e,t){var r;let i=null!==(r=eX[n])&&void 0!==r?r:n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void ho.warn(a.join(" "))}Mn(new ln(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const iX="firebase-heartbeat-database",sX=1,ac="firebase-heartbeat-store";let xw=null;function aO(){return xw||(xw=function TY(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(n,e),a=cs(o);return r&&o.addEventListener("upgradeneeded",u=>{r(cs(o.result),u.oldVersion,u.newVersion,cs(o.transaction),u)}),t&&o.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}(iX,sX,{upgrade:(n,e)=>{0===e&&n.createObjectStore(ac)}}).catch(n=>{throw Vi.create("idb-open",{originalErrorMessage:n.message})})),xw}function Nw(){return(Nw=y(function*(n){try{return yield(yield aO()).transaction(ac).objectStore(ac).get(lO(n))}catch(e){if(e instanceof Vr)ho.warn(e.message);else{const t=Vi.create("idb-get",{originalErrorMessage:e?.message});ho.warn(t.message)}}})).apply(this,arguments)}function uO(n,e){return kw.apply(this,arguments)}function kw(){return(kw=y(function*(n,e){try{const r=(yield aO()).transaction(ac,"readwrite");yield r.objectStore(ac).put(e,lO(n)),yield r.done}catch(t){if(t instanceof Vr)ho.warn(t.message);else{const r=Vi.create("idb-set",{originalErrorMessage:t?.message});ho.warn(r.message)}}})).apply(this,arguments)}function lO(n){return`${n.name}!${n.options.appId}`}class lX{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new dX(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return y(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=cO();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return y(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const t=cO(),{heartbeatsToSend:r,unsentEntries:i}=function cX(n,e=1024){const t=[];let r=n.slice();for(const i of n){const s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),dO(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),dO(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=Hf(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function cO(){return(new Date).toISOString().substring(0,10)}class dX{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return y(function*(){return!!lo()&&sc().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return y(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function oX(n){return Nw.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var t=this;return y(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return uO(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return y(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return uO(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function dO(n){return Hf(JSON.stringify({version:2,heartbeats:n})).length}!function hX(n){Mn(new ln("platform-logger",e=>new SY(e),"PRIVATE")),Mn(new ln("heartbeat",e=>new lX(e),"PRIVATE")),ht(Aw,"0.9.13",n),ht(Aw,"0.9.13","esm2017"),ht("fire-js","")}(""),ht("firebase","9.23.0","app");const gX=(n,e)=>e.some(t=>n instanceof t);let hO,fO;const pO=new WeakMap,Rw=new WeakMap,gO=new WeakMap,Pw=new WeakMap,Ow=new WeakMap;let Fw={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return Rw.get(n);if("objectStoreNames"===e)return n.objectStoreNames||gO.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ds(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function IX(n){return"function"==typeof n?function EX(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function yX(){return fO||(fO=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(Lw(this),e),ds(pO.get(this))}:function(...e){return ds(n.apply(Lw(this),e))}:function(e,...t){const r=n.call(Lw(this),e,...t);return gO.set(r,e.sort?e.sort():[e]),ds(r)}}(n):(n instanceof IDBTransaction&&function vX(n){if(Rw.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});Rw.set(n,e)}(n),gX(n,function mX(){return hO||(hO=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,Fw):n)}function ds(n){if(n instanceof IDBRequest)return function _X(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(ds(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&pO.set(t,n)}).catch(()=>{}),Ow.set(e,n),e}(n);if(Pw.has(n))return Pw.get(n);const e=IX(n);return e!==n&&(Pw.set(n,e),Ow.set(e,n)),e}const Lw=n=>Ow.get(n),TX=["get","getKey","getAll","getAllKeys","count"],DX=["put","add","delete","clear"],Vw=new Map;function mO(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(Vw.get(e))return Vw.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=DX.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!TX.includes(t))return;const s=function(){var o=y(function*(a,...u){const l=this.transaction(a,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(u.shift())),(yield Promise.all([c[t](...u),i&&l.done]))[0]});return function(u){return o.apply(this,arguments)}}();return Vw.set(e,s),s}!function wX(n){Fw=n(Fw)}(n=>({...n,get:(e,t,r)=>mO(e,t)||n.get(e,t,r),has:(e,t)=>!!mO(e,t)||n.has(e,t)}));const yO="@firebase/installations",Uw="0.6.4",_O=1e4,vO=`w:${Uw}`,wO="FIS_v2",CX="https://firebaseinstallations.googleapis.com/v1",SX=36e5,Ui=new ei("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function EO(n){return n instanceof Vr&&n.code.includes("request-failed")}function Bw({projectId:n}){return`${CX}/projects/${n}/installations`}function IO(n){return{token:n.token,requestStatus:2,expiresIn:NX(n.expiresIn),creationTime:Date.now()}}function $w(n,e){return jw.apply(this,arguments)}function jw(){return(jw=y(function*(n,e){const r=(yield e.json()).error;return Ui.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function bO({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function Gw(n){return Hw.apply(this,arguments)}function Hw(){return(Hw=y(function*(n){const e=yield n();return e.status>=500&&e.status<600?n():e})).apply(this,arguments)}function NX(n){return Number(n.replace("s","000"))}function zw(){return(zw=y(function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=Bw(n),i=bO(n),s=e.getImmediate({optional:!0});if(s){const l=yield s.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const a={method:"POST",headers:i,body:JSON.stringify({fid:t,authVersion:wO,appId:n.appId,sdkVersion:vO})},u=yield Gw(()=>fetch(r,a));if(u.ok){const l=yield u.json();return{fid:l.fid||t,registrationStatus:2,refreshToken:l.refreshToken,authToken:IO(l.authToken)}}throw yield $w("Create Installation",u)})).apply(this,arguments)}function DO(n){return new Promise(e=>{setTimeout(e,n)})}const OX=/^[cdef][\w-]{21}$/,qw="";function FX(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=function LX(n){return function PX(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return OX.test(t)?t:qw}catch{return qw}}function Ja(n){return`${n.appName}!${n.appId}`}const Za=new Map;function CO(n,e){const t=Ja(n);SO(t,e),function BX(n,e){const t=function AO(){return!po&&"BroadcastChannel"in self&&(po=new BroadcastChannel("[Firebase] FID Change"),po.onmessage=n=>{SO(n.data.key,n.data.fid)}),po}();t&&t.postMessage({key:n,fid:e}),function MO(){0===Za.size&&po&&(po.close(),po=null)}()}(t,e)}function SO(n,e){const t=Za.get(n);if(t)for(const r of t)r(e)}let po=null;const $X="firebase-installations-database",jX=1,go="firebase-installations-store";let Ww=null;function Kw(){return Ww||(Ww=function bX(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(n,e),a=ds(o);return r&&o.addEventListener("upgradeneeded",u=>{r(ds(o.result),u.oldVersion,u.newVersion,ds(o.transaction))}),t&&o.addEventListener("blocked",()=>t()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}($X,jX,{upgrade:(n,e)=>{0===e&&n.createObjectStore(go)}})),Ww}function Jf(n,e){return Qw.apply(this,arguments)}function Qw(){return(Qw=y(function*(n,e){const t=Ja(n),i=(yield Kw()).transaction(go,"readwrite"),s=i.objectStore(go),o=yield s.get(t);return yield s.put(e,t),yield i.done,(!o||o.fid!==e.fid)&&CO(n,e.fid),e})).apply(this,arguments)}function Yw(n){return Xw.apply(this,arguments)}function Xw(){return(Xw=y(function*(n){const e=Ja(n),r=(yield Kw()).transaction(go,"readwrite");yield r.objectStore(go).delete(e),yield r.done})).apply(this,arguments)}function uc(n,e){return Jw.apply(this,arguments)}function Jw(){return(Jw=y(function*(n,e){const t=Ja(n),i=(yield Kw()).transaction(go,"readwrite"),s=i.objectStore(go),o=yield s.get(t),a=e(o);return void 0===a?yield s.delete(t):yield s.put(a,t),yield i.done,a&&(!o||o.fid!==a.fid)&&CO(n,a.fid),a})).apply(this,arguments)}function Zw(n){return eE.apply(this,arguments)}function eE(){return eE=y(function*(n){let e;const t=yield uc(n.appConfig,r=>{const i=function GX(n){return NO(n||{fid:FX(),registrationStatus:0})}(r),s=function HX(n,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Ui.create("app-offline"))};const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function zX(n,e){return tE.apply(this,arguments)}(n,t);return{installationEntry:t,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:qX(n)}:{installationEntry:e}}(n,i);return e=s.registrationPromise,s.installationEntry});return t.fid===qw?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}}),eE.apply(this,arguments)}function tE(){return tE=y(function*(n,e){try{const t=yield function RX(n,e){return zw.apply(this,arguments)}(n,e);return Jf(n.appConfig,t)}catch(t){throw EO(t)&&409===t.customData.serverCode?yield Yw(n.appConfig):yield Jf(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}),tE.apply(this,arguments)}function qX(n){return nE.apply(this,arguments)}function nE(){return(nE=y(function*(n){let e=yield xO(n.appConfig);for(;1===e.registrationStatus;)yield DO(100),e=yield xO(n.appConfig);if(0===e.registrationStatus){const{installationEntry:t,registrationPromise:r}=yield Zw(n);return r||t}return e})).apply(this,arguments)}function xO(n){return uc(n,e=>{if(!e)throw Ui.create("installation-not-found");return NO(e)})}function NO(n){return function WX(n){return 1===n.registrationStatus&&n.registrationTime+_O<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function rE(){return(rE=y(function*({appConfig:n,heartbeatServiceProvider:e},t){const r=function QX(n,{fid:e}){return`${Bw(n)}/${e}/authTokens:generate`}(n,t),i=function TO(n,{refreshToken:e}){const t=bO(n);return t.append("Authorization",function kX(n){return`${wO} ${n}`}(e)),t}(n,t),s=e.getImmediate({optional:!0});if(s){const l=yield s.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:vO,appId:n.appId}})},u=yield Gw(()=>fetch(r,a));if(u.ok)return IO(yield u.json());throw yield $w("Generate Auth Token",u)})).apply(this,arguments)}function iE(n){return sE.apply(this,arguments)}function sE(){return sE=y(function*(n,e=!1){let t;const r=yield uc(n.appConfig,s=>{if(!RO(s))throw Ui.create("not-registered");const o=s.authToken;if(!e&&function JX(n){return 2===n.requestStatus&&!function ZX(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+SX}(n)}(o))return s;if(1===o.requestStatus)return t=function YX(n,e){return oE.apply(this,arguments)}(n,e),s;{if(!navigator.onLine)throw Ui.create("app-offline");const a=function eJ(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}(s);return t=function XX(n,e){return aE.apply(this,arguments)}(n,a),a}});return t?yield t:r.authToken}),sE.apply(this,arguments)}function oE(){return(oE=y(function*(n,e){let t=yield kO(n.appConfig);for(;1===t.authToken.requestStatus;)yield DO(100),t=yield kO(n.appConfig);const r=t.authToken;return 0===r.requestStatus?iE(n,e):r})).apply(this,arguments)}function kO(n){return uc(n,e=>{if(!RO(e))throw Ui.create("not-registered");return function tJ(n){return 1===n.requestStatus&&n.requestTime+_O<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function aE(){return aE=y(function*(n,e){try{const t=yield function KX(n,e){return rE.apply(this,arguments)}(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return yield Jf(n.appConfig,r),t}catch(t){if(!EO(t)||401!==t.customData.serverCode&&404!==t.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Jf(n.appConfig,r)}else yield Yw(n.appConfig);throw t}}),aE.apply(this,arguments)}function RO(n){return void 0!==n&&2===n.registrationStatus}function uE(){return(uE=y(function*(n){const e=n,{installationEntry:t,registrationPromise:r}=yield Zw(e);return r?r.catch(console.error):iE(e).catch(console.error),t.fid})).apply(this,arguments)}function lE(){return lE=y(function*(n,e=!1){const t=n;return yield function iJ(n){return cE.apply(this,arguments)}(t),(yield iE(t,e)).token}),lE.apply(this,arguments)}function cE(){return(cE=y(function*(n){const{registrationPromise:e}=yield Zw(n);e&&(yield e)})).apply(this,arguments)}function fE(n){return Ui.create("missing-app-config-values",{valueName:n})}const PO="installations",lJ=n=>{const e=n.getProvider("app").getImmediate(),t=function aJ(n){if(!n||!n.options)throw fE("App Configuration");if(!n.name)throw fE("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw fE(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(e);return{app:e,appConfig:t,heartbeatServiceProvider:Xf(e,"heartbeat"),_delete:()=>Promise.resolve()}},cJ=n=>{const t=Xf(n.getProvider("app").getImmediate(),PO).getImmediate();return{getId:()=>function nJ(n){return uE.apply(this,arguments)}(t),getToken:i=>function rJ(n){return lE.apply(this,arguments)}(t,i)}};(function dJ(){Mn(new ln(PO,lJ,"PUBLIC")),Mn(new ln("installations-internal",cJ,"PRIVATE"))})(),ht(yO,Uw),ht(yO,Uw,"esm2017");const pE="@firebase/remote-config",jn=new ei("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class IJ{constructor(e,t,r,i){this.client=e,this.storage=t,this.storageCache=r,this.logger=i}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-t,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var t=this;return y(function*(){const[r,i]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(i&&t.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield t.client.fetch(e),o=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(t.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function bJ(n=navigator){return n.languages&&n.languages[0]||n.language}class TJ{constructor(e,t,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var t=this;return y(function*(){const[r,i]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},u={sdk_version:t.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:t.appId,language_code:bJ()},l={method:"POST",headers:a,body:JSON.stringify(u)},c=fetch(o,l),d=new Promise((_,I)=>{e.signal.addEventListener(()=>{const v=new Error("The operation was aborted.");v.name="AbortError",I(v)})});let h;try{yield Promise.race([c,d]),h=yield c}catch(_){let I="fetch-client-network";throw"AbortError"===_?.name&&(I="fetch-timeout"),jn.create(I,{originalErrorMessage:_?.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let g,m;if(200===h.status){let _;try{_=yield h.json()}catch(I){throw jn.create("fetch-client-parse",{originalErrorMessage:I?.message})}g=_.entries,m=_.state}if("INSTANCE_STATE_UNSPECIFIED"===m?f=500:"NO_CHANGE"===m?f=304:("NO_TEMPLATE"===m||"EMPTY_CONFIG"===m)&&(g={}),304!==f&&200!==f)throw jn.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:g}})()}}class SJ{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return y(function*(){const r=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:r}){var i=this;return y(function*(){yield function DJ(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(s),r(jn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,t);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function CJ(n){if(!(n instanceof Vr&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+ww(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class xJ{constructor(e,t,r,i,s){this.app=e,this._client=t,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function ep(n,e){const t=n.target.error||void 0;return jn.create(e,{originalErrorMessage:t&&t?.message})}const mo="app_namespace_store";class PJ{constructor(e,t,r,i=function RJ(){return new Promise((n,e)=>{try{const t=indexedDB.open("firebase_remote_config",1);t.onerror=r=>{e(ep(r,"storage-open"))},t.onsuccess=r=>{n(r.target.result)},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(mo,{keyPath:"compositeKey"})}}catch(t){e(jn.create("storage-open",{originalErrorMessage:t?.message}))}})}()){this.appId=e,this.appName=t,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return y(function*(){const r=yield t.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([mo],"readonly").objectStore(mo),u=t.createCompositeKey(e);try{const l=a.get(u);l.onerror=c=>{s(ep(c,"storage-get"))},l.onsuccess=c=>{const d=c.target.result;i(d?d.value:void 0)}}catch(l){s(jn.create("storage-get",{originalErrorMessage:l?.message}))}})})()}set(e,t){var r=this;return y(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const u=i.transaction([mo],"readwrite").objectStore(mo),l=r.createCompositeKey(e);try{const c=u.put({compositeKey:l,value:t});c.onerror=d=>{o(ep(d,"storage-set"))},c.onsuccess=()=>{s()}}catch(c){o(jn.create("storage-set",{originalErrorMessage:c?.message}))}})})()}delete(e){var t=this;return y(function*(){const r=yield t.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([mo],"readwrite").objectStore(mo),u=t.createCompositeKey(e);try{const l=a.delete(u);l.onerror=c=>{s(ep(c,"storage-delete"))},l.onsuccess=()=>{i()}}catch(l){s(jn.create("storage-delete",{originalErrorMessage:l?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class OJ{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return y(function*(){const t=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield t;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function LJ(){return vE.apply(this,arguments)}function vE(){return(vE=y(function*(){if(!lo())return!1;try{return yield sc()}catch{return!1}})).apply(this,arguments)}!function FJ(){Mn(new ln("remote-config",function n(e,{instanceIdentifier:t}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw jn.create("registration-window");if(!lo())throw jn.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw jn.create("registration-project-id");if(!o)throw jn.create("registration-api-key");if(!a)throw jn.create("registration-app-id");const u=new PJ(a,r.name,t=t||"firebase"),l=new OJ(u),c=new Xa(pE);c.logLevel=_e.ERROR;const d=new TJ(i,oc,t,s,o,a),h=new SJ(d,u),f=new IJ(h,u,l,c),p=new xJ(r,f,l,u,c);return function vJ(n){const e=An(n);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),ht(pE,"0.4.4"),ht(pE,"0.4.4","esm2017")}();const VJ=(n,e)=>e.some(t=>n instanceof t);let VO,UO;const BO=new WeakMap,wE=new WeakMap,$O=new WeakMap,EE=new WeakMap,IE=new WeakMap;let bE={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return wE.get(n);if("objectStoreNames"===e)return n.objectStoreNames||$O.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Bi(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function zJ(n){return"function"==typeof n?function HJ(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function BJ(){return UO||(UO=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(TE(this),e),Bi(BO.get(this))}:function(...e){return Bi(n.apply(TE(this),e))}:function(e,...t){const r=n.call(TE(this),e,...t);return $O.set(r,e.sort?e.sort():[e]),Bi(r)}}(n):(n instanceof IDBTransaction&&function jJ(n){if(wE.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});wE.set(n,e)}(n),VJ(n,function UJ(){return VO||(VO=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,bE):n)}function Bi(n){if(n instanceof IDBRequest)return function $J(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(Bi(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&BO.set(t,n)}).catch(()=>{}),IE.set(e,n),e}(n);if(EE.has(n))return EE.get(n);const e=zJ(n);return e!==n&&(EE.set(n,e),IE.set(e,n)),e}const TE=n=>IE.get(n);function jO(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(n,e),a=Bi(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Bi(o.result),u.oldVersion,u.newVersion,Bi(o.transaction))}),t&&o.addEventListener("blocked",()=>t()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function DE(n,{blocked:e}={}){const t=indexedDB.deleteDatabase(n);return e&&t.addEventListener("blocked",()=>e()),Bi(t).then(()=>{})}const qJ=["get","getKey","getAll","getAllKeys","count"],WJ=["put","add","delete","clear"],CE=new Map;function GO(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(CE.get(e))return CE.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=WJ.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!qJ.includes(t))return;const s=function(){var o=y(function*(a,...u){const l=this.transaction(a,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(u.shift())),(yield Promise.all([c[t](...u),i&&l.done]))[0]});return function(u){return o.apply(this,arguments)}}();return CE.set(e,s),s}!function GJ(n){bE=n(bE)}(n=>({...n,get:(e,t,r)=>GO(e,t)||n.get(e,t,r),has:(e,t)=>!!GO(e,t)||n.has(e,t)}));const KJ="/firebase-messaging-sw.js",QJ="/firebase-cloud-messaging-push-scope",HO="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",YJ="https://fcmregistrations.googleapis.com/v1",zO="google.c.a.c_id",XJ="google.c.a.c_l",JJ="google.c.a.ts",ZJ="google.c.a.e";var eu=(()=>{return(n=eu||(eu={})).PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked",eu;var n})();function $i(n){const e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function eZ(n){const t=(n+"=".repeat((4-n.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(t),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const SE="fcm_token_details_db",tZ=5,qO="fcm_token_object_Store";function AE(){return AE=y(function*(n){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(SE))return null;let e=null;return(yield jO(SE,tZ,{upgrade:(r=y(function*(i,s,o,a){var u;if(s<2||!i.objectStoreNames.contains(qO))return;const l=a.objectStore(qO),c=yield l.index("fcmSenderId").get(n);if(yield l.clear(),c)if(2===s){const d=c;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(u=d.createTime)&&void 0!==u?u:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:$i(d.vapidKey)}}}else if(3===s){const d=c;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:$i(d.auth),p256dh:$i(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:$i(d.vapidKey)}}}else if(4===s){const d=c;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:$i(d.auth),p256dh:$i(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:$i(d.vapidKey)}}}}),function(s,o,a,u){return r.apply(this,arguments)})})).close(),yield DE(SE),yield DE("fcm_vapid_details_db"),yield DE("undefined"),function rZ(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:e}=n;return"number"==typeof n.createTime&&n.createTime>0&&"string"==typeof n.token&&n.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var r}),AE.apply(this,arguments)}const iZ="firebase-messaging-database",sZ=1,yo="firebase-messaging-store";let ME=null;function xE(){return ME||(ME=jO(iZ,sZ,{upgrade:(n,e)=>{0===e&&n.createObjectStore(yo)}})),ME}function WO(n){return NE.apply(this,arguments)}function NE(){return NE=y(function*(n){const e=OE(n),r=yield(yield xE()).transaction(yo).objectStore(yo).get(e);if(r)return r;{const i=yield function nZ(n){return AE.apply(this,arguments)}(n.appConfig.senderId);if(i)return yield kE(n,i),i}}),NE.apply(this,arguments)}function kE(n,e){return RE.apply(this,arguments)}function RE(){return(RE=y(function*(n,e){const t=OE(n),i=(yield xE()).transaction(yo,"readwrite");return yield i.objectStore(yo).put(e,t),yield i.done,e})).apply(this,arguments)}function PE(){return(PE=y(function*(n){const e=OE(n),r=(yield xE()).transaction(yo,"readwrite");yield r.objectStore(yo).delete(e),yield r.done})).apply(this,arguments)}function OE({appConfig:n}){return n.appId}const qt=new ei("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function uZ(n,e){return FE.apply(this,arguments)}function FE(){return(FE=y(function*(n,e){const t=yield BE(n),r=QO(e),i={method:"POST",headers:t,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(UE(n.appConfig),i)).json()}catch(o){throw qt.create("token-subscribe-failed",{errorInfo:o?.toString()})}if(s.error)throw qt.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw qt.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function LE(){return(LE=y(function*(n,e){const t=yield BE(n),r=QO(e.subscriptionOptions),i={method:"PATCH",headers:t,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${UE(n.appConfig)}/${e.token}`,i)).json()}catch(o){throw qt.create("token-update-failed",{errorInfo:o?.toString()})}if(s.error)throw qt.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw qt.create("token-update-no-token");return s.token})).apply(this,arguments)}function KO(n,e){return VE.apply(this,arguments)}function VE(){return(VE=y(function*(n,e){const r={method:"DELETE",headers:yield BE(n)};try{const s=yield(yield fetch(`${UE(n.appConfig)}/${e}`,r)).json();if(s.error)throw qt.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw qt.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function UE({projectId:n}){return`${YJ}/projects/${n}/registrations`}function BE(n){return $E.apply(this,arguments)}function $E(){return($E=y(function*({appConfig:n,installations:e}){const t=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})})).apply(this,arguments)}function QO({p256dh:n,auth:e,endpoint:t,vapidKey:r}){const i={web:{endpoint:t,auth:e,p256dh:n}};return r!==HO&&(i.web.applicationPubKey=r),i}const cZ=6048e5;function jE(){return jE=y(function*(n){const e=yield function fZ(n,e){return qE.apply(this,arguments)}(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:$i(e.getKey("auth")),p256dh:$i(e.getKey("p256dh"))},r=yield WO(n.firebaseDependencies);if(r){if(function pZ(n,e){return e.vapidKey===n.vapidKey&&e.endpoint===n.endpoint&&e.auth===n.auth&&e.p256dh===n.p256dh}(r.subscriptionOptions,t))return Date.now()>=r.createTime+cZ?function hZ(n,e){return HE.apply(this,arguments)}(n,{token:r.token,createTime:Date.now(),subscriptionOptions:t}):r.token;try{yield KO(n.firebaseDependencies,r.token)}catch(i){console.warn(i)}return XO(n.firebaseDependencies,t)}return XO(n.firebaseDependencies,t)}),jE.apply(this,arguments)}function GE(){return GE=y(function*(n){const e=yield WO(n.firebaseDependencies);e&&(yield KO(n.firebaseDependencies,e.token),yield function oZ(n){return PE.apply(this,arguments)}(n.firebaseDependencies));const t=yield n.swRegistration.pushManager.getSubscription();return!t||t.unsubscribe()}),GE.apply(this,arguments)}function HE(){return HE=y(function*(n,e){try{const t=yield function lZ(n,e){return LE.apply(this,arguments)}(n.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return yield kE(n.firebaseDependencies,r),t}catch(t){throw yield function YO(n){return GE.apply(this,arguments)}(n),t}}),HE.apply(this,arguments)}function XO(n,e){return zE.apply(this,arguments)}function zE(){return(zE=y(function*(n,e){const r={token:yield uZ(n,e),createTime:Date.now(),subscriptionOptions:e};return yield kE(n,r),r.token})).apply(this,arguments)}function qE(){return(qE=y(function*(n,e){return(yield n.pushManager.getSubscription())||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:eZ(e)})})).apply(this,arguments)}function JO(n){const e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return function gZ(n,e){if(!e.notification)return;n.notification={};const t=e.notification.title;t&&(n.notification.title=t);const r=e.notification.body;r&&(n.notification.body=r);const i=e.notification.image;i&&(n.notification.image=i);const s=e.notification.icon;s&&(n.notification.icon=s)}(e,n),function mZ(n,e){e.data&&(n.data=e.data)}(e,n),function yZ(n,e){var t,r,i,s,o;if(!(e.fcmOptions||null!==(t=e.notification)&&void 0!==t&&t.click_action))return;n.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;a&&(n.fcmOptions.link=a);const u=null===(o=e.fcmOptions)||void 0===o?void 0:o.analytics_label;u&&(n.fcmOptions.analyticsLabel=u)}(e,n),e}function ZO(n,e){const t=[];for(let r=0;r<n.length;r++)t.push(n.charAt(r)),r<e.length&&t.push(e.charAt(r));return t.join("")}function WE(n){return qt.create("missing-app-config-values",{valueName:n})}ZO("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ZO("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class wZ{constructor(e,t,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function vZ(n){if(!n||!n.options)throw WE("App Configuration Object");if(!n.name)throw WE("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(const r of e)if(!t[r])throw WE(r);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:t,analyticsProvider:r}}_delete(){return Promise.resolve()}}function eF(n){return KE.apply(this,arguments)}function KE(){return(KE=y(function*(n){try{n.swRegistration=yield navigator.serviceWorker.register(KJ,{scope:QJ}),n.swRegistration.update().catch(()=>{})}catch(e){throw qt.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function QE(){return(QE=y(function*(n,e){if(!e&&!n.swRegistration&&(yield eF(n)),e||!n.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw qt.create("invalid-sw-registration");n.swRegistration=e}})).apply(this,arguments)}function YE(){return(YE=y(function*(n,e){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=HO)})).apply(this,arguments)}function XE(){return XE=y(function*(n,e){if(!navigator)throw qt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw qt.create("permission-blocked");return yield function IZ(n,e){return YE.apply(this,arguments)}(n,e?.vapidKey),yield function EZ(n,e){return QE.apply(this,arguments)}(n,e?.serviceWorkerRegistration),function dZ(n){return jE.apply(this,arguments)}(n)}),XE.apply(this,arguments)}function JE(){return(JE=y(function*(n,e,t){const r=function TZ(n){switch(n){case eu.NOTIFICATION_CLICKED:return"notification_open";case eu.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:t[zO],message_name:t[XJ],message_time:t[JJ],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ZE(){return ZE=y(function*(n,e){const t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===eu.PUSH_RECEIVED&&("function"==typeof n.onMessageHandler?n.onMessageHandler(JO(t)):n.onMessageHandler.next(JO(t)));const r=t.data;(function _Z(n){return"object"==typeof n&&!!n&&zO in n})(r)&&"1"===r[ZJ]&&(yield function bZ(n,e,t){return JE.apply(this,arguments)}(n,t.messageType,r))}),ZE.apply(this,arguments)}const nF="@firebase/messaging",CZ=n=>{const e=new wZ(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>function DZ(n,e){return ZE.apply(this,arguments)}(e,t)),e},SZ=n=>{const e=n.getProvider("messaging").getImmediate();return{getToken:r=>function tF(n,e){return XE.apply(this,arguments)}(e,r)}};function iF(){return eI.apply(this,arguments)}function eI(){return(eI=y(function*(){try{yield sc()}catch{return!1}return typeof window<"u"&&lo()&&mw()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function AZ(){Mn(new ln("messaging",CZ,"PUBLIC")),Mn(new ln("messaging-internal",SZ,"PRIVATE")),ht(nF,"0.12.4"),ht(nF,"0.12.4","esm2017")}();const tp="analytics",NZ="firebase_id",kZ="origin",RZ=6e4,PZ="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",rI="https://www.googletagmanager.com/gtag/js",Rt=new Xa("@firebase/analytics"),xn=new ei("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function FZ(n){if(!n.startsWith(rI)){const e=xn.create("invalid-gtag-resource",{gtagURL:n});return Rt.warn(e.message),""}return n}function sF(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function iI(){return(iI=y(function*(n,e,t,r,i,s){const o=r[i];try{if(o)yield e[o];else{const u=(yield sF(t)).find(l=>l.measurementId===i);u&&(yield e[u.appId])}}catch(a){Rt.error(a)}n("config",i,s)})).apply(this,arguments)}function sI(){return(sI=y(function*(n,e,t,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield sF(t);for(const u of o){const l=a.find(d=>d.measurementId===u),c=l&&e[l.appId];if(!c){s=[];break}s.push(c)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),n("event",r,i||{})}catch(s){Rt.error(s)}})).apply(this,arguments)}const zZ=30,oF=new class WZ{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function KZ(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function oI(){return(oI=y(function*(n){var e;const{appId:t,apiKey:r}=n,i={method:"GET",headers:KZ(r)},s=PZ.replace("{app-id}",t),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const u=yield o.json();null!==(e=u.error)&&void 0!==e&&e.message&&(a=u.error.message)}catch{}throw xn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function aI(){return(aI=y(function*(n,e=oF,t){const{appId:r,apiKey:i,measurementId:s}=n.options;if(!r)throw xn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw xn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new ZZ;return setTimeout(y(function*(){a.abort()}),void 0!==t?t:RZ),aF({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function aF(n,e,t){return uI.apply(this,arguments)}function uI(){return uI=y(function*(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=oF){var s;const{appId:o,measurementId:a}=n;try{yield function XZ(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(s),r(xn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(u){if(a)return Rt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:o,measurementId:a};throw u}try{const u=yield function QZ(n){return oI.apply(this,arguments)}(n);return i.deleteThrottleMetadata(o),u}catch(u){const l=u;if(!function JZ(n){if(!(n instanceof Vr&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(l)){if(i.deleteThrottleMetadata(o),a)return Rt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l?.message}]`),{appId:o,measurementId:a};throw u}const c=503===Number(null===(s=l?.customData)||void 0===s?void 0:s.httpStatus)?ww(t,i.intervalMillis,zZ):ww(t,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+c,backoffCount:t+1};return i.setThrottleMetadata(o,d),Rt.debug(`Calling attemptFetch again in ${c} millis`),aF(n,d,r,i)}}),uI.apply(this,arguments)}class ZZ{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let lI,mI;function cI(){return(cI=y(function*(n,e,t,r,i){if(i&&i.global)n("event",t,r);else{const s=yield e;n("event",t,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function yI(){return(yI=y(function*(){if(!lo())return Rt.warn(xn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield sc()}catch(n){return Rt.warn(xn.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}return!0})).apply(this,arguments)}function _I(){return _I=y(function*(n,e,t,r,i,s,o){var a;const u=function YZ(n){return aI.apply(this,arguments)}(n);u.then(f=>{t[f.measurementId]=f.appId,n.options.measurementId&&f.measurementId!==n.options.measurementId&&Rt.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>Rt.error(f)),e.push(u);const l=function oee(){return yI.apply(this,arguments)}().then(f=>{if(f)return r.getId()}),[c,d]=yield Promise.all([u,l]);(function HZ(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(rI)&&t.src.includes(n))return t;return null})(s)||function VZ(n,e){const t=function LZ(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}("firebase-js-sdk-policy",{createScriptURL:FZ}),r=document.createElement("script"),i=`${rI}?l=${n}&id=${e}`;r.src=t?t?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(s,c.measurementId),mI&&(i("consent","default",mI),function uF(n){mI=n}(void 0)),i("js",new Date);const h=null!==(a=o?.config)&&void 0!==a?a:{};return h[kZ]="firebase",h.update=!0,null!=d&&(h[NZ]=d),i("config",c.measurementId,h),lI&&(i("set",lI),function lF(n){lI=n}(void 0)),c.measurementId}),_I.apply(this,arguments)}class uee{constructor(e){this.app=e}_delete(){return delete ti[this.app.options.appId],Promise.resolve()}}let ti={},cF=[];const dF={};let fF,ni,np="dataLayer",hF="gtag",vI=!1;function cee(n,e,t){!function lee(){const n=[];if(gw()&&n.push("This is a browser extension environment."),mw()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=xn.create("invalid-analytics-context",{errorInfo:e});Rt.warn(t.message)}}();const r=n.options.appId;if(!r)throw xn.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw xn.create("no-api-key");Rt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ti[r])throw xn.create("already-exists",{id:r});if(!vI){!function UZ(n){let e=[];Array.isArray(window[n])?e=window[n]:window[n]=e}(np);const{wrappedGtag:s,gtagCore:o}=function GZ(n,e,t,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function jZ(n,e,t,r){function s(){return s=y(function*(o,...a){try{if("event"===o){const[u,l]=a;yield function $Z(n,e,t,r,i){return sI.apply(this,arguments)}(n,e,t,u,l)}else if("config"===o){const[u,l]=a;yield function BZ(n,e,t,r,i,s){return iI.apply(this,arguments)}(n,e,t,r,u,l)}else if("consent"===o){const[u]=a;n("consent","update",u)}else if("get"===o){const[u,l,c]=a;n("get",u,l,c)}else if("set"===o){const[u]=a;n("set",u)}else n(o,...a)}catch(u){Rt.error(u)}}),s.apply(this,arguments)}return function i(o){return s.apply(this,arguments)}}(s,n,e,t),{gtagCore:s,wrappedGtag:window[i]}}(ti,cF,dF,np,hF);ni=s,fF=o,vI=!0}return ti[r]=function aee(n,e,t,r,i,s,o){return _I.apply(this,arguments)}(n,cF,dF,e,fF,np,t),new uee(n)}function hee(){return wI.apply(this,arguments)}function wI(){return(wI=y(function*(){if(gw()||!mw()||!lo())return!1;try{return yield sc()}catch{return!1}})).apply(this,arguments)}const pF="@firebase/analytics";!function pee(){Mn(new ln(tp,(e,{options:t})=>cee(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),Mn(new ln("analytics-internal",function n(e){try{const t=e.getProvider(tp).getImmediate();return{logEvent:(r,i,s)=>function fee(n,e,t,r){n=An(n),function eee(n,e,t,r,i){return cI.apply(this,arguments)}(ni,ti[n.app.options.appId],e,t,r).catch(i=>Rt.error(i))}(t,r,i,s)}}catch(t){throw xn.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),ht(pF,"0.10.0"),ht(pF,"0.10.0","esm2017")}();class gee extends Wn{constructor(e,t){super()}schedule(e,t=0){return this}}const rp={setInterval(n,e,...t){const{delegate:r}=rp;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=rp;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class mF extends gee{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,r=0){return rp.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&rp.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,ia(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const yF={now:()=>(yF.delegate||Date).now(),delegate:void 0};class lc{constructor(e,t=lc.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}lc.now=yF.now;class _F extends lc{constructor(e,t=lc.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const _ee=new class yee extends _F{}(class mee extends mF{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}}),vee=new _F(mF);function Wt(n,e,t){const r=Fe(n)||e||t?{next:n,error:e,complete:t}:n;return r?kt((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(Dt(s,u=>{var l;null===(l=r.next)||void 0===l||l.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var l;a=!1,null===(l=r.error)||void 0===l||l.call(r,u),s.error(u)},()=>{var u,l;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(l=r.finalize)||void 0===l||l.call(r)}))}):Ws}const II=new Sa("7.5.0"),bI="__angularfire_symbol__analyticsIsSupportedValue",TI="__angularfire_symbol__analyticsIsSupported",DI="__angularfire_symbol__remoteConfigIsSupportedValue",CI="__angularfire_symbol__remoteConfigIsSupported",SI="__angularfire_symbol__messagingIsSupportedValue",AI="__angularfire_symbol__messagingIsSupported";globalThis[TI]||(globalThis[TI]=hee().then(n=>globalThis[bI]=n).catch(()=>globalThis[bI]=!1)),globalThis[AI]||(globalThis[AI]=iF().then(n=>globalThis[SI]=n).catch(()=>globalThis[SI]=!1)),globalThis[CI]||(globalThis[CI]=LJ().then(n=>globalThis[DI]=n).catch(()=>globalThis[DI]=!1));const NI=(n,e)=>{const t=e?[e]:oO(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function tu(){}class vF{constructor(e,t=_ee){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},t,r)}}class wee{constructor(e){this.zone=e,this.task=null}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",tu,{},tu,tu)),t.pipe(Wt({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let wF=(()=>{class n{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new vF(Zone.current)),this.insideAngular=t.run(()=>new vF(Zone.current,vee)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return n.\u0275fac=function(t){return new(t||n)(P(Re))},n.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function _o(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function vo(n){return _o().ngZone.run(()=>n())}function Iee(n){return _o(),function bee(n){return function(t){return(t=t.lift(new wee(n.ngZone))).pipe(ch(n.outsideAngular),lh(n.insideAngular))}}(_o())(n)}const Tee=(n,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),vo(()=>n.apply(void 0,r))},wo=(n,e)=>function(){let t;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(t||(t=vo(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",tu,{},tu,tu)))),r[s]=Tee(r[s],t));const i=function Eee(n){return _o().ngZone.runOutsideAngular(()=>n())}(()=>n.apply(this,r));if(!e){if(i instanceof We){const s=_o();return i.pipe(ch(s.outsideAngular),lh(s.insideAngular))}return vo(()=>i)}return i instanceof We?i.pipe(Iee):i instanceof Promise?vo(()=>new Promise((s,o)=>i.then(a=>vo(()=>s(a)),a=>vo(()=>o(a))))):"function"==typeof i&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),i.apply(this,arguments)}:vo(()=>i)};class nu{constructor(e){return e}}class EF{constructor(){return oO()}}const kI=new $("angularfire2._apps"),Cee={provide:nu,useFactory:function Dee(n){return n&&1===n.length?n[0]:new nu(sO())},deps:[[new Tn,kI]]},See={provide:EF,deps:[[new Tn,kI]]};function Aee(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new nu(r)}}let Mee=(()=>{class n{constructor(t){ht("angularfire",II.full,"core"),ht("angularfire",II.full,"app"),ht("angular",g1.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(P(bf))},n.\u0275mod=On({type:n}),n.\u0275inj=vn({providers:[Cee,See]}),n})();function xee(n,...e){return{ngModule:Mee,providers:[{provide:kI,useFactory:Aee(n),multi:!0,deps:[Re,Dn,wF,...e]}]}}const Nee=wo(iO,!0);function K(...n){return yt(n,cl(n))}class cn extends tn{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const ip=ul(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:kee}=Array,{getPrototypeOf:Ree,prototype:Pee,keys:Oee}=Object;function IF(n){if(1===n.length){const e=n[0];if(kee(e))return{args:e,keys:null};if(function Fee(n){return n&&"object"==typeof n&&Ree(n)===Pee}(e)){const t=Oee(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:Lee}=Array;function bF(n){return fe(e=>function Vee(n,e){return Lee(e)?n(...e):n(e)}(n,e))}function TF(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function sp(...n){const e=cl(n),t=cM(n),{args:r,keys:i}=IF(n);if(0===r.length)return yt([],e);const s=new We(function Uee(n,e,t=Ws){return r=>{DF(e,()=>{const{length:i}=n,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)DF(e,()=>{const l=yt(n[u],e);let c=!1;l.subscribe(Dt(r,d=>{s[u]=d,c||(c=!0,a--),a||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>TF(i,o):Ws));return t?s.pipe(bF(t)):s}function DF(n,e,t){n?vi(t,n,e):e()}function RI(...n){return function Bee(){return sa(1)}()(yt(n,cl(n)))}function CF(n){return new We(e=>{cr(n()).subscribe(e)})}function cc(n,e){const t=Fe(n)?n:()=>n,r=i=>i.error(t());return new We(e?i=>e.schedule(r,0,i):r)}function PI(){return kt((n,e)=>{let t=null;n._refCount++;const r=Dt(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class SF extends We{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,QA(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Wn;const t=this.getSubject();e.add(this.source.subscribe(Dt(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Wn.EMPTY)}return e}refCount(){return PI()(this)}}function ri(n,e){return kt((t,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();t.subscribe(Dt(r,u=>{i?.unsubscribe();let l=0;const c=s++;cr(n(u,c)).subscribe(i=Dt(r,d=>r.next(e?e(u,d,c,l++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function ru(n){return n<=0?()=>Hr:kt((e,t)=>{let r=0;e.subscribe(Dt(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function hs(n,e){return kt((t,r)=>{let i=0;t.subscribe(Dt(r,s=>n.call(e,s,i++)&&r.next(s)))})}function op(n){return kt((e,t)=>{let r=!1;e.subscribe(Dt(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function AF(n=jee){return kt((e,t)=>{let r=!1;e.subscribe(Dt(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function jee(){return new ip}function fs(n,e){const t=arguments.length>=2;return r=>r.pipe(n?hs((i,s)=>n(i,s,r)):Ws,ru(1),t?op(e):AF(()=>new ip))}function Eo(n,e){return Fe(e)?$t(n,e,1):$t(n,1)}function ps(n){return kt((e,t)=>{let s,r=null,i=!1;r=e.subscribe(Dt(t,void 0,void 0,o=>{s=cr(n(o,ps(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function MF(n,e){return kt(function Gee(n,e,t,r,i){return(s,o)=>{let a=t,u=e,l=0;s.subscribe(Dt(o,c=>{const d=l++;u=a?n(u,c,d):(a=!0,c),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}(n,e,arguments.length>=2,!0))}function OI(n){return n<=0?()=>Hr:kt((e,t)=>{let r=[];e.subscribe(Dt(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function xF(n,e){const t=arguments.length>=2;return r=>r.pipe(n?hs((i,s)=>n(i,s,r)):Ws,OI(1),t?op(e):AF(()=>new ip))}function dc(n,e=!1){return kt((t,r)=>{let i=0;t.subscribe(Dt(r,s=>{const o=n(s,i++);(o||e)&&r.next(s),!o&&r.complete()}))})}function FI(n){return kt((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const ue="primary",hc=Symbol("RouteTitle");class zee{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function iu(n){return new zee(n)}function qee(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=n[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function ii(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!NF(n[i],e[i]))return!1;return!0}function NF(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}return n===e}function kF(n){return Array.prototype.concat.apply([],n)}function RF(n){return n.length>0?n[n.length-1]:null}function Kt(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function gs(n){return K_(n)?n:Bl(n)?yt(Promise.resolve(n)):K(n)}const ap=!1,Kee={exact:function FF(n,e,t){if(!Io(n.segments,e.segments)||!up(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!FF(n.children[r],e.children[r],t))return!1;return!0},subset:LF},PF={exact:function Qee(n,e){return ii(n,e)},subset:function Yee(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>NF(n[t],e[t]))},ignored:()=>!0};function OF(n,e,t){return Kee[t.paths](n.root,e.root,t.matrixParams)&&PF[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function LF(n,e,t){return VF(n,e,e.segments,t)}function VF(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Io(i,t)||e.hasChildren()||!up(i,t,r))}if(n.segments.length===t.length){if(!Io(n.segments,t)||!up(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!LF(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(Io(n.segments,i)&&up(n.segments,i,r)&&n.children[ue])&&VF(n.children[ue],e,s,r)}}function up(n,e,t){return e.every((r,i)=>PF[t](n[i].parameters,r.parameters))}class ms{constructor(e=new ge([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=iu(this.queryParams)),this._queryParamMap}toString(){return Zee.serialize(this)}}class ge{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Kt(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return lp(this)}}class fc{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=iu(this.parameters)),this._parameterMap}toString(){return $F(this)}}function Io(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let pc=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=B({token:n,factory:function(){return new LI},providedIn:"root"}),n})();class LI{parse(e){const t=new ute(e);return new ms(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${gc(e.root,!0)}`,r=function nte(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${cp(t)}=${cp(i)}`).join("&"):`${cp(t)}=${cp(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function ete(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Zee=new LI;function lp(n){return n.segments.map(e=>$F(e)).join("/")}function gc(n,e){if(!n.hasChildren())return lp(n);if(e){const t=n.children[ue]?gc(n.children[ue],!1):"",r=[];return Kt(n.children,(i,s)=>{s!==ue&&r.push(`${s}:${gc(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Jee(n,e){let t=[];return Kt(n.children,(r,i)=>{i===ue&&(t=t.concat(e(r,i)))}),Kt(n.children,(r,i)=>{i!==ue&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===ue?[gc(n.children[ue],!1)]:[`${i}:${gc(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[ue]?`${lp(n)}/${t[0]}`:`${lp(n)}/(${t.join("//")})`}}function UF(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function cp(n){return UF(n).replace(/%3B/gi,";")}function VI(n){return UF(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function dp(n){return decodeURIComponent(n)}function BF(n){return dp(n.replace(/\+/g,"%20"))}function $F(n){return`${VI(n.path)}${function tte(n){return Object.keys(n).map(e=>`;${VI(e)}=${VI(n[e])}`).join("")}(n.parameters)}`}const rte=/^[^\/()?;=#]+/;function hp(n){const e=n.match(rte);return e?e[0]:""}const ite=/^[^=?&#]+/,ote=/^[^&#]+/;class ute{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ge([],{}):new ge([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[ue]=new ge(e,t)),r}parseSegment(){const e=hp(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new b(4009,ap);return this.capture(e),new fc(dp(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=hp(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=hp(this.remaining);i&&(r=i,this.capture(r))}e[dp(t)]=dp(r)}parseQueryParam(e){const t=function ste(n){const e=n.match(ite);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=function ate(n){const e=n.match(ote);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=BF(t),s=BF(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=hp(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new b(4010,ap);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ue);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[ue]:new ge([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new b(4011,ap)}}function UI(n){return n.segments.length>0?new ge([],{[ue]:n}):n}function fp(n){const e={};for(const r of Object.keys(n.children)){const s=fp(n.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function lte(n){if(1===n.numberOfChildren&&n.children[ue]){const e=n.children[ue];return new ge(n.segments.concat(e.segments),e.children)}return n}(new ge(n.segments,e))}function bo(n){return n instanceof ms}const BI=!1;function cte(n,e,t,r,i){if(0===t.length)return su(e.root,e.root,e.root,r,i);const s=function qF(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new zF(!0,0,n);let e=0,t=!1;const r=n.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Kt(s.outlets,(u,l)=>{a[l]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new zF(t,e,r)}(t);return s.toRoot()?su(e.root,e.root,new ge([],{}),r,i):function o(u){const l=function hte(n,e,t,r){if(n.isAbsolute)return new ou(e.root,!0,0);if(-1===r)return new ou(t,t===e.root,0);return function WF(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new b(4005,BI&&"Invalid number of '../'");i=r.segments.length}return new ou(r,!1,i-s)}(t,r+(mc(n.commands[0])?0:1),n.numberOfDoubleDots)}(s,e,n.snapshot?._urlSegment,u),c=l.processChildren?au(l.segmentGroup,l.index,s.commands):$I(l.segmentGroup,l.index,s.commands);return su(e.root,l.segmentGroup,c,r,i)}(n.snapshot?._lastPathIndex)}function mc(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function yc(n){return"object"==typeof n&&null!=n&&n.outlets}function su(n,e,t,r,i){let o,s={};r&&Kt(r,(u,l)=>{s[l]=Array.isArray(u)?u.map(c=>`${c}`):`${u}`}),o=n===e?t:HF(n,e,t);const a=UI(fp(o));return new ms(a,s,i)}function HF(n,e,t){const r={};return Kt(n.children,(i,s)=>{r[s]=i===e?t:HF(i,e,t)}),new ge(n.segments,r)}class zF{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&mc(r[0]))throw new b(4003,BI&&"Root segment cannot have matrix parameters");const i=r.find(yc);if(i&&i!==RF(r))throw new b(4004,BI&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ou{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function $I(n,e,t){if(n||(n=new ge([],{})),0===n.segments.length&&n.hasChildren())return au(n,e,t);const r=function pte(n,e,t){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;const o=n.segments[i],a=t[r];if(yc(a))break;const u=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&void 0===u)break;if(u&&l&&"object"==typeof l&&void 0===l.outlets){if(!QF(u,l,o))return s;r+=2}else{if(!QF(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new ge(n.segments.slice(0,r.pathIndex),{});return s.children[ue]=new ge(n.segments.slice(r.pathIndex),n.children),au(s,0,i)}return r.match&&0===i.length?new ge(n.segments,{}):r.match&&!n.hasChildren()?jI(n,e,t):r.match?au(n,0,i):jI(n,e,t)}function au(n,e,t){if(0===t.length)return new ge(n.segments,{});{const r=function fte(n){return yc(n[0])?n[0].outlets:{[ue]:n}}(t),i={};if(!r[ue]&&n.children[ue]&&1===n.numberOfChildren&&0===n.children[ue].segments.length){const s=au(n.children[ue],e,t);return new ge(n.segments,s.children)}return Kt(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=$I(n.children[o],e,s))}),Kt(n.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new ge(n.segments,i)}}function jI(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const s=t[i];if(yc(s)){const u=gte(s.outlets);return new ge(r,u)}if(0===i&&mc(t[0])){r.push(new fc(n.segments[e].path,KF(t[0]))),i++;continue}const o=yc(s)?s.outlets[ue]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&mc(a)?(r.push(new fc(o,KF(a))),i+=2):(r.push(new fc(o,{})),i++)}return new ge(r,{})}function gte(n){const e={};return Kt(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=jI(new ge([],{}),0,t))}),e}function KF(n){const e={};return Kt(n,(t,r)=>e[r]=`${t}`),e}function QF(n,e,t){return n==t.path&&ii(e,t.parameters)}const _c="imperative";class si{constructor(e,t){this.id=e,this.url=t}}class GI extends si{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class To extends si{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class pp extends si{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class gp extends si{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class HI extends si{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class mte extends si{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class yte extends si{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _te extends si{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class vte extends si{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wte extends si{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ete{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ite{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class bte{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Tte{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Dte{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Cte{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class YF{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let Mte=(()=>{class n{createUrlTree(t,r,i,s,o,a){return cte(t||r.root,i,s,o,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=B({token:n,factory:n.\u0275fac}),n})(),Nte=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=B({token:n,factory:function(e){return Mte.\u0275fac(e)},providedIn:"root"}),n})();class XF{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=zI(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=zI(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=qI(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return qI(e,this._root).map(t=>t.value)}}function zI(n,e){if(n===e.value)return e;for(const t of e.children){const r=zI(n,t);if(r)return r}return null}function qI(n,e){if(n===e.value)return[e];for(const t of e.children){const r=qI(n,t);if(r.length)return r.unshift(e),r}return[]}class ji{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function uu(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class JF extends XF{constructor(e,t){super(e),this.snapshot=t,WI(this,e)}toString(){return this.snapshot.toString()}}function ZF(n,e){const t=function kte(n,e){const o=new mp([],{},{},"",{},ue,e,null,n.root,-1,{});return new tL("",new ji(o,[]))}(n,e),r=new cn([new fc("",{})]),i=new cn({}),s=new cn({}),o=new cn({}),a=new cn(""),u=new lu(r,i,o,a,s,ue,e,t.root);return u.snapshot=t.root,new JF(new ji(u,[]),t)}class lu{constructor(e,t,r,i,s,o,a,u){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.title=this.data?.pipe(fe(l=>l[hc]))??K(void 0),this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(fe(e=>iu(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(fe(e=>iu(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function eL(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function Rte(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class mp{get title(){return this.data?.[hc]}constructor(e,t,r,i,s,o,a,u,l,c,d){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._urlSegment=l,this._lastPathIndex=c,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=iu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=iu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class tL extends XF{constructor(e,t){super(t),this.url=e,WI(this,t)}toString(){return nL(this._root)}}function WI(n,e){e.value._routerState=n,e.children.forEach(t=>WI(n,t))}function nL(n){const e=n.children.length>0?` { ${n.children.map(nL).join(", ")} } `:"";return`${n.value}${e}`}function KI(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,ii(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),ii(e.params,t.params)||n.params.next(t.params),function Wee(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!ii(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),ii(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function QI(n,e){const t=ii(n.params,e.params)&&function Xee(n,e){return Io(n,e)&&n.every((t,r)=>ii(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||QI(n.parent,e.parent))}function vc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function Ote(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return vc(n,r,i);return vc(n,r)})}(n,e,t);return new ji(r,i)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>vc(n,a)),o}}const r=function Fte(n){return new lu(new cn(n.url),new cn(n.params),new cn(n.queryParams),new cn(n.fragment),new cn(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(s=>vc(n,s));return new ji(r,i)}}const YI="ngNavigationCancelingError";function rL(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=bo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=iL(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function iL(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[YI]=!0,r.cancellationCode=e,t&&(r.url=t),r}function sL(n){return oL(n)&&bo(n.url)}function oL(n){return n&&n[YI]}class Lte{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new wc,this.attachRef=null}}let wc=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Lte,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const yp=!1;let XI=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=ue,this.activateEvents=new Je,this.deactivateEvents=new Je,this.attachEvents=new Je,this.detachEvents=new Je,this.parentContexts=X(wc),this.location=X(Pr),this.changeDetector=X(Xl),this.environmentInjector=X(Si)}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new b(4012,yp);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new b(4012,yp);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new b(4012,yp);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new b(4013,yp);this._activatedRoute=t;const i=this.location,o=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new Vte(t,a,i.injector);if(r&&function Ute(n){return!!n.resolveComponentFactory}(r)){const l=r.resolveComponentFactory(o);this.activated=i.createComponent(l,i.length,u)}else this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=ee({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[fr]}),n})();class Vte{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===lu?this.route:e===wc?this.childContexts:this.parent.get(e,t)}}let JI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Cr({type:n,selectors:[["ng-component"]],standalone:!0,features:[yf],decls:1,vars:0,template:function(t,r){1&t&&un(0,"router-outlet")},dependencies:[XI],encapsulation:2}),n})();function aL(n,e){return n.providers&&!n._injector&&(n._injector=mf(n.providers,e,`Route: ${n.path}`)),n._injector??e}function eb(n){const e=n.children&&n.children.map(eb),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ue&&(t.component=JI),t}function vr(n){return n.outlet||ue}function uL(n,e){const t=n.filter(r=>vr(r)===e);return t.push(...n.filter(r=>vr(r)!==e)),t}function Ec(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class Hte{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),KI(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=uu(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Kt(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=uu(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=uu(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=uu(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Cte(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Tte(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(KI(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),KI(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=Ec(i.snapshot),u=a?.get(Da)??null;o.attachRef=null,o.route=i,o.resolver=u,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class lL{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class _p{constructor(e,t){this.component=e,this.route=t}}function zte(n,e,t){const r=n._root;return Ic(r,e?e._root:null,t,[r.value])}function cu(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||function Qz(n){return null!==ph(n)}(n)?e.get(n):n:r}function Ic(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=uu(e);return n.children.forEach(o=>{(function Wte(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function Kte(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Io(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Io(n.url,e.url)||!ii(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!QI(n,e)||!ii(n.queryParams,e.queryParams);default:return!QI(n,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new lL(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Ic(n,e,s.component?a?a.children:null:t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new _p(a.outlet.component,o))}else o&&bc(e,a,i),i.canActivateChecks.push(new lL(r)),Ic(n,null,s.component?a?a.children:null:t,r,i)})(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),Kt(s,(o,a)=>bc(o,t.getContext(a),i)),i}function bc(n,e,t){const r=uu(n),i=n.value;Kt(r,(s,o)=>{bc(s,i.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new _p(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Tc(n){return"function"==typeof n}function tb(n){return n instanceof ip||"EmptyError"===n?.name}const vp=Symbol("INITIAL_VALUE");function du(){return ri(n=>sp(n.map(e=>e.pipe(ru(1),function $ee(...n){const e=cl(n);return kt((t,r)=>{(e?RI(n,t,e):RI(n,t)).subscribe(r)})}(vp)))).pipe(fe(e=>{for(const t of e)if(!0!==t){if(t===vp)return vp;if(!1===t||t instanceof ms)return t}return!0}),hs(e=>e!==vp),ru(1)))}function cL(n){return function ZH(...n){return qA(n)}(Wt(e=>{if(bo(e))throw rL(0,e)}),fe(e=>!0===e))}const nb={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function dL(n,e,t,r,i){const s=rb(n,e,t);return s.matched?function dne(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?K(i.map(o=>{const a=cu(o,n);return gs(function ene(n){return n&&Tc(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe(du(),cL()):K(!0)}(r=aL(e,r),e,t).pipe(fe(o=>!0===o?s:{...nb})):K(s)}function rb(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...nb}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||qee)(t,n,e);if(!i)return{...nb};const s={};Kt(i.posParams,(a,u)=>{s[u]=a.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function wp(n,e,t,r){if(t.length>0&&function pne(n,e,t){return t.some(r=>Ep(n,e,r)&&vr(r)!==ue)}(n,t,r)){const s=new ge(e,function fne(n,e,t,r){const i={};i[ue]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&vr(s)!==ue){const o=new ge([],{});o._sourceSegment=n,o._segmentIndexShift=e.length,i[vr(s)]=o}return i}(n,e,r,new ge(t,n.children)));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:[]}}if(0===t.length&&function gne(n,e,t){return t.some(r=>Ep(n,e,r))}(n,t,r)){const s=new ge(n.segments,function hne(n,e,t,r,i){const s={};for(const o of r)if(Ep(n,t,o)&&!i[vr(o)]){const a=new ge([],{});a._sourceSegment=n,a._segmentIndexShift=e.length,s[vr(o)]=a}return{...i,...s}}(n,e,t,r,n.children));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}const i=new ge(n.segments,n.children);return i._sourceSegment=n,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:t}}function Ep(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function hL(n,e,t,r){return!!(vr(n)===r||r!==ue&&Ep(e,t,n))&&("**"===n.path||rb(e,n,t).matched)}function fL(n,e,t){return 0===e.length&&!n.children[t]}const Ip=!1;class bp{constructor(e){this.segmentGroup=e||null}}class pL{constructor(e){this.urlTree=e}}function Dc(n){return cc(new bp(n))}function gL(n){return cc(new pL(n))}class vne{constructor(e,t,r,i,s){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0}apply(){const e=wp(this.urlTree.root,[],[],this.config).segmentGroup,t=new ge(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,ue).pipe(fe(s=>this.createUrlTree(fp(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ps(s=>{if(s instanceof pL)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof bp?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,ue).pipe(fe(i=>this.createUrlTree(fp(i),e.queryParams,e.fragment))).pipe(ps(i=>{throw i instanceof bp?this.noMatchError(i):i}))}noMatchError(e){return new b(4002,Ip)}createUrlTree(e,t,r){const i=UI(e);return new ms(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe(fe(s=>new ge([],s))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return yt(i).pipe(Eo(s=>{const o=r.children[s],a=uL(t,s);return this.expandSegmentGroup(e,a,o,s).pipe(fe(u=>({segment:u,outlet:s})))}),MF((s,o)=>(s[o.outlet]=o.segment,s),{}),xF())}expandSegment(e,t,r,i,s,o){return yt(r).pipe(Eo(a=>this.expandSegmentAgainstRoute(e,t,r,a,i,s,o).pipe(ps(l=>{if(l instanceof bp)return K(null);throw l}))),fs(a=>!!a),ps((a,u)=>{if(tb(a))return fL(t,i,s)?K(new ge([],{})):Dc(t);throw a}))}expandSegmentAgainstRoute(e,t,r,i,s,o,a){return hL(i,t,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o):Dc(t):Dc(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?gL(s):this.lineralizeSegments(r,s).pipe($t(o=>{const a=new ge(o,{});return this.expandSegment(e,a,t,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){const{matched:a,consumedSegments:u,remainingSegments:l,positionalParamSegments:c}=rb(t,i,s);if(!a)return Dc(t);const d=this.applyRedirectCommands(u,i.redirectTo,c);return i.redirectTo.startsWith("/")?gL(d):this.lineralizeSegments(i,d).pipe($t(h=>this.expandSegment(e,t,r,h.concat(l),o,!1)))}matchSegmentAgainstRoute(e,t,r,i,s){return"**"===r.path?(e=aL(r,e),r.loadChildren?(r._loadedRoutes?K({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe(fe(a=>(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,new ge(i,{})))):K(new ge(i,{}))):dL(t,r,i,e).pipe(ri(({matched:o,consumedSegments:a,remainingSegments:u})=>o?this.getChildConfig(e=r._injector??e,r,i).pipe($t(c=>{const d=c.injector??e,h=c.routes,{segmentGroup:f,slicedSegments:p}=wp(t,a,u,h),g=new ge(f.segments,f.children);if(0===p.length&&g.hasChildren())return this.expandChildren(d,h,g).pipe(fe(v=>new ge(a,v)));if(0===h.length&&0===p.length)return K(new ge(a,{}));const m=vr(r)===s;return this.expandSegment(d,g,h,p,m?ue:s,!0).pipe(fe(I=>new ge(a.concat(I.segments),I.children)))})):Dc(t)))}getChildConfig(e,t,r){return t.children?K({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?K({routes:t._loadedRoutes,injector:t._loadedInjector}):function cne(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?K(!0):K(i.map(o=>{const a=cu(o,n);return gs(function Yte(n){return n&&Tc(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe(du(),cL())}(e,t,r).pipe($t(i=>i?this.configLoader.loadChildren(e,t).pipe(Wt(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function yne(n){return cc(iL(Ip,3))}())):K({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return K(r);if(i.numberOfChildren>1||!i.children[ue])return e.redirectTo,cc(new b(4e3,Ip));i=i.children[ue]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const s=this.createSegmentGroup(e,t.root,r,i);return new ms(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Kt(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=t[a]}else r[s]=i}),r}createSegmentGroup(e,t,r,i){const s=this.createSegments(e,t.segments,r,i);let o={};return Kt(t.children,(a,u)=>{o[u]=this.createSegmentGroup(e,a,r,i)}),new ge(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new b(4001,Ip);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class Ene{}class Tne{constructor(e,t,r,i,s,o,a){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a}recognize(){const e=wp(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,ue).pipe(fe(t=>{if(null===t)return null;const r=new mp([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ue,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new ji(r,t),s=new tL(this.url,i);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(e){const t=e.value,r=eL(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return yt(Object.keys(r.children)).pipe(Eo(i=>{const s=r.children[i],o=uL(t,i);return this.processSegmentGroup(e,o,s,i)}),MF((i,s)=>i&&s?(i.push(...s),i):null),dc(i=>null!==i),op(null),xF(),fe(i=>{if(null===i)return null;const s=yL(i);return function Dne(n){n.sort((e,t)=>e.value.outlet===ue?-1:t.value.outlet===ue?1:e.value.outlet.localeCompare(t.value.outlet))}(s),s}))}processSegment(e,t,r,i,s){return yt(t).pipe(Eo(o=>this.processSegmentAgainstRoute(o._injector??e,o,r,i,s)),fs(o=>!!o),ps(o=>{if(tb(o))return fL(r,i,s)?K([]):K(null);throw o}))}processSegmentAgainstRoute(e,t,r,i,s){if(t.redirectTo||!hL(t,r,i,s))return K(null);let o;if("**"===t.path){const a=i.length>0?RF(i).parameters:{},u=vL(r)+i.length;o=K({snapshot:new mp(i,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,wL(t),vr(t),t.component??t._loadedComponent??null,t,_L(r),u,EL(t)),consumedSegments:[],remainingSegments:[]})}else o=dL(r,t,i,e).pipe(fe(({matched:a,consumedSegments:u,remainingSegments:l,parameters:c})=>{if(!a)return null;const d=vL(r)+u.length;return{snapshot:new mp(u,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,wL(t),vr(t),t.component??t._loadedComponent??null,t,_L(r),d,EL(t)),consumedSegments:u,remainingSegments:l}}));return o.pipe(ri(a=>{if(null===a)return K(null);const{snapshot:u,consumedSegments:l,remainingSegments:c}=a;e=t._injector??e;const d=t._loadedInjector??e,h=function Cne(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:f,slicedSegments:p}=wp(r,l,c,h.filter(m=>void 0===m.redirectTo));if(0===p.length&&f.hasChildren())return this.processChildren(d,h,f).pipe(fe(m=>null===m?null:[new ji(u,m)]));if(0===h.length&&0===p.length)return K([new ji(u,[])]);const g=vr(t)===s;return this.processSegment(d,h,f,p,g?ue:s).pipe(fe(m=>null===m?null:[new ji(u,m)]))}))}}function Sne(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function yL(n){const e=[],t=new Set;for(const r of n){if(!Sne(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=yL(r.children);e.push(new ji(r.value,i))}return e.filter(r=>!t.has(r))}function _L(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function vL(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function wL(n){return n.data||{}}function EL(n){return n.resolve||{}}function IL(n){return"string"==typeof n.title||null===n.title}function ib(n){return ri(e=>{const t=n(e);return t?yt(t).pipe(fe(()=>e)):K(e)})}const hu=new $("ROUTES");let sb=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=X(wR)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return K(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=gs(t.loadComponent()).pipe(fe(TL),Wt(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),FI(()=>{this.componentLoaders.delete(t)})),i=new SF(r,()=>new tn).pipe(PI());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return K({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(fe(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let u,l,c=!1;Array.isArray(a)?l=a:(u=a.create(t).injector,l=kF(u.get(hu,[],Y.Self|Y.Optional)));return{routes:l.map(eb),injector:u}}),FI(()=>{this.childrenLoaders.delete(r)})),o=new SF(s,()=>new tn).pipe(PI());return this.childrenLoaders.set(r,o),o}loadModuleFactoryOrRoutes(t){return gs(t()).pipe(fe(TL),$t(r=>r instanceof Ak||Array.isArray(r)?K(r):yt(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function TL(n){return function One(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Dp=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new tn,this.configLoader=X(sb),this.environmentInjector=X(Si),this.urlSerializer=X(pc),this.rootContexts=X(wc),this.navigationId=0,this.afterPreactivation=()=>K(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new Ite(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new Ete(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new cn({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:_c,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(hs(r=>0!==r.id),fe(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),ri(r=>{let i=!1,s=!1;return K(r).pipe(Wt(o=>{this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),ri(o=>{const a=t.browserUrlTree.toString(),u=!t.navigated||o.extractedUrl.toString()!==a||a!==t.currentUrlTree.toString();if(!u&&"reload"!==(o.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const c="";return this.events.next(new gp(o.id,t.serializeUrl(r.rawUrl),c,0)),t.rawUrlTree=o.rawUrl,o.resolve(null),Hr}if(t.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return DL(o.source)&&(t.browserUrlTree=o.extractedUrl),K(o).pipe(ri(c=>{const d=this.transitions?.getValue();return this.events.next(new GI(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),d!==this.transitions?.getValue()?Hr:Promise.resolve(c)}),function wne(n,e,t,r){return ri(i=>function _ne(n,e,t,r,i){return new vne(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe(fe(s=>({...i,urlAfterRedirects:s}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),Wt(c=>{this.currentNavigation={...this.currentNavigation,finalUrl:c.urlAfterRedirects},r.urlAfterRedirects=c.urlAfterRedirects}),function Mne(n,e,t,r,i){return $t(s=>function bne(n,e,t,r,i,s,o="emptyOnly"){return new Tne(n,e,t,r,i,o,s).recognize().pipe(ri(a=>null===a?function Ine(n){return new We(e=>e.error(n))}(new Ene):K(a)))}(n,e,t,s.urlAfterRedirects,r.serialize(s.urlAfterRedirects),r,i).pipe(fe(o=>({...s,targetSnapshot:o}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),Wt(c=>{if(r.targetSnapshot=c.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!c.extras.skipLocationChange){const h=t.urlHandlingStrategy.merge(c.urlAfterRedirects,c.rawUrl);t.setBrowserUrl(h,c)}t.browserUrlTree=c.urlAfterRedirects}const d=new mte(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}));if(u&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:c,extractedUrl:d,source:h,restoredState:f,extras:p}=o,g=new GI(c,this.urlSerializer.serialize(d),h,f);this.events.next(g);const m=ZF(d,this.rootComponentType).snapshot;return K(r={...o,targetSnapshot:m,urlAfterRedirects:d,extras:{...p,skipLocationChange:!1,replaceUrl:!1}})}{const c="";return this.events.next(new gp(o.id,t.serializeUrl(r.extractedUrl),c,1)),t.rawUrlTree=o.rawUrl,o.resolve(null),Hr}}),Wt(o=>{const a=new yte(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}),fe(o=>r={...o,guards:zte(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),function nne(n,e){return $t(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?K({...t,guardsResult:!0}):function rne(n,e,t,r){return yt(n).pipe($t(i=>function lne(n,e,t,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?K(s.map(a=>{const u=Ec(e)??i,l=cu(a,u);return gs(function Zte(n){return n&&Tc(n.canDeactivate)}(l)?l.canDeactivate(n,e,t,r):u.runInContext(()=>l(n,e,t,r))).pipe(fs())})).pipe(du()):K(!0)}(i.component,i.route,t,e,r)),fs(i=>!0!==i,!0))}(o,r,i,n).pipe($t(a=>a&&function Qte(n){return"boolean"==typeof n}(a)?function ine(n,e,t,r){return yt(e).pipe(Eo(i=>RI(function one(n,e){return null!==n&&e&&e(new bte(n)),K(!0)}(i.route.parent,r),function sne(n,e){return null!==n&&e&&e(new Dte(n)),K(!0)}(i.route,r),function une(n,e,t){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function qte(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>CF(()=>K(o.guards.map(u=>{const l=Ec(o.node)??t,c=cu(u,l);return gs(function Jte(n){return n&&Tc(n.canActivateChild)}(c)?c.canActivateChild(r,n):l.runInContext(()=>c(r,n))).pipe(fs())})).pipe(du())));return K(s).pipe(du())}(n,i.path,t),function ane(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return K(!0);const i=r.map(s=>CF(()=>{const o=Ec(e)??t,a=cu(s,o);return gs(function Xte(n){return n&&Tc(n.canActivate)}(a)?a.canActivate(e,n):o.runInContext(()=>a(e,n))).pipe(fs())}));return K(i).pipe(du())}(n,i.route,t))),fs(i=>!0!==i,!0))}(r,s,n,e):K(a)),fe(a=>({...t,guardsResult:a})))})}(this.environmentInjector,o=>this.events.next(o)),Wt(o=>{if(r.guardsResult=o.guardsResult,bo(o.guardsResult))throw rL(0,o.guardsResult);const a=new _te(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(a)}),hs(o=>!!o.guardsResult||(t.restoreHistory(o),this.cancelNavigationTransition(o,"",3),!1)),ib(o=>{if(o.guards.canActivateChecks.length)return K(o).pipe(Wt(a=>{const u=new vte(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),ri(a=>{let u=!1;return K(a).pipe(function xne(n,e){return $t(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return K(t);let s=0;return yt(i).pipe(Eo(o=>function Nne(n,e,t,r){const i=n.routeConfig,s=n._resolve;return void 0!==i?.title&&!IL(i)&&(s[hc]=i.title),function kne(n,e,t,r){const i=function Rne(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return K({});const s={};return yt(i).pipe($t(o=>function Pne(n,e,t,r){const i=Ec(e)??r,s=cu(n,i);return gs(s.resolve?s.resolve(e,t):i.runInContext(()=>s(e,t)))}(n[o],e,t,r).pipe(fs(),Wt(a=>{s[o]=a}))),OI(1),function Hee(n){return fe(()=>n)}(s),ps(o=>tb(o)?Hr:cc(o)))}(s,n,e,r).pipe(fe(o=>(n._resolvedData=o,n.data=eL(n,t).resolve,i&&IL(i)&&(n.data[hc]=i.title),null)))}(o.route,r,n,e)),Wt(()=>s++),OI(1),$t(o=>s===i.length?K(t):Hr))})}(t.paramsInheritanceStrategy,this.environmentInjector),Wt({next:()=>u=!0,complete:()=>{u||(t.restoreHistory(a),this.cancelNavigationTransition(a,"",2))}}))}),Wt(a=>{const u=new wte(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}))}),ib(o=>{const a=u=>{const l=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&l.push(this.configLoader.loadComponent(u.routeConfig).pipe(Wt(c=>{u.component=c}),fe(()=>{})));for(const c of u.children)l.push(...a(c));return l};return sp(a(o.targetSnapshot.root)).pipe(op(),ru(1))}),ib(()=>this.afterPreactivation()),fe(o=>{const a=function Pte(n,e,t){const r=vc(n,e._root,t?t._root:void 0);return new JF(r,e)}(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return r={...o,targetRouterState:a}}),Wt(o=>{t.currentUrlTree=o.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),t.routerState=o.targetRouterState,"deferred"===t.urlUpdateStrategy&&(o.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,o),t.browserUrlTree=o.urlAfterRedirects)}),((n,e,t)=>fe(r=>(new Hte(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o)),ru(1),Wt({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new To(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),FI(()=>{i||s||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),ps(o=>{if(s=!0,oL(o)){sL(o)||(t.navigated=!0,t.restoreHistory(r,!0));const a=new pp(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode);if(this.events.next(a),sL(o)){const u=t.urlHandlingStrategy.merge(o.url,t.rawUrlTree),l={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||DL(r.source)};t.scheduleNavigation(u,_c,null,l,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const a=new HI(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);this.events.next(a);try{r.resolve(t.errorHandler(o))}catch(u){r.reject(u)}}return Hr}))}))}cancelNavigationTransition(t,r,i){const s=new pp(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(s),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function DL(n){return n!==_c}let CL=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===ue);return r}getResolvedTitleForRoute(t){return t.data[hc]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=B({token:n,factory:function(){return X(Fne)},providedIn:"root"}),n})(),Fne=(()=>{class n extends CL{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(P(UP))},n.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Lne=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=B({token:n,factory:function(){return X(Une)},providedIn:"root"}),n})();class Vne{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let Une=(()=>{class n extends Vne{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=Ht(n)))(r||n)}}(),n.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Cp=new $("",{providedIn:"root",factory:()=>({})});let $ne=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=B({token:n,factory:function(){return X(jne)},providedIn:"root"}),n})(),jne=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Gne(n){throw n}function Hne(n,e,t){return e.parse("/")}const zne={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},qne={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Gn=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=X(T7),this.isNgZoneEnabled=!1,this.options=X(Cp,{optional:!0})||{},this.errorHandler=this.options.errorHandler||Gne,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Hne,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=X($ne),this.routeReuseStrategy=X(Lne),this.urlCreationStrategy=X(Nte),this.titleStrategy=X(CL),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=kF(X(hu,{optional:!0})??[]),this.navigationTransitions=X(Dp),this.urlSerializer=X(pc),this.location=X(Bv),this.isNgZoneEnabled=X(Re)instanceof Re&&Re.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new ms,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=ZF(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId??0},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),_c,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const u={...i};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(s.state=u)}const a=this.parseUrl(t);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(eb),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:o;let c=null;switch(a){case"merge":c={...this.currentUrlTree.queryParams,...s};break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=s||null}return null!==c&&(c=this.removeEmptyProps(c)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,t,c,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=bo(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,_c,null,r)}navigate(t,r={skipLocationChange:!1}){return function Wne(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new b(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...zne}:!1===r?{...qne}:r,bo(t))return OF(this.currentUrlTree,t,i);const s=this.parseUrl(t);return OF(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const s=t[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(t,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,u,l,c;return o?(a=o.resolve,u=o.reject,l=o.promise):l=new Promise((d,h)=>{a=d,u=h}),c="computed"===this.canceledNavigationResolution?i&&i.\u0275routerPageId?i.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:c,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(d=>Promise.reject(d))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",o)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.go(i,"",s)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-(this.browserPageId??this.currentPageId);0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),fu=(()=>{class n{constructor(t,r,i,s,o,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=a,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new tn;const u=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===u||"area"===u,this.isAnchorElement?this.subscription=t.events.subscribe(l=>{l instanceof To&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=Ya(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=Ya(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=Ya(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,s,o){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||i||s||o||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:function r1(n,e,t){return function Cq(n,e){return"src"===e&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===e&&("base"===n||"link"===n)?n1:__}(e,t)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const i=this.renderer,s=this.el.nativeElement;null!==r?i.setAttribute(s,t,r):i.removeAttribute(s,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(T(Gn),T(lu),function Oh(n){return function K4(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const s=t[i];if(WM(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(s===e)return t[i+1];i+=2}}}return null}(Gt(),n)}("tabindex"),T(Ai),T(er),T(uo))},n.\u0275dir=ee({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,r){1&t&&ke("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&t&&Bn("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[fr]}),n})();class SL{}let Yne=(()=>{class n{constructor(t,r,i,s,o){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(hs(t=>t instanceof To),Eo(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=mf(s.providers,t,`Route: ${s.path}`));const o=s._injector??t,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return yt(i).pipe(sa())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):K(null);const s=i.pipe($t(o=>null===o?K(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));return r.loadComponent&&!r._loadedComponent?yt([s,this.loader.loadComponent(r)]).pipe(sa()):s})}}return n.\u0275fac=function(t){return new(t||n)(P(Gn),P(wR),P(Si),P(SL),P(sb))},n.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ab=new $("");let AL=(()=>{class n{constructor(t,r,i,s,o={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof GI?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof To&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof YF&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new YF(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){!function P1(){throw new Error("invalid")}()},n.\u0275prov=B({token:n,factory:n.\u0275fac}),n})();var rr=(()=>((rr=rr||{})[rr.COMPLETE=0]="COMPLETE",rr[rr.FAILED=1]="FAILED",rr[rr.REDIRECTING=2]="REDIRECTING",rr))();const pu=!1;function ys(n,e){return{\u0275kind:n,\u0275providers:e}}const ub=new $("",{providedIn:"root",factory:()=>!1});function xL(){const n=X(Dn);return e=>{const t=n.get(oo);if(e!==t.components[0])return;const r=n.get(Gn),i=n.get(NL);1===n.get(lb)&&r.initialNavigation(),n.get(kL,null,Y.Optional)?.setUpPreloading(),n.get(ab,null,Y.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const NL=new $(pu?"bootstrap done indicator":"",{factory:()=>new tn}),lb=new $(pu?"initial navigation":"",{providedIn:"root",factory:()=>1});function tre(){let n=[];return n=pu?[{provide:Wh,multi:!0,useFactory:()=>{const e=X(Gn);return()=>e.events.subscribe(t=>{console.group?.(`Router Event: ${t.constructor.name}`),console.log(function Ste(n){if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(t)),console.log(t),console.groupEnd?.()})}}]:[],ys(1,n)}const kL=new $(pu?"router preloader":"");function nre(n){return ys(0,[{provide:kL,useExisting:Yne},{provide:SL,useExisting:n}])}const Cc=!1,RL=new $(Cc?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),rre=[Bv,{provide:pc,useClass:LI},Gn,wc,{provide:lu,useFactory:function ML(n){return n.routerState.root},deps:[Gn]},sb,Cc?{provide:ub,useValue:!0}:[]];function ire(){return new AR("Router",Gn)}let PL=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[rre,Cc&&r?.enableTracing?tre().\u0275providers:[],{provide:hu,multi:!0,useValue:t},{provide:RL,useFactory:ure,deps:[[Gn,new Tn,new Sl]]},{provide:Cp,useValue:r||{}},r?.useHash?{provide:uo,useClass:d8}:{provide:uo,useClass:XR},{provide:ab,useFactory:()=>{const n=X(xK),e=X(Re),t=X(Cp),r=X(Dp),i=X(pc);return t.scrollOffset&&n.setOffset(t.scrollOffset),new AL(i,r,n,e,t)}},r?.preloadingStrategy?nre(r.preloadingStrategy).\u0275providers:[],{provide:AR,multi:!0,useFactory:ire},r?.initialNavigation?lre(r):[],[{provide:OL,useFactory:xL},{provide:SR,multi:!0,useExisting:OL}]]}}static forChild(t){return{ngModule:n,providers:[{provide:hu,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(P(RL,8))},n.\u0275mod=On({type:n}),n.\u0275inj=vn({imports:[JI]}),n})();function ure(n){if(Cc&&n)throw new b(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function lre(n){return["disabled"===n.initialNavigation?ys(3,[{provide:Ef,multi:!0,useFactory:()=>{const e=X(Gn);return()=>{e.setUpLocationChangeListener()}}},{provide:lb,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?ys(2,[{provide:lb,useValue:0},{provide:Ef,multi:!0,deps:[Dn],useFactory:e=>{const t=e.get(l8,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get(Gn),s=e.get(NL);(function Xne(n,e){n.events.pipe(hs(t=>t instanceof To||t instanceof pp||t instanceof HI||t instanceof gp),fe(t=>t instanceof To||t instanceof gp?rr.COMPLETE:t instanceof pp&&(0===t.code||1===t.code)?rr.REDIRECTING:rr.FAILED),hs(t=>t!==rr.REDIRECTING),ru(1)).subscribe(()=>{e()})})(i,()=>{r(!0)}),e.get(Dp).afterPreactivation=()=>(r(!0),s.closed?K(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const OL=new $(Cc?"Router Initializer":"");const dre=function FL(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},LL=new ei("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Sp=new Xa("@firebase/auth");function Ap(n,...e){Sp.logLevel<=_e.ERROR&&Sp.error(`Auth (${oc}): ${n}`,...e)}function Hn(n,...e){throw cb(n,...e)}function oi(n,...e){return cb(n,...e)}function cb(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return LL.create(n,...e)}function M(n,e,...t){if(!n)throw cb(e,...t)}function ai(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Ap(e),new Error(e)}function _s(n,e){n||ai(e)}function UL(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class Ac{constructor(e,t){this.shortDelay=e,this.longDelay=t,_s(t>e,"Short delay should be less than long delay!"),this.isMobile=function QQ(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nr())}()||function XQ(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function fre(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function db(){return"http:"===UL()||"https:"===UL()}()||gw()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class BL{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ai("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ai("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ai("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const gre={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},mre=new Ac(3e4,6e4);function st(n,e,t,r){return fb.apply(this,arguments)}function fb(){return(fb=y(function*(n,e,t,r,i={}){return $L(n,i,y(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=YP(Object.assign({key:n.config.apiKey},o)).slice(1),u=yield n._getAdditionalHeaders();return u["Content-Type"]="application/json",n.languageCode&&(u["X-Firebase-Locale"]=n.languageCode),BL.fetch()(jL(n,n.config.apiHost,t,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function $L(n,e,t){return pb.apply(this,arguments)}function pb(){return(pb=y(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},gre),e);try{const i=new yre(n),s=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw Mc(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,l]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw Mc(n,"credential-already-in-use",o);if("EMAIL_EXISTS"===u)throw Mc(n,"email-already-in-use",o);if("USER_DISABLED"===u)throw Mc(n,"user-disabled",o);const c=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw function VL(n,e,t){const r=Object.assign(Object.assign({},dre()),{[e]:t});return new ei("auth","Firebase",r).create(e,{appName:n.name})}(n,c,l);Hn(n,c)}}catch(i){if(i instanceof Vr)throw i;Hn(n,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function jL(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?function hb(n,e){_s(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}(n.config,i):`${n.config.apiScheme}://${i}`}class yre{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(oi(this.auth,"network-request-failed")),mre.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Mc(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=oi(n,e,r);return i.customData._tokenResponse=t,i}function mb(){return(mb=y(function*(n,e){return st(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function _b(){return(_b=y(function*(n,e){return st(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function xc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function vb(){return(vb=y(function*(n,e=!1){const t=An(n),r=yield t.getIdToken(e),i=Mp(r);M(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:xc(wb(i.auth_time)),issuedAtTime:xc(wb(i.iat)),expirationTime:xc(wb(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function wb(n){return 1e3*Number(n)}function Mp(n){const[e,t,r]=n.split(".");if(void 0===e||void 0===t||void 0===r)return Ap("JWT malformed, contained fewer than 3 sections"),null;try{const i=zf(t);return i?JSON.parse(i):(Ap("Failed to decode base64 JWT payload"),null)}catch(i){return Ap("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Hi(n,e){return Eb.apply(this,arguments)}function Eb(){return(Eb=y(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof Vr&&function bre({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})).apply(this,arguments)}class Tre{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(y(function*(){yield t.iteration()}),r)}iteration(){var e=this;return y(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class GL{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=xc(this.lastLoginAt),this.creationTime=xc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Nc(n){return Ib.apply(this,arguments)}function Ib(){return Ib=y(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),i=yield Hi(n,function wre(n,e){return _b.apply(this,arguments)}(t,{idToken:r}));M(i?.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?function Sre(n){return n.map(e=>{var{providerId:t}=e,r=ay(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(s.providerUserInfo):[],a=function Cre(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(n.providerData,o),c=!!n.isAnonymous&&!(n.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new GL(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(n,d)}),Ib.apply(this,arguments)}function bb(){return(bb=y(function*(n){const e=An(n);yield Nc(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function Tb(){return(Tb=y(function*(n,e){const t=yield $L(n,{},y(function*(){const r=YP({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=jL(n,i,"/v1/token",`key=${s}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",BL.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}class kc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){M(e.idToken,"internal-error"),M(typeof e.idToken<"u","internal-error"),M(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function Ire(n){const e=Mp(n);return M(e,"internal-error"),M(typeof e.exp<"u","internal-error"),M(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var r=this;return y(function*(){return M(!r.accessToken||r.refreshToken,e,"user-token-expired"),t||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return y(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function Are(n,e){return Tb.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new kc;return r&&(M("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(M("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(M("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new kc,this.toJSON())}_performRefresh(){return ai("not implemented")}}function vs(n,e){M("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class Do{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=ay(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Tre(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new GL(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var t=this;return y(function*(){const r=yield Hi(t,t.stsTokenManager.getToken(t.auth,e));return M(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function Ere(n){return vb.apply(this,arguments)}(this,e)}reload(){return function Dre(n){return bb.apply(this,arguments)}(this)}_assign(e){this!==e&&(M(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Do(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){M(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var r=this;return y(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield Nc(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return y(function*(){const t=yield e.getIdToken();return yield Hi(e,function _re(n,e){return mb.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,a,u,l,c;const d=null!==(r=t.displayName)&&void 0!==r?r:void 0,h=null!==(i=t.email)&&void 0!==i?i:void 0,f=null!==(s=t.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=t.photoURL)&&void 0!==o?o:void 0,g=null!==(a=t.tenantId)&&void 0!==a?a:void 0,m=null!==(u=t._redirectEventId)&&void 0!==u?u:void 0,_=null!==(l=t.createdAt)&&void 0!==l?l:void 0,I=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:v,emailVerified:A,isAnonymous:L,providerData:V,stsTokenManager:be}=t;M(v&&be,e,"internal-error");const Nt=kc.fromJSON(this.name,be);M("string"==typeof v,e,"internal-error"),vs(d,e.name),vs(h,e.name),M("boolean"==typeof A,e,"internal-error"),M("boolean"==typeof L,e,"internal-error"),vs(f,e.name),vs(p,e.name),vs(g,e.name),vs(m,e.name),vs(_,e.name),vs(I,e.name);const yn=new Do({uid:v,auth:e,email:h,emailVerified:A,displayName:d,isAnonymous:L,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:Nt,createdAt:_,lastLoginAt:I});return V&&Array.isArray(V)&&(yn.providerData=V.map(Gr=>Object.assign({},Gr))),m&&(yn._redirectEventId=m),yn}static _fromIdTokenResponse(e,t,r=!1){return y(function*(){const i=new kc;i.updateFromServerResponse(t);const s=new Do({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Nc(s),s})()}}const HL=new Map;function zi(n){_s(n instanceof Function,"Expected a class definition");let e=HL.get(n);return e?(_s(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,HL.set(n,e),e)}const zL=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return y(function*(){return!0})()}_set(t,r){var i=this;return y(function*(){i.storage[t]=r})()}_get(t){var r=this;return y(function*(){const i=r.storage[t];return void 0===i?null:i})()}_remove(t){var r=this;return y(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function xp(n,e,t){return`firebase:${n}:${e}:${t}`}class mu{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=xp(this.userKey,i.apiKey,s),this.fullPersistenceKey=xp("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return y(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?Do._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return y(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return y(function*(){if(!t.length)return new mu(zi(zL),e,r);const i=(yield Promise.all(t.map(function(){var l=y(function*(c){if(yield c._isAvailable())return c});return function(c){return l.apply(this,arguments)}}()))).filter(l=>l);let s=i[0]||zi(zL);const o=xp(r,e.config.apiKey,e.name);let a=null;for(const l of t)try{const c=yield l._get(o);if(c){const d=Do._fromJSON(e,c);l!==s&&(a=d),s=l;break}}catch{}const u=i.filter(l=>l._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(t.map(function(){var l=y(function*(c){if(c!==s)try{yield c._remove(o)}catch{}});return function(c){return l.apply(this,arguments)}}())),new mu(s,e,r)):new mu(s,e,r)})()}}function qL(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function QL(n=nr()){return/iemobile/i.test(n)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function WL(n=nr()){return/firefox\//i.test(n)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function XL(n=nr()){return/blackberry/i.test(n)}(e))return"Blackberry";if(function JL(n=nr()){return/webos/i.test(n)}(e))return"Webos";if(function Db(n=nr()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function KL(n=nr()){return/crios\//i.test(n)}(e))&&!e.includes("edge/"))return"Chrome";if(function YL(n=nr()){return/android/i.test(n)}(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function ZL(n,e=[]){let t;switch(n){case"Browser":t=qL(nr());break;case"Worker":t=`${qL(nr())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${oc}/${r}`}function eV(n,e){return Sb.apply(this,arguments)}function Sb(){return(Sb=y(function*(n,e){return st(n,"GET","/v2/recaptchaConfig",function et(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}(n,e))})).apply(this,arguments)}function nV(n){return void 0!==n&&void 0!==n.enterprise}class rV{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(t=>"EMAIL_PASSWORD_PROVIDER"===t.provider&&"OFF"!==t.enforcementState)}}const Ore="NO_RECAPTCHA";class sV{constructor(e){this.type="recaptcha-enterprise",this.auth=Pt(e)}verify(e="verify",t=!1){var r=this;return y(function*(){function s(){return s=y(function*(a){if(!t){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var u=y(function*(l,c){eV(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const h=new rV(d);return null==a.tenantId?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,l(h.siteKey)}c(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{c(d)})});return function(l,c){return u.apply(this,arguments)}}())}),s.apply(this,arguments)}function o(a,u,l){const c=window.grecaptcha;nV(c)?c.enterprise.ready(()=>{c.enterprise.execute(a,{action:e}).then(d=>{u(d)}).catch(()=>{u(Ore)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,u)=>{(function i(a){return s.apply(this,arguments)})(r.auth).then(l=>{if(!t&&nV(window.grecaptcha))o(l,a,u);else{if(typeof window>"u")return void u(new Error("RecaptchaVerifier is only supported in browser"));(function Ab(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=oi("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",function kre(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(r)})})("https://www.google.com/recaptcha/enterprise.js?render="+l).then(()=>{o(l,a,u)}).catch(c=>{u(c)})}}).catch(l=>{u(l)})})})()}}class Fre{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(u){a(u)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return y(function*(){if(t.auth.currentUser===e)return;const r=[];try{for(const i of t.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class Lre{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new oV(this),this.idTokenSubscription=new oV(this),this.beforeStateQueue=new Fre(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=LL,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=zi(t)),this._initializationPromise=this.queue(y(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield mu.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return y(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return y(function*(){var r;const i=yield t.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const a=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,u=s?._redirectEventId,l=yield t.tryRedirectSignIn(e);(!a||a===u)&&l?.user&&(s=l.user,o=!0)}if(!s)return t.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield t.beforeStateQueue.runMiddleware(s)}catch(a){s=i,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(a))}return s?t.reloadAndSetCurrentUserOrClear(s):t.directlySetCurrentUser(null)}return M(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===s._redirectEventId?t.directlySetCurrentUser(s):t.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var t=this;return y(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return y(function*(){try{yield Nc(e)}catch(r){if("auth/network-request-failed"!==r?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function pre(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return y(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return y(function*(){const r=e?An(e):null;return r&&M(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e,t=!1){var r=this;return y(function*(){if(!r._deleted)return e&&M(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),t||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(y(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return y(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue(y(function*(){yield t.assertedPersistence.setPersistence(zi(e))}))}initializeRecaptchaConfig(){var e=this;return y(function*(){const t=yield eV(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new rV(t);null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.emailPasswordEnabled&&new sV(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ei("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return y(function*(){const i=yield r.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return y(function*(){if(!t.redirectPersistenceManager){const r=e&&zi(e)||t._popupRedirectResolver;M(r,t,"argument-error"),t.redirectPersistenceManager=yield mu.create(t,[zi(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return y(function*(){var r,i;return t._isInitialized&&(yield t.queue(y(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return y(function*(){if(e===t.currentUser)return t.queue(y(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s="function"==typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return M(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof t?e.addObserver(t,r,i):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return y(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return M(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ZL(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return y(function*(){var t;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const s=yield e._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r})()}_getAppCheckToken(){var e=this;return y(function*(){var t;const r=yield null===(t=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();return r?.error&&function hre(n,...e){Sp.logLevel<=_e.WARN&&Sp.warn(`Auth (${oc}): ${n}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function Pt(n){return An(n)}class oV{constructor(e){this.auth=e,this.observer=null,this.addObserver=function tY(n,e){const t=new nY(n,e);return t.subscribe.bind(t)}(t=>this.observer=t)}get next(){return M(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function iV(n){return`__${n}${Math.floor(1e6*Math.random())}`})("rcb"),new Ac(3e4,6e4),new Ac(2e3,1e4),new Ac(3e4,6e4),new Ac(5e3,15e3),encodeURIComponent("fac");var OV="@firebase/auth";class Mse{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return y(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){M(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}qf(),function Nse(n){Mn(new ln("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;M(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ZL(n)},l=new Lre(r,i,s,u);return function Ure(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(zi);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Mn(new ln("auth-internal",e=>{const t=Pt(e.getProvider("auth").getImmediate());return new Mse(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ht(OV,"0.23.2",function xse(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),ht(OV,"0.23.2","esm2017")}("Browser");class UV{constructor(){return NI("auth")}}const mD=new Map,BV={activated:!1,tokenObservers:[]},Vse={initialized:!1,enabled:!1};function ot(n){return mD.get(n)||Object.assign({},BV)}function Gp(){return Vse}const yD="https://content-firebaseappcheck.googleapis.com/v1",jse="exchangeDebugToken",$V={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Hse{constructor(e,t,r,i,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return y(function*(){t.stop();try{t.pending=new Wf,yield function zse(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Wf,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Qt=new ei("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function _D(n){if(!ot(n).activated)throw Qt.create("use-before-activation",{appName:n.name})}function qp(n,e){return wD.apply(this,arguments)}function wD(){return wD=y(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(n,s)}catch(d){throw Qt.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==o.status)throw Qt.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw Qt.create("fetch-parse-error",{originalErrorMessage:d?.message})}const u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw Qt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const l=1e3*Number(u[1]),c=Date.now();return{token:a.token,expireTimeMillis:c+l,issuedAtTimeMillis:c}}),wD.apply(this,arguments)}function jV(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${yD}/projects/${t}/apps/${r}:${jse}?key=${i}`,body:{debug_token:e}}}const Qse="firebase-app-check-database",Yse=1,Lc="firebase-app-check-store";let Wp=null;function ED(){return ED=y(function*(n,e){const r=(yield function HV(){return Wp||(Wp=new Promise((n,e)=>{try{const t=indexedDB.open(Qse,Yse);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Qt.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Lc,{keyPath:"compositeKey"})}}catch(t){e(Qt.create("storage-open",{originalErrorMessage:t?.message}))}}),Wp)}()).transaction(Lc,"readwrite"),s=r.objectStore(Lc).put({compositeKey:n,value:e});return new Promise((o,a)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var l;a(Qt.create("storage-set",{originalErrorMessage:null===(l=u.target.error)||void 0===l?void 0:l.message}))}})}),ED.apply(this,arguments)}const Vc=new Xa("@firebase/app-check");function TD(n,e){return lo()?function Jse(n,e){return function zV(n,e){return ED.apply(this,arguments)}(function WV(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Vc.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function CD(){return Gp().enabled}function SD(){return AD.apply(this,arguments)}function AD(){return AD=y(function*(){const n=Gp();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),AD.apply(this,arguments)}const ioe={error:"UNKNOWN_ERROR"};function soe(n){return pw.encodeString(JSON.stringify(n),!1)}function Kp(n){return MD.apply(this,arguments)}function MD(){return MD=y(function*(n,e=!1){const t=n.app;_D(t);const r=ot(t);let s,i=r.token;if(i&&!_u(i)&&(r.token=void 0,i=void 0),!i){const u=yield r.cachedTokenPromise;u&&(_u(u)?i=u:yield TD(t,void 0))}if(!e&&i&&_u(i))return{token:i.token};let a,o=!1;if(CD()){r.exchangeTokenPromise||(r.exchangeTokenPromise=qp(jV(t,yield SD()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const u=yield r.exchangeTokenPromise;return yield TD(t,u),r.token=u,{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield ot(t).exchangeTokenPromise}catch(u){"appCheck/throttled"===u.code?Vc.warn(u.message):Vc.error(u),s=u}return i?s?a=_u(i)?{token:i.token,internalError:s}:XV(s):(a={token:i.token},r.token=i,yield TD(t,i)):a=XV(s),o&&function YV(n,e){const t=ot(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(t,a),a}),MD.apply(this,arguments)}function xD(){return xD=y(function*(n){const e=n.app;_D(e);const{provider:t}=ot(e);if(CD()){const r=yield SD(),{token:i}=yield qp(jV(e,r),n.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield t.getToken();return{token:r}}}),xD.apply(this,arguments)}function kD(n,e){const t=ot(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function QV(n){const{app:e}=n,t=ot(e);let r=t.tokenRefresher;r||(r=function ooe(n){const{app:e}=n;return new Hse(y(function*(){let r;if(r=ot(e).token?yield Kp(n,!0):yield Kp(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=ot(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},$V.RETRIAL_MIN_WAIT,$V.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function _u(n){return n.expireTimeMillis-Date.now()>0}function XV(n){return{token:soe(ioe),error:n}}class aoe{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=ot(this.app);for(const t of e)kD(this.app,t.next);return Promise.resolve()}}const s2="app-check-internal";!function Eoe(){Mn(new ln("app-check",n=>function uoe(n,e){return new aoe(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(s2).initialize()})),Mn(new ln(s2,n=>function loe(n){return{getToken:e=>Kp(n,e),getLimitedUseToken:()=>function KV(n){return xD.apply(this,arguments)}(n),addTokenListener:e=>function ND(n,e,t,r){const{app:i}=n,s=ot(i);if(s.tokenObservers=[...s.tokenObservers,{next:t,error:r,type:e}],s.token&&_u(s.token)){const a=s.token;Promise.resolve().then(()=>{t({token:a.token}),QV(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>QV(n))}(n,"INTERNAL",e),removeTokenListener:e=>kD(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),ht("@firebase/app-check","0.8.0")}();class a2{constructor(){return NI("app-check")}}typeof window<"u"&&window;var k,Coe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ur={},LD=LD||{},re=Coe||self;function Yp(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Uc(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var VD="closure_uid_"+(1e9*Math.random()>>>0),Aoe=0;function Moe(n,e,t){return n.call.apply(n.bind,arguments)}function xoe(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function dn(n,e,t){return(dn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Moe:xoe).apply(null,arguments)}function Xp(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Ot(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Es(){this.s=this.s,this.o=this.o}Es.prototype.s=!1,Es.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Soe(n){Object.prototype.hasOwnProperty.call(n,VD)&&n[VD]||(n[VD]=++Aoe)}(this)},Es.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const u2=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function UD(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function l2(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(Yp(r)){const i=n.length||0,s=r.length||0;n.length=i+s;for(let o=0;o<s;o++)n[i+o]=r[o]}else n.push(r)}}function hn(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}hn.prototype.h=function(){this.defaultPrevented=!0};var koe=function(){if(!re.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{re.addEventListener("test",()=>{},e),re.removeEventListener("test",()=>{},e)}catch{}return n}();function Bc(n){return/^[\s\xa0]*$/.test(n)}function Jp(){var n=re.navigator;return n&&(n=n.userAgent)?n:""}function ui(n){return-1!=Jp().indexOf(n)}function BD(n){return BD[" "](n),n}BD[" "]=function(){};var jD,Poe=ui("Opera"),vu=ui("Trident")||ui("MSIE"),c2=ui("Edge"),$D=c2||vu,d2=ui("Gecko")&&!(-1!=Jp().toLowerCase().indexOf("webkit")&&!ui("Edge"))&&!(ui("Trident")||ui("MSIE"))&&!ui("Edge"),Ooe=-1!=Jp().toLowerCase().indexOf("webkit")&&!ui("Edge");function h2(){var n=re.document;return n?n.documentMode:void 0}e:{var GD="",HD=function(){var n=Jp();return d2?/rv:([^\);]+)(\)|;)/.exec(n):c2?/Edge\/([\d\.]+)/.exec(n):vu?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Ooe?/WebKit\/(\S+)/.exec(n):Poe?/(?:Version)[ \/]?(\S+)/.exec(n):void 0}();if(HD&&(GD=HD?HD[1]:""),vu){var zD=h2();if(null!=zD&&zD>parseFloat(GD)){jD=String(zD);break e}}jD=GD}var Foe=re.document&&vu&&(h2()||parseInt(jD,10))||void 0;function $c(n,e){if(hn.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(d2){e:{try{BD(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Loe[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&$c.$.h.call(this)}}Ot($c,hn);var Loe={2:"touch",3:"pen",4:"mouse"};$c.prototype.h=function(){$c.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var jc="closure_listenable_"+(1e6*Math.random()|0),Voe=0;function Uoe(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++Voe,this.fa=this.ia=!1}function Zp(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function WD(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function p2(n){const e={};for(const t in n)e[t]=n[t];return e}const g2="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function m2(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let s=0;s<g2.length;s++)t=g2[s],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function eg(n){this.src=n,this.g={},this.h=0}function KD(n,e){var t=e.type;if(t in n.g){var s,r=n.g[t],i=u2(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Zp(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function QD(n,e,t,r){for(var i=0;i<n.length;++i){var s=n[i];if(!s.fa&&s.listener==e&&s.capture==!!t&&s.la==r)return i}return-1}eg.prototype.add=function(n,e,t,r,i){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var o=QD(n,e,r,i);return-1<o?(e=n[o],t||(e.ia=!1)):((e=new Uoe(e,this.src,s,!!r,i)).ia=t,n.push(e)),e};var YD="closure_lm_"+(1e6*Math.random()|0),XD={};function y2(n,e,t,r,i){if(r&&r.once)return v2(n,e,t,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)y2(n,e[s],t,r,i);return null}return t=tC(t),n&&n[jc]?n.O(e,t,Uc(r)?!!r.capture:!!r,i):_2(n,e,t,!1,r,i)}function _2(n,e,t,r,i,s){if(!e)throw Error("Invalid event type");var o=Uc(i)?!!i.capture:!!i,a=ZD(n);if(a||(n[YD]=a=new eg(n)),(t=a.add(e,t,r,o,s)).proxy)return t;if(r=function $oe(){const e=joe;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)koe||(i=o),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(E2(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function v2(n,e,t,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)v2(n,e[s],t,r,i);return null}return t=tC(t),n&&n[jc]?n.P(e,t,Uc(r)?!!r.capture:!!r,i):_2(n,e,t,!0,r,i)}function w2(n,e,t,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)w2(n,e[s],t,r,i);else r=Uc(r)?!!r.capture:!!r,t=tC(t),n&&n[jc]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=QD(s=n.g[e],t,r,i))&&(Zp(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=ZD(n))&&(e=n.g[e.toString()],n=-1,e&&(n=QD(e,t,r,i)),(t=-1<n?e[n]:null)&&JD(t))}function JD(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[jc])KD(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(E2(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=ZD(e))?(KD(t,n),0==t.h&&(t.src=null,e[YD]=null)):Zp(n)}}}function E2(n){return n in XD?XD[n]:XD[n]="on"+n}function joe(n,e){if(n.fa)n=!0;else{e=new $c(e,this);var t=n.listener,r=n.la||n.src;n.ia&&JD(n),n=t.call(r,e)}return n}function ZD(n){return(n=n[YD])instanceof eg?n:null}var eC="__closure_events_fn_"+(1e9*Math.random()>>>0);function tC(n){return"function"==typeof n?n:(n[eC]||(n[eC]=function(e){return n.handleEvent(e)}),n[eC])}function Ft(){Es.call(this),this.i=new eg(this),this.S=this,this.J=null}function Yt(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new hn(e,n);else if(e instanceof hn)e.target=e.target||n;else{var i=e;m2(e=new hn(r,n),i)}if(i=!0,t)for(var s=t.length-1;0<=s;s--){var o=e.g=t[s];i=tg(o,r,!0,e)&&i}if(i=tg(o=e.g=n,r,!0,e)&&i,i=tg(o,r,!1,e)&&i,t)for(s=0;s<t.length;s++)i=tg(o=e.g=t[s],r,!1,e)&&i}function tg(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==t){var a=o.listener,u=o.la||o.src;o.ia&&KD(n.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Ot(Ft,Es),Ft.prototype[jc]=!0,Ft.prototype.removeEventListener=function(n,e,t,r){w2(this,n,e,t,r)},Ft.prototype.N=function(){if(Ft.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Zp(t[r]);delete n.g[e],n.h--}}this.J=null},Ft.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Ft.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var nC=re.JSON.stringify;function Hoe(){var n=rC;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var I2=new class Goe{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new qoe,n=>n.reset());class qoe{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Woe(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function Koe(n){re.setTimeout(()=>{throw n},0)}let Gc,Hc=!1,rC=new class zoe{constructor(){this.h=this.g=null}add(e,t){const r=I2.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},b2=()=>{const n=re.Promise.resolve(void 0);Gc=()=>{n.then(Qoe)}};var Qoe=()=>{for(var n;n=Hoe();){try{n.h.call(n.g)}catch(t){Koe(t)}var e=I2;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Hc=!1};function ng(n,e){Ft.call(this),this.h=n||1,this.g=e||re,this.j=dn(this.qb,this),this.l=Date.now()}function iC(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function sC(n,e,t){if("function"==typeof n)t&&(n=dn(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=dn(n.handleEvent,n)}return 2147483647<Number(e)?-1:re.setTimeout(n,e||0)}function T2(n){n.g=sC(()=>{n.g=null,n.i&&(n.i=!1,T2(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Ot(ng,Ft),(k=ng.prototype).ga=!1,k.T=null,k.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Yt(this,"tick"),this.ga&&(iC(this),this.start()))}},k.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},k.N=function(){ng.$.N.call(this),iC(this),delete this.g};class Yoe extends Es{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:T2(this)}N(){super.N(),this.g&&(re.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function zc(n){Es.call(this),this.h=n,this.g={}}Ot(zc,Es);var D2=[];function C2(n,e,t,r){Array.isArray(t)||(t&&(D2[0]=t.toString()),t=D2);for(var i=0;i<t.length;i++){var s=y2(e,t[i],r||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function S2(n){WD(n.g,function(e,t){this.g.hasOwnProperty(t)&&JD(e)},n),n.g={}}function rg(){this.g=!0}function wu(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function eae(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return nC(t)}catch{return e}}(n,t)+(r?" "+r:"")})}zc.prototype.N=function(){zc.$.N.call(this),S2(this)},zc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},rg.prototype.Ea=function(){this.g=!1},rg.prototype.info=function(){};var Mo={},A2=null;function ig(){return A2=A2||new Ft}function M2(n){hn.call(this,Mo.Ta,n)}function qc(n){const e=ig();Yt(e,new M2(e))}function x2(n,e){hn.call(this,Mo.STAT_EVENT,n),this.stat=e}function Nn(n){const e=ig();Yt(e,new x2(e,n))}function N2(n,e){hn.call(this,Mo.Ua,n),this.size=e}function Wc(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return re.setTimeout(function(){n()},e)}Mo.Ta="serverreachability",Ot(M2,hn),Mo.STAT_EVENT="statevent",Ot(x2,hn),Mo.Ua="timingevent",Ot(N2,hn);var sg={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},k2={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function oC(){}function P2(){}oC.prototype.h=null;var lC,Kc={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function aC(){hn.call(this,"d")}function uC(){hn.call(this,"c")}function og(){}function Qc(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new zc(this),this.P=tae,this.V=new ng(n=$D?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new O2}function O2(){this.i=null,this.g="",this.h=!1}Ot(aC,hn),Ot(uC,hn),Ot(og,oC),og.prototype.g=function(){return new XMLHttpRequest},og.prototype.i=function(){return{}},lC=new og;var tae=45e3,cC={},ag={};function dC(n,e,t){n.L=1,n.v=dg(Wi(e)),n.s=t,n.S=!0,F2(n,null)}function F2(n,e){n.G=Date.now(),Yc(n),n.A=Wi(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),q2(t.i,"t",r),n.C=0,t=n.l.J,n.h=new O2,n.g=mU(n.l,t?e:null,!n.s),0<n.O&&(n.M=new Yoe(dn(n.Pa,n,n.g),n.O)),C2(n.U,n.g,"readystatechange",n.nb),e=n.I?p2(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),qc(),function Xoe(n,e,t,r,i,s){n.info(function(){if(n.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var l=a[u].split("=");if(1<l.length){var c=l[0];l=l[1];var d=c.split("_");o=2<=d.length&&"type"==d[1]?o+(c+"=")+l+"&":o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+o})}(n.j,n.u,n.A,n.m,n.W,n.s)}function L2(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function V2(n,e,t){let i,r=!0;for(;!n.J&&n.C<t.length;){if(i=nae(n,t),i==ag){4==e&&(n.o=4,Nn(14),r=!1),wu(n.j,n.m,null,"[Incomplete Response]");break}if(i==cC){n.o=4,Nn(15),wu(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}wu(n.j,n.m,i,null),hC(n,i)}L2(n)&&i!=ag&&i!=cC&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Nn(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),vC(e),e.M=!0,Nn(11))):(wu(n.j,n.m,t,"[Invalid Chunked Response]"),xo(n),Xc(n))}function nae(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?ag:(t=Number(e.substring(t,r)),isNaN(t)?cC:(r+=1)+t>e.length?ag:(e=e.slice(r,r+t),n.C=r+t,e))}function Yc(n){n.Y=Date.now()+n.P,U2(n,n.P)}function U2(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Wc(dn(n.lb,n),e)}function ug(n){n.B&&(re.clearTimeout(n.B),n.B=null)}function Xc(n){0==n.l.H||n.J||hU(n.l,n)}function xo(n){ug(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,iC(n.V),S2(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function hC(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||fC(t.i,n)))if(!n.K&&fC(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;yg(t),gg(t)}_C(t),Nn(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.G&&0==t.A&&!t.v&&(t.v=Wc(dn(t.ib,t),6e3));if(1>=Q2(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else ko(t,11)}else if((n.K||t.g==n)&&yg(t),!Bc(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let l=i[e];if(t.V=l[0],l=l[1],2==t.H)if("c"==l[0]){t.K=l[1],t.pa=l[2];const c=l[3];null!=c&&(t.ra=c,t.l.info("VER="+t.ra));const d=l[4];null!=d&&(t.Ga=d,t.l.info("SVER="+t.Ga));const h=l[5];null!=h&&"number"==typeof h&&0<h&&(t.L=r=1.5*h,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const f=n.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(pC(s,s.h),s.h=null))}if(r.F){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,Ge(r.I,r.F,g))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var o=n;if((r=t).wa=gU(r,r.J?r.pa:null,r.Y),o.K){Y2(r.i,o);var a=o,u=r.L;u&&a.setTimeout(u),a.B&&(ug(a),Yc(a)),r.g=o}else cU(r);0<t.j.length&&mg(t)}else"stop"!=l[0]&&"close"!=l[0]||ko(t,7);else 3==t.H&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?ko(t,7):yC(t):"noop"!=l[0]&&t.h&&t.h.Aa(l),t.A=0)}qc()}catch{}}function B2(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Yp(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function iae(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Yp(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function rae(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Yp(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],t&&t[s],n)}(k=Qc.prototype).setTimeout=function(n){this.P=n},k.nb=function(n){n=n.target;const e=this.M;e&&3==li(n)?e.l():this.Pa(n)},k.Pa=function(n){try{if(n==this.g)e:{const c=li(this.g);var e=this.g.Ia();if(this.g.da(),!(3>c)&&(3!=c||$D||this.g&&(this.h.h||this.g.ja()||iU(this.g)))){this.J||4!=c||7==e||qc(),ug(this);var t=this.g.da();this.ca=t;t:if(L2(this)){var r=iU(this.g);n="";var i=r.length,s=4==li(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){xo(this),Xc(this);var o="";break t}this.h.i=new re.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==t,function Joe(n,e,t,r,i,s,o){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,c,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Bc(a)){var l=a;break t}}l=null}if(!(t=l)){this.i=!1,this.o=3,Nn(12),xo(this),Xc(this);break e}wu(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,hC(this,t)}this.S?(V2(this,c,o),$D&&this.i&&3==c&&(C2(this.U,this.V,"tick",this.mb),this.V.start())):(wu(this.j,this.m,o,null),hC(this,o)),4==c&&xo(this),this.i&&!this.J&&(4==c?hU(this.l,this):(this.i=!1,Yc(this)))}else(function Iae(n){const e={};n=(n.g&&2<=li(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(Bc(n[r]))continue;var t=Woe(n[r]);const i=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const s=e[i]||[];e[i]=s,s.push(t)}!function Boe(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<o.indexOf("Unknown SID")?(this.o=3,Nn(12)):(this.o=0,Nn(13)),xo(this),Xc(this)}}}catch{}},k.mb=function(){if(this.g){var n=li(this.g),e=this.g.ja();this.C<e.length&&(ug(this),V2(this,n,e),this.i&&4!=n&&Yc(this))}},k.cancel=function(){this.J=!0,xo(this)},k.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function Zoe(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(qc(),Nn(17)),xo(this),this.o=2,Xc(this)):U2(this,this.Y-n)};var $2=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function No(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof No){this.h=n.h,lg(this,n.j),this.s=n.s,this.g=n.g,cg(this,n.m),this.l=n.l;var e=n.i,t=new ed;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),j2(this,t),this.o=n.o}else n&&(e=String(n).match($2))?(this.h=!1,lg(this,e[1]||"",!0),this.s=Jc(e[2]||""),this.g=Jc(e[3]||"",!0),cg(this,e[4]),this.l=Jc(e[5]||"",!0),j2(this,e[6]||"",!0),this.o=Jc(e[7]||"")):(this.h=!1,this.i=new ed(null,this.h))}function Wi(n){return new No(n)}function lg(n,e,t){n.j=t?Jc(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function cg(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function j2(n,e,t){e instanceof ed?(n.i=e,function dae(n,e){e&&!n.j&&(Is(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(H2(this,r),q2(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Zc(e,lae)),n.i=new ed(e,n.h))}function Ge(n,e,t){n.i.set(e,t)}function dg(n){return Ge(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Jc(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Zc(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,oae),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function oae(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}No.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Zc(e,G2,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Zc(e,G2,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Zc(t,"/"==t.charAt(0)?uae:aae,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Zc(t,cae)),n.join("")};var G2=/[#\/\?@]/g,aae=/[#\?:]/g,uae=/[#\?]/g,lae=/[#\?@]/g,cae=/#/g;function ed(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Is(n){n.g||(n.g=new Map,n.h=0,n.i&&function sae(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var s=n[t].substring(0,r);i=n[t].substring(r+1)}else s=n[t];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function H2(n,e){Is(n),e=Eu(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function z2(n,e){return Is(n),e=Eu(n,e),n.g.has(e)}function q2(n,e,t){H2(n,e),0<t.length&&(n.i=null,n.g.set(Eu(n,e),UD(t)),n.h+=t.length)}function Eu(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function W2(n){this.l=n||fae,n=re.PerformanceNavigationTiming?0<(n=re.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(re.g&&re.g.Ka&&re.g.Ka()&&re.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(k=ed.prototype).add=function(n,e){Is(this),this.i=null,n=Eu(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},k.forEach=function(n,e){Is(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},k.ta=function(){Is(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let s=0;s<i.length;s++)t.push(e[r])}return t},k.Z=function(n){Is(this);let e=[];if("string"==typeof n)z2(this,n)&&(e=e.concat(this.g.get(Eu(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},k.set=function(n,e){return Is(this),this.i=null,z2(this,n=Eu(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},k.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},k.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),n.push(i)}}return this.i=n.join("&")};var fae=10;function K2(n){return!!n.h||!!n.g&&n.g.size>=n.j}function Q2(n){return n.h?1:n.g?n.g.size:0}function fC(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function pC(n,e){n.g?n.g.add(e):n.h=e}function Y2(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function X2(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return UD(n.i)}W2.prototype.cancel=function(){if(this.i=X2(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var pae=class{stringify(n){return re.JSON.stringify(n,void 0)}parse(n){return re.JSON.parse(n,void 0)}};function gae(){this.g=new pae}function mae(n,e,t){const r=t||"";try{B2(n,function(i,s){let o=i;Uc(i)&&(o=nC(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function hg(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function td(n){this.l=n.fc||null,this.j=n.ob||!1}function fg(n,e){Ft.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=gC,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ot(td,oC),td.prototype.g=function(){return new fg(this.l,this.j)},td.prototype.i=function(n){return function(){return n}}({}),Ot(fg,Ft);var gC=0;function J2(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function nd(n){n.readyState=4,n.l=null,n.j=null,n.A=null,rd(n)}function rd(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(k=fg.prototype).open=function(n,e){if(this.readyState!=gC)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,rd(this)},k.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||re).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},k.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,nd(this)),this.readyState=gC},k.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,rd(this)),this.g&&(this.readyState=3,rd(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof re.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;J2(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},k.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?nd(this):rd(this),3==this.readyState&&J2(this)}},k.Za=function(n){this.g&&(this.response=this.responseText=n,nd(this))},k.Ya=function(n){this.g&&(this.response=n,nd(this))},k.ka=function(){this.g&&nd(this)},k.setRequestHeader=function(n,e){this.v.append(n,e)},k.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},k.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(fg.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var _ae=re.JSON.parse;function at(n){Ft.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Z2,this.L=this.M=!1}Ot(at,Ft);var Z2="",vae=/^https?$/i,wae=["POST","PUT"];function eU(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,tU(n),pg(n)}function tU(n){n.F||(n.F=!0,Yt(n,"complete"),Yt(n,"error"))}function nU(n){if(n.h&&typeof LD<"u"&&(!n.C[1]||4!=li(n)||2!=n.da()))if(n.v&&4==li(n))sC(n.La,0,n);else if(Yt(n,"readystatechange"),4==li(n)){n.h=!1;try{const o=n.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===o){var i=String(n.I).match($2)[1]||null;!i&&re.self&&re.self.location&&(i=re.self.location.protocol.slice(0,-1)),r=!vae.test(i?i.toLowerCase():"")}t=r}if(t)Yt(n,"complete"),Yt(n,"success");else{n.m=6;try{var s=2<li(n)?n.g.statusText:""}catch{s=""}n.j=s+" ["+n.da()+"]",tU(n)}}finally{pg(n)}}}function pg(n,e){if(n.g){rU(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||Yt(n,"ready");try{t.onreadystatechange=r}catch{}}}function rU(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(re.clearTimeout(n.A),n.A=null)}function li(n){return n.g?n.g.readyState:0}function iU(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case Z2:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function sU(n){let e="";return WD(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function mC(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=sU(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Ge(n,e,t))}function id(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function oU(n){this.Ga=0,this.j=[],this.l=new rg,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=id("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=id("baseRetryDelayMs",5e3,n),this.hb=id("retryDelaySeedMs",1e4,n),this.eb=id("forwardChannelMaxRetries",2,n),this.xa=id("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new W2(n&&n.concurrentRequestLimit),this.Ja=new gae,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function yC(n){if(aU(n),3==n.H){var e=n.W++,t=Wi(n.I);if(Ge(t,"SID",n.K),Ge(t,"RID",e),Ge(t,"TYPE","terminate"),sd(n,t),(e=new Qc(n,n.l,e)).L=2,e.v=dg(Wi(t)),t=!1,re.navigator&&re.navigator.sendBeacon)try{t=re.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&re.Image&&((new Image).src=e.v,t=!0),t||(e.g=mU(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Yc(e)}pU(n)}function gg(n){n.g&&(vC(n),n.g.cancel(),n.g=null)}function aU(n){gg(n),n.u&&(re.clearTimeout(n.u),n.u=null),yg(n),n.i.cancel(),n.m&&("number"==typeof n.m&&re.clearTimeout(n.m),n.m=null)}function mg(n){if(!K2(n.i)&&!n.m){n.m=!0;var e=n.Na;Gc||b2(),Hc||(Gc(),Hc=!0),rC.add(e,n),n.C=0}}function uU(n,e){var t;t=e?e.m:n.W++;const r=Wi(n.I);Ge(r,"SID",n.K),Ge(r,"RID",t),Ge(r,"AID",n.V),sd(n,r),n.o&&n.s&&mC(r,n.o,n.s),t=new Qc(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=lU(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),pC(n.i,t),dC(t,r,e)}function sd(n,e){n.na&&WD(n.na,function(t,r){Ge(e,r,t)}),n.h&&B2({},function(t,r){Ge(e,r,t)})}function lU(n,e,t){t=Math.min(n.j.length,t);var r=n.h?dn(n.h.Va,n.h,n):null;e:{var i=n.j;let s=-1;for(;;){const o=["count="+t];-1==s?0<t?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<t;u++){let l=i[u].g;const c=i[u].map;if(l-=s,0>l)s=Math.max(0,i[u].g-100),a=!1;else try{mae(c,o,"req"+l+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function cU(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;Gc||b2(),Hc||(Gc(),Hc=!0),rC.add(e,n),n.A=0}}function _C(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=Wc(dn(n.Ma,n),fU(n,n.A)),n.A++,0))}function vC(n){null!=n.B&&(re.clearTimeout(n.B),n.B=null)}function dU(n){n.g=new Qc(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=Wi(n.wa);Ge(e,"RID","rpc"),Ge(e,"SID",n.K),Ge(e,"AID",n.V),Ge(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&Ge(e,"TO",n.qa),Ge(e,"TYPE","xmlhttp"),sd(n,e),n.o&&n.s&&mC(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=dg(Wi(e)),t.s=null,t.S=!0,F2(t,n)}function yg(n){null!=n.v&&(re.clearTimeout(n.v),n.v=null)}function hU(n,e){var t=null;if(n.g==e){yg(n),vC(n),n.g=null;var r=2}else{if(!fC(n.i,e))return;t=e.F,Y2(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var i=n.C;Yt(r=ig(),new N2(r,t)),mg(n)}else cU(n);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function bae(n,e){return!(Q2(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=Wc(dn(n.Na,n,e),fU(n,n.C)),n.C++,0)))}(n,e)||2==r&&_C(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:ko(n,5);break;case 4:ko(n,10);break;case 3:ko(n,6);break;default:ko(n,2)}}function fU(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function ko(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=dn(n.pb,n);t||(t=new No("//www.google.com/images/cleardot.gif"),re.location&&"http"==re.location.protocol||lg(t,"https"),dg(t)),function yae(n,e){const t=new rg;if(re.Image){const r=new Image;r.onload=Xp(hg,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Xp(hg,t,r,"TestLoadImage: error",!1,e),r.onabort=Xp(hg,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Xp(hg,t,r,"TestLoadImage: timeout",!1,e),re.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Nn(2);n.H=0,n.h&&n.h.za(e),pU(n),aU(n)}function pU(n){if(n.H=0,n.ma=[],n.h){const e=X2(n.i);(0!=e.length||0!=n.j.length)&&(l2(n.ma,e),l2(n.ma,n.j),n.i.i.length=0,UD(n.j),n.j.length=0),n.h.ya()}}function gU(n,e,t){var r=t instanceof No?Wi(t):new No(t);if(""!=r.g)e&&(r.g=e+"."+r.g),cg(r,r.m);else{var i=re.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new No(null);r&&lg(s,r),e&&(s.g=e),i&&cg(s,i),t&&(s.l=t),r=s}return e=n.Da,(t=n.F)&&e&&Ge(r,t,e),Ge(r,"VER",n.ra),sd(n,r),r}function mU(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new at(t&&n.Ha&&!n.va?new td({ob:!0}):n.va)).Oa(n.J),e}function yU(){}function _g(){if(vu&&!(10<=Number(Foe)))throw Error("Environmental error: no available transport.")}function ir(n,e){Ft.call(this),this.g=new oU(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!Bc(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Bc(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Iu(this)}function _U(n){aC.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function vU(){uC.call(this),this.status=1}function Iu(n){this.g=n}function Br(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function wC(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var s=n.g[3],o=(e=n.g[0])+(s^(t=n.g[1])&((i=n.g[2])^s))+r[0]+3614090360&4294967295;o=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=t+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(t^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(t|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(t|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(t|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=t+((o=e+(i^(t|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~t))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+s&4294967295}function xe(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var s=0|n[i];r&&s==e||(t[i]=s,r=!1)}this.g=t}(k=at.prototype).Oa=function(n){this.M=n},k.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():lC.g(),this.C=function R2(n){return n.h||(n.h=n.i())}(this.u?this.u:lC),this.g.onreadystatechange=dn(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(s){return void eU(this,s)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())t.set(s,r.get(s))}r=Array.from(t.keys()).find(s=>"content-type"==s.toLowerCase()),i=re.FormData&&n instanceof re.FormData,!(0<=u2(wae,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of t)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{rU(this),0<this.B&&((this.L=function Eae(n){return vu&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=dn(this.ua,this)):this.A=sC(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){eU(this,s)}},k.ua=function(){typeof LD<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Yt(this,"timeout"),this.abort(8))},k.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Yt(this,"complete"),Yt(this,"abort"),pg(this))},k.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),pg(this,!0)),at.$.N.call(this)},k.La=function(){this.s||(this.G||this.v||this.l?nU(this):this.kb())},k.kb=function(){nU(this)},k.isActive=function(){return!!this.g},k.da=function(){try{return 2<li(this)?this.g.status:-1}catch{return-1}},k.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},k.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),_ae(e)}},k.Ia=function(){return this.m},k.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(k=oU.prototype).ra=8,k.H=1,k.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new Qc(this,this.l,n);let s=this.s;if(this.U&&(s?(s=p2(s),m2(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=lU(this,i,e),Ge(t=Wi(this.I),"RID",n),Ge(t,"CVER",22),this.F&&Ge(t,"X-HTTP-Session-Id",this.F),sd(this,t),s&&(this.O?e="headers="+encodeURIComponent(String(sU(s)))+"&"+e:this.o&&mC(t,this.o,s)),pC(this.i,i),this.bb&&Ge(t,"TYPE","init"),this.P?(Ge(t,"$req",e),Ge(t,"SID","null"),i.aa=!0,dC(i,t,null)):dC(i,t,e),this.H=2}}else 3==this.H&&(n?uU(this,n):0==this.j.length||K2(this.i)||uU(this))},k.Ma=function(){if(this.u=null,dU(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=Wc(dn(this.jb,this),n)}},k.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Nn(10),gg(this),dU(this))},k.ib=function(){null!=this.v&&(this.v=null,gg(this),_C(this),Nn(19))},k.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Nn(2)):(this.l.info("Failed to ping google.com"),Nn(1))},k.isActive=function(){return!!this.h&&this.h.isActive(this)},(k=yU.prototype).Ba=function(){},k.Aa=function(){},k.za=function(){},k.ya=function(){},k.isActive=function(){return!0},k.Va=function(){},_g.prototype.g=function(n,e){return new ir(n,e)},Ot(ir,Ft),ir.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;Nn(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=gU(n,null,n.Y),mg(n)},ir.prototype.close=function(){yC(this.g)},ir.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=nC(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&mg(e)},ir.prototype.N=function(){this.g.h=null,delete this.j,yC(this.g),delete this.g,ir.$.N.call(this)},Ot(_U,aC),Ot(vU,uC),Ot(Iu,yU),Iu.prototype.Ba=function(){Yt(this.g,"a")},Iu.prototype.Aa=function(n){Yt(this.g,new _U(n))},Iu.prototype.za=function(n){Yt(this.g,new vU)},Iu.prototype.ya=function(){Yt(this.g,"b")},Ot(Br,function Tae(){this.blockSize=-1}),Br.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Br.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=t;)wC(this,n,s),s+=this.blockSize;if("string"==typeof n){for(;s<e;)if(r[i++]=n.charCodeAt(s++),i==this.blockSize){wC(this,r),i=0;break}}else for(;s<e;)if(r[i++]=n[s++],i==this.blockSize){wC(this,r),i=0;break}}this.h=i,this.i+=e},Br.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var Dae={};function EC(n){return-128<=n&&128>n?function Roe(n,e){var t=Dae;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new xe([0|e],0>e?-1:0)}):new xe([0|n],0>n?-1:0)}function ci(n){if(isNaN(n)||!isFinite(n))return bu;if(0>n)return Xt(ci(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=IC;return new xe(e,0)}var IC=4294967296,bu=EC(0),bC=EC(1),EU=EC(16777216);function Ki(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function Er(n){return-1==n.h}function Xt(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new xe(t,~n.h).add(bC)}function vg(n,e){return n.add(Xt(e))}function wg(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function od(n,e){this.g=n,this.h=e}function Eg(n,e){if(Ki(e))throw Error("division by zero");if(Ki(n))return new od(bu,bu);if(Er(n))return e=Eg(Xt(n),e),new od(Xt(e.g),Xt(e.h));if(Er(e))return e=Eg(n,Xt(e)),new od(Xt(e.g),e.h);if(30<n.g.length){if(Er(n)||Er(e))throw Error("slowDivide_ only works with positive integers.");for(var t=bC,r=e;0>=r.X(n);)t=IU(t),r=IU(r);var i=Tu(t,1),s=Tu(r,1);for(r=Tu(r,2),t=Tu(t,2);!Ki(r);){var o=s.add(r);0>=o.X(n)&&(i=i.add(t),s=o),r=Tu(r,1),t=Tu(t,1)}return e=vg(n,i.R(e)),new od(i,e)}for(i=bu;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),o=(s=ci(t)).R(e);Er(o)||0<o.X(n);)o=(s=ci(t-=r)).R(e);Ki(s)&&(s=bC),i=i.add(s),n=vg(n,o)}return new od(i,n)}function IU(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new xe(t,n.h)}function Tu(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],s=0;s<r;s++)i[s]=0<e?n.D(s+t)>>>e|n.D(s+t+1)<<32-e:n.D(s+t);return new xe(i,n.h)}(k=xe.prototype).ea=function(){if(Er(this))return-Xt(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:IC+r)*e,e*=IC}return n},k.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Ki(this))return"0";if(Er(this))return"-"+Xt(this).toString(n);for(var e=ci(Math.pow(n,6)),t=this,r="";;){var i=Eg(t,e).g,s=((0<(t=vg(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Ki(t=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},k.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},k.X=function(n){return Er(n=vg(this,n))?-1:Ki(n)?0:1},k.abs=function(){return Er(this)?Xt(this):this},k.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&n.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=o>>>16,t[i]=(o&=65535)<<16|(s&=65535)}return new xe(t,-2147483648&t[t.length-1]?-1:0)},k.R=function(n){if(Ki(this)||Ki(n))return bu;if(Er(this))return Er(n)?Xt(this).R(Xt(n)):Xt(Xt(this).R(n));if(Er(n))return Xt(this.R(Xt(n)));if(0>this.X(EU)&&0>n.X(EU))return ci(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=n.D(i)>>>16,u=65535&n.D(i);t[2*r+2*i]+=o*u,wg(t,2*r+2*i),t[2*r+2*i+1]+=s*u,wg(t,2*r+2*i+1),t[2*r+2*i+1]+=o*a,wg(t,2*r+2*i+1),t[2*r+2*i+2]+=s*a,wg(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new xe(t,0)},k.gb=function(n){return Eg(this,n).h},k.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new xe(t,this.h&n.h)},k.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new xe(t,this.h|n.h)},k.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new xe(t,this.h^n.h)},_g.prototype.createWebChannel=_g.prototype.g,ir.prototype.send=ir.prototype.u,ir.prototype.open=ir.prototype.m,ir.prototype.close=ir.prototype.close,sg.NO_ERROR=0,sg.TIMEOUT=8,sg.HTTP_ERROR=6,k2.COMPLETE="complete",P2.EventType=Kc,Kc.OPEN="a",Kc.CLOSE="b",Kc.ERROR="c",Kc.MESSAGE="d",Ft.prototype.listen=Ft.prototype.O,at.prototype.listenOnce=at.prototype.P,at.prototype.getLastError=at.prototype.Sa,at.prototype.getLastErrorCode=at.prototype.Ia,at.prototype.getStatus=at.prototype.da,at.prototype.getResponseJson=at.prototype.Wa,at.prototype.getResponseText=at.prototype.ja,at.prototype.send=at.prototype.ha,at.prototype.setWithCredentials=at.prototype.Oa,Br.prototype.digest=Br.prototype.l,Br.prototype.reset=Br.prototype.reset,Br.prototype.update=Br.prototype.j,xe.prototype.add=xe.prototype.add,xe.prototype.multiply=xe.prototype.R,xe.prototype.modulo=xe.prototype.gb,xe.prototype.compare=xe.prototype.X,xe.prototype.toNumber=xe.prototype.ea,xe.prototype.toString=xe.prototype.toString,xe.prototype.getBits=xe.prototype.D,xe.fromNumber=ci,xe.fromString=function wU(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return Xt(wU(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=ci(Math.pow(e,8)),r=bu,i=0;i<n.length;i+=8){var s=Math.min(8,n.length-i),o=parseInt(n.substring(i,i+s),e);8>s?(s=ci(Math.pow(e,s)),r=r.R(s).add(ci(o))):r=(r=r.R(t)).add(ci(o))}return r};var Cae=Ur.createWebChannelTransport=function(){return new _g},Sae=Ur.getStatEventTarget=function(){return ig()},TC=Ur.ErrorCode=sg,Aae=Ur.EventType=k2,Mae=Ur.Event=Mo,bU=Ur.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},xae=Ur.FetchXmlHttpFactory=td,Ig=Ur.WebChannel=P2,Nae=Ur.XhrIo=at,kae=Ur.Md5=Br,Du=Ur.Integer=xe;const TU="@firebase/firestore";class Lt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Lt.UNAUTHENTICATED=new Lt(null),Lt.GOOGLE_CREDENTIALS=new Lt("google-credentials-uid"),Lt.FIRST_PARTY=new Lt("first-party-uid"),Lt.MOCK_USER=new Lt("mock-user");let Cu="9.23.0";const bs=new Xa("@firebase/firestore");function DC(){return bs.logLevel}function S(n,...e){if(bs.logLevel<=_e.DEBUG){const t=e.map(CC);bs.debug(`Firestore (${Cu}): ${n}`,...t)}}function ft(n,...e){if(bs.logLevel<=_e.ERROR){const t=e.map(CC);bs.error(`Firestore (${Cu}): ${n}`,...t)}}function $r(n,...e){if(bs.logLevel<=_e.WARN){const t=e.map(CC);bs.warn(`Firestore (${Cu}): ${n}`,...t)}}function CC(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function F(n="Unexpected state"){const e=`FIRESTORE (${Cu}) INTERNAL ASSERTION FAILED: `+n;throw ft(e),new Error(e)}function j(n,e){n||F()}function N(n,e){return n}const E={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class C extends Vr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Mt{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class DU{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Rae{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Lt.UNAUTHENTICATED))}shutdown(){}}class Pae{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Oae{constructor(e){this.t=e,this.currentUser=Lt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const s=l=>this.i!==i?(i=this.i,t(l)):Promise.resolve();let o=new Mt;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Mt,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const l=o;e.enqueueRetryable(y(function*(){yield l.promise,yield s(r.currentUser)}))},u=l=>{S("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(l=>u(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?u(l):(S("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Mt)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(S("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(j("string"==typeof r.accessToken),new DU(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return j(null===e||"string"==typeof e),new Lt(e)}}class Fae{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=Lt.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Lae{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new Fae(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Lt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class CU{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Vae{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const r=s=>{null!=s.error&&S("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,S("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{S("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):S("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(j("string"==typeof t.token),this.T=t.token,new CU(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Uae(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class SU{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Uae(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}}function ne(n,e){return n<e?-1:n>e?1:0}function Su(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}class tt{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new C(E.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new C(E.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new C(E.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new C(E.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return tt.fromMillis(Date.now())}static fromDate(e){return tt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new tt(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ne(this.nanoseconds,e.nanoseconds):ne(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class G{constructor(e){this.timestamp=e}static fromTimestamp(e){return new G(e)}static min(){return new G(new tt(0,0))}static max(){return new G(new tt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ad{constructor(e,t,r){void 0===t?t=0:t>e.length&&F(),void 0===r?r=e.length-t:r>e.length-t&&F(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===ad.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ad?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),o=t.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Ee extends ad{construct(e,t,r){return new Ee(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new C(E.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Ee(t)}static emptyPath(){return new Ee([])}}const Bae=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class pt extends ad{construct(e,t,r){return new pt(e,t,r)}static isValidIdentifier(e){return Bae.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),pt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new pt(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(0===r.length)throw new C(E.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new C(E.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new C(E.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new C(E.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new pt(t)}static emptyPath(){return new pt([])}}class x{constructor(e){this.path=e}static fromPath(e){return new x(Ee.fromString(e))}static fromName(e){return new x(Ee.fromString(e).popFirst(5))}static empty(){return new x(Ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Ee.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Ee.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new x(new Ee(e.slice()))}}function xU(n){return new sr(n.readTime,n.key,-1)}class sr{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new sr(G.min(),x.empty(),-1)}static max(){return new sr(G.max(),x.empty(),-1)}}function AC(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=x.comparator(n.documentKey,e.documentKey),0!==t?t:ne(n.largestBatchId,e.largestBatchId))}const NU="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Gae{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Ts(n){return MC.apply(this,arguments)}function MC(){return MC=y(function*(n){if(n.code!==E.FAILED_PRECONDITION||n.message!==NU)throw n;S("LocalStore","Unexpectedly lost primary lease")}),MC.apply(this,arguments)}class w{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&F(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new w((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof w?t:w.resolve(t)}catch(t){return w.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):w.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):w.reject(t)}static resolve(e){return new w((t,r)=>{t(e)})}static reject(e){return new w((t,r)=>{r(e)})}static waitFor(e){return new w((t,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&t()},u=>r(u))}),o=!0,s===i&&t()})}static or(e){let t=w.resolve(!1);for(const r of e)t=t.next(i=>i?w.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new w((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const l=u;t(e[l]).next(c=>{o[l]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,t){return new w((r,i)=>{const s=()=>{!0===e()?t().next(()=>{s()},i):r()};s()})}}function Ds(n){return"IndexedDbTransactionError"===n.name}let or=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function cd(n){return null==n}function dd(n){return 0===n&&1/n==-1/0}function BU(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Cs(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function $U(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Be{constructor(e,t){this.comparator=e,this.root=t||Jt.EMPTY}insert(e,t){return new Be(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Jt.BLACK,null,null))}remove(e){return new Be(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Jt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Sg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Sg(this.root,e,this.comparator,!1)}getReverseIterator(){return new Sg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Sg(this.root,e,this.comparator,!0)}}class Sg{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Jt{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??Jt.RED,this.left=i??Jt.EMPTY,this.right=s??Jt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new Jt(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===s?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Jt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Jt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw F();const e=this.left.check();if(e!==this.right.check())throw F();return e+(this.isRed()?0:1)}}Jt.EMPTY=null,Jt.RED=!0,Jt.BLACK=!1,Jt.EMPTY=new class{constructor(){this.size=0}get key(){throw F()}get value(){throw F()}get color(){throw F()}get left(){throw F()}get right(){throw F()}copy(n,e,t,r,i){return this}insert(n,e,t){return new Jt(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class He{constructor(e){this.comparator=e,this.data=new Be(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new jU(this.data.getIterator())}getIteratorFrom(e){return new jU(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof He)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new He(this.comparator);return t.data=e,t}}class jU{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class zn{constructor(e){this.fields=e,e.sort(pt.comparator)}static empty(){return new zn([])}unionWith(e){let t=new He(pt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new zn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Su(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class GU extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class xt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new GU("Invalid base64 string: "+i):i}}(e);return new xt(t)}static fromUint8Array(e){const t=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new xt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ne(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}xt.EMPTY_BYTE_STRING=new xt("");const hue=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ss(n){if(j(!!n),"string"==typeof n){let e=0;const t=hue.exec(n);if(j(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ut(n.seconds),nanos:ut(n.nanos)}}function ut(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Qi(n){return"string"==typeof n?xt.fromBase64String(n):xt.fromUint8Array(n)}function Ag(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Mg(n){const e=n.mapValue.fields.__previous_value__;return Ag(e)?Mg(e):e}function hd(n){const e=Ss(n.mapValue.fields.__local_write_time__.timestampValue);return new tt(e.seconds,e.nanos)}class fue{constructor(e,t,r,i,s,o,a,u,l){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}}class Oo{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Oo("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Oo&&e.projectId===this.projectId&&e.database===this.database}}const As={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ms(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Ag(n)?4:WU(n)?9007199254740991:10:F()}function hi(n,e){if(n===e)return!0;const t=Ms(n);if(t!==Ms(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return hd(n).isEqual(hd(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Ss(r.timestampValue),o=Ss(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,Qi(n.bytesValue).isEqual(Qi(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return ut(r.geoPointValue.latitude)===ut(i.geoPointValue.latitude)&&ut(r.geoPointValue.longitude)===ut(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return ut(r.integerValue)===ut(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=ut(r.doubleValue),o=ut(i.doubleValue);return s===o?dd(s)===dd(o):isNaN(s)&&isNaN(o)}return!1}(n,e);case 9:return Su(n.arrayValue.values||[],e.arrayValue.values||[],hi);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(BU(s)!==BU(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!hi(s[a],o[a])))return!1;return!0}(n,e);default:return F()}var i}function fd(n,e){return void 0!==(n.values||[]).find(t=>hi(t,e))}function xs(n,e){if(n===e)return 0;const t=Ms(n),r=Ms(e);if(t!==r)return ne(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return ne(n.booleanValue,e.booleanValue);case 2:return function(i,s){const o=ut(i.integerValue||i.doubleValue),a=ut(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(n,e);case 3:return HU(n.timestampValue,e.timestampValue);case 4:return HU(hd(n),hd(e));case 5:return ne(n.stringValue,e.stringValue);case 6:return function(i,s){const o=Qi(i),a=Qi(s);return o.compareTo(a)}(n.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let u=0;u<o.length&&u<a.length;u++){const l=ne(o[u],a[u]);if(0!==l)return l}return ne(o.length,a.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,s){const o=ne(ut(i.latitude),ut(s.latitude));return 0!==o?o:ne(ut(i.longitude),ut(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let u=0;u<o.length&&u<a.length;++u){const l=xs(o[u],a[u]);if(l)return l}return ne(o.length,a.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===As.mapValue&&s===As.mapValue)return 0;if(i===As.mapValue)return 1;if(s===As.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),u=s.fields||{},l=Object.keys(u);a.sort(),l.sort();for(let c=0;c<a.length&&c<l.length;++c){const d=ne(a[c],l[c]);if(0!==d)return d;const h=xs(o[a[c]],u[l[c]]);if(0!==h)return h}return ne(a.length,l.length)}(n.mapValue,e.mapValue);default:throw F()}}function HU(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return ne(n,e);const t=Ss(n),r=Ss(e),i=ne(t.seconds,r.seconds);return 0!==i?i:ne(t.nanos,r.nanos)}function Mu(n){return kC(n)}function kC(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=Ss(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Qi(n.bytesValue).toBase64():"referenceValue"in n?x.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=kC(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${kC(r.fields[a])}`;return s+"}"}(n.mapValue):F();var e}function RC(n){return!!n&&"integerValue"in n}function pd(n){return!!n&&"arrayValue"in n}function zU(n){return!!n&&"nullValue"in n}function qU(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function kg(n){return!!n&&"mapValue"in n}function gd(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Cs(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=gd(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=gd(n.arrayValue.values[t]);return e}return Object.assign({},n)}function WU(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class Zt{constructor(e){this.value=e}static empty(){return new Zt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!kg(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=gd(t)}setAll(e){let t=pt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){const u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=gd(o):i.push(a.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());kg(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return hi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];kg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Cs(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Zt(gd(this.value))}}function YU(n){const e=[];return Cs(n.fields,(t,r)=>{const i=new pt([t]);if(kg(r)){const s=YU(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new zn(e)}class ze{constructor(e,t,r,i,s,o,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new ze(e,0,G.min(),G.min(),G.min(),Zt.empty(),0)}static newFoundDocument(e,t,r,i){return new ze(e,1,t,G.min(),r,i,0)}static newNoDocument(e,t){return new ze(e,2,t,G.min(),G.min(),Zt.empty(),0)}static newUnknownDocument(e,t){return new ze(e,3,t,G.min(),G.min(),Zt.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(G.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Zt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Zt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=G.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ze&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ze(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ns{constructor(e,t){this.position=e,this.inclusive=t}}function XU(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],o=n.position[i];if(r=s.field.isKeyField()?x.comparator(x.fromName(o.referenceValue),t.key):xs(o,t.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function JU(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!hi(n.position[t],e.position[t]))return!1;return!0}class xu{constructor(e,t="asc"){this.field=e,this.dir=t}}function mue(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class ZU{}class ye extends ZU{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new yue(e,t,r):"array-contains"===t?new wue(e,r):"in"===t?new sB(e,r):"not-in"===t?new Eue(e,r):"array-contains-any"===t?new Iue(e,r):new ye(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new _ue(e,r):new vue(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(xs(t,this.value)):null!==t&&Ms(this.value)===Ms(t)&&this.matchesComparison(xs(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return F()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Ne extends ZU{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Ne(e,t)}matches(e){return Nu(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Nu(n){return"and"===n.op}function OC(n){return function eB(n){for(const e of n.filters)if(e instanceof Ne)return!1;return!0}(n)&&Nu(n)}function FC(n){if(n instanceof ye)return n.field.canonicalString()+n.op.toString()+Mu(n.value);if(OC(n))return n.filters.map(e=>FC(e)).join(",");{const e=n.filters.map(t=>FC(t)).join(",");return`${n.op}(${e})`}}function tB(n,e){return n instanceof ye?(t=n,(r=e)instanceof ye&&t.op===r.op&&t.field.isEqual(r.field)&&hi(t.value,r.value)):n instanceof Ne?function(t,r){return r instanceof Ne&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((i,s,o)=>i&&tB(s,r.filters[o]),!0)}(n,e):void F();var t,r}function rB(n){return n instanceof ye?function(e){return`${e.field.canonicalString()} ${e.op} ${Mu(e.value)}`}(n):n instanceof Ne?function(e){return e.op.toString()+" {"+e.getFilters().map(rB).join(" ,")+"}"}(n):"Filter"}class yue extends ye{constructor(e,t,r){super(e,t,r),this.key=x.fromName(r.referenceValue)}matches(e){const t=x.comparator(e.key,this.key);return this.matchesComparison(t)}}class _ue extends ye{constructor(e,t){super(e,"in",t),this.keys=iB(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class vue extends ye{constructor(e,t){super(e,"not-in",t),this.keys=iB(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function iB(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>x.fromName(r.referenceValue))}class wue extends ye{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return pd(t)&&fd(t.arrayValue,this.value)}}class sB extends ye{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&fd(this.value.arrayValue,t)}}class Eue extends ye{constructor(e,t){super(e,"not-in",t)}matches(e){if(fd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!fd(this.value.arrayValue,t)}}class Iue extends ye{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!pd(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>fd(this.value.arrayValue,r))}}class bue{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.dt=null}}function LC(n,e=null,t=[],r=[],i=null,s=null,o=null){return new bue(n,e,t,r,i,s,o)}function Lo(n){const e=N(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>FC(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),cd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Mu(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Mu(r)).join(",")),e.dt=t}return e.dt}function md(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!mue(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!tB(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!JU(n.startAt,e.startAt)&&JU(n.endAt,e.endAt)}function Rg(n){return x.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class Yi{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.wt=null,this._t=null}}function ku(n){return new Yi(n)}function lB(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Vo(n){const e=N(n);if(null===e.wt){e.wt=[];const t=function Og(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}(e),r=function VC(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}(e);if(null!==t&&null===r)t.isKeyField()||e.wt.push(new xu(t)),e.wt.push(new xu(pt.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new xu(pt.keyField(),s))}}}return e.wt}function kn(n){const e=N(n);if(!e._t)if("F"===e.limitType)e._t=LC(e.path,e.collectionGroup,Vo(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of Vo(e))t.push(new xu(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new Ns(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Ns(e.startAt.position,e.startAt.inclusive):null;e._t=LC(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e._t}function Fg(n,e,t){return new Yi(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function yd(n,e){return md(kn(n),kn(e))&&n.limitType===e.limitType}function cB(n){return`${Lo(kn(n))}|lt:${n.limitType}`}function $C(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>rB(r)).join(", ")}]`),cd(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Mu(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Mu(r)).join(",")),`Target(${t})`}(kn(n))}; limitType=${n.limitType})`}function _d(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):x.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of Vo(t))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,s,o){const a=XU(i,s,o);return i.inclusive?a<=0:a<0}(t.startAt,Vo(t),r)||t.endAt&&!function(i,s,o){const a=XU(i,s,o);return i.inclusive?a>=0:a>0}(t.endAt,Vo(t),r)));var t,r}function hB(n){return(e,t)=>{let r=!1;for(const i of Vo(n)){const s=Tue(i,e,t);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function Tue(n,e,t){const r=n.field.isKeyField()?x.comparator(e.key,t.key):function(i,s,o){const a=s.data.field(i),u=o.data.field(i);return null!==a&&null!==u?xs(a,u):F()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return F()}}class Xi{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Cs(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return $U(this.inner)}size(){return this.innerSize}}const Due=new Be(x.comparator);function qn(){return Due}const fB=new Be(x.comparator);function vd(...n){let e=fB;for(const t of n)e=e.insert(t.key,t);return e}function pB(n){let e=fB;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function fi(){return wd()}function gB(){return wd()}function wd(){return new Xi(n=>n.toString(),(n,e)=>n.isEqual(e))}const Cue=new Be(x.comparator),Sue=new He(x.comparator);function le(...n){let e=Sue;for(const t of n)e=e.add(t);return e}const Aue=new He(ne);function mB(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:dd(e)?"-0":e}}function yB(n){return{integerValue:""+n}}function _B(n,e){return function RU(n){return"number"==typeof n&&Number.isInteger(n)&&!dd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?yB(e):mB(n,e)}class Lg{constructor(){this._=void 0}}function Mue(n,e,t){return n instanceof Ru?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&Ag(i)&&(i=Mg(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(t,e):n instanceof Uo?wB(n,e):n instanceof Bo?EB(n,e):function(r,i){const s=vB(r,i),o=IB(s)+IB(r.gt);return RC(s)&&RC(r.gt)?yB(o):mB(r.serializer,o)}(n,e)}function xue(n,e,t){return n instanceof Uo?wB(n,e):n instanceof Bo?EB(n,e):t}function vB(n,e){return n instanceof Pu?RC(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Ru extends Lg{}class Uo extends Lg{constructor(e){super(),this.elements=e}}function wB(n,e){const t=bB(e);for(const r of n.elements)t.some(i=>hi(i,r))||t.push(r);return{arrayValue:{values:t}}}class Bo extends Lg{constructor(e){super(),this.elements=e}}function EB(n,e){let t=bB(e);for(const r of n.elements)t=t.filter(i=>!hi(i,r));return{arrayValue:{values:t}}}class Pu extends Lg{constructor(e,t){super(),this.serializer=e,this.gt=t}}function IB(n){return ut(n.integerValue||n.doubleValue)}function bB(n){return pd(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class kue{constructor(e,t){this.version=e,this.transformResults=t}}class Ye{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ye}static exists(e){return new Ye(void 0,e)}static updateTime(e){return new Ye(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Vg(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Ug{}function TB(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Fu(n.key,Ye.none()):new Ou(n.key,n.data,Ye.none());{const t=n.data,r=Zt.empty();let i=new He(pt.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);null===o&&s.length>1&&(s=s.popLast(),o=t.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new Ji(n.key,r,new zn(i.toArray()),Ye.none())}}function Rue(n,e,t){n instanceof Ou?function(r,i,s){const o=r.value.clone(),a=SB(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(n,e,t):n instanceof Ji?function(r,i,s){if(!Vg(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=SB(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(CB(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Id(n,e,t,r){return n instanceof Ou?function(i,s,o,a){if(!Vg(i.precondition,s))return o;const u=i.value.clone(),l=AB(i.fieldTransforms,a,s);return u.setAll(l),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(n,e,t,r):n instanceof Ji?function(i,s,o,a){if(!Vg(i.precondition,s))return o;const u=AB(i.fieldTransforms,a,s),l=s.data;return l.setAll(CB(i)),l.setAll(u),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null===o?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(c=>c.field))}(n,e,t,r):(o=t,Vg(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function Pue(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=vB(r.transform,i||null);null!=s&&(null===t&&(t=Zt.empty()),t.set(r.field,s))}return t||null}function DB(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Su(t,r,(i,s)=>function Nue(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Uo&&r instanceof Uo||t instanceof Bo&&r instanceof Bo?Su(t.elements,r.elements,hi):t instanceof Pu&&r instanceof Pu?hi(t.gt,r.gt):t instanceof Ru&&r instanceof Ru);var t,r}(i,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class Ou extends Ug{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ji extends Ug{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function CB(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function SB(n,e,t){const r=new Map;j(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,xue(o,a,t[i]))}return r}function AB(n,e,t){const r=new Map;for(const i of n){const s=i.transform,o=t.data.field(i.field);r.set(i.field,Mue(s,o,e))}return r}class Fu extends Ug{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class GC extends Ug{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class HC{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Rue(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Id(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Id(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=gB();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=t.has(i.key)?null:a;const u=TB(o,a);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(G.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),le())}isEqual(e){return this.batchId===e.batchId&&Su(this.mutations,e.mutations,(t,r)=>DB(t,r))&&Su(this.baseMutations,e.baseMutations,(t,r)=>DB(t,r))}}class zC{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){j(e.mutations.length===r.length);let i=Cue;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new zC(e,t,r,i)}}class qC{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Fue{constructor(e,t){this.count=e,this.unchangedNames=t}}var It,Ie;function xB(n){if(void 0===n)return ft("GRPC error has no .code"),E.UNKNOWN;switch(n){case It.OK:return E.OK;case It.CANCELLED:return E.CANCELLED;case It.UNKNOWN:return E.UNKNOWN;case It.DEADLINE_EXCEEDED:return E.DEADLINE_EXCEEDED;case It.RESOURCE_EXHAUSTED:return E.RESOURCE_EXHAUSTED;case It.INTERNAL:return E.INTERNAL;case It.UNAVAILABLE:return E.UNAVAILABLE;case It.UNAUTHENTICATED:return E.UNAUTHENTICATED;case It.INVALID_ARGUMENT:return E.INVALID_ARGUMENT;case It.NOT_FOUND:return E.NOT_FOUND;case It.ALREADY_EXISTS:return E.ALREADY_EXISTS;case It.PERMISSION_DENIED:return E.PERMISSION_DENIED;case It.FAILED_PRECONDITION:return E.FAILED_PRECONDITION;case It.ABORTED:return E.ABORTED;case It.OUT_OF_RANGE:return E.OUT_OF_RANGE;case It.UNIMPLEMENTED:return E.UNIMPLEMENTED;case It.DATA_LOSS:return E.DATA_LOSS;default:return F()}}(Ie=It||(It={}))[Ie.OK=0]="OK",Ie[Ie.CANCELLED=1]="CANCELLED",Ie[Ie.UNKNOWN=2]="UNKNOWN",Ie[Ie.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ie[Ie.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ie[Ie.NOT_FOUND=5]="NOT_FOUND",Ie[Ie.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ie[Ie.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ie[Ie.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ie[Ie.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ie[Ie.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ie[Ie.ABORTED=10]="ABORTED",Ie[Ie.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ie[Ie.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ie[Ie.INTERNAL=13]="INTERNAL",Ie[Ie.UNAVAILABLE=14]="UNAVAILABLE",Ie[Ie.DATA_LOSS=15]="DATA_LOSS";class WC{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Bg}static getOrCreateInstance(){return null===Bg&&(Bg=new WC),Bg}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let Bg=null;const Lue=new Du([4294967295,4294967295],0);function kB(n){const e=function NB(){return new TextEncoder}().encode(n),t=new kae;return t.update(e),new Uint8Array(t.digest())}function RB(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Du([t,r],0),new Du([i,s],0)]}class KC{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new bd(`Invalid padding: ${t}`);if(r<0)throw new bd(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new bd(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new bd(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=Du.fromNumber(this.It)}Et(e,t,r){let i=e.add(t.multiply(Du.fromNumber(r)));return 1===i.compare(Lue)&&(i=new Du([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=kB(e),[r,i]=RB(t);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);if(!this.At(o))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new KC(s,i,t);return r.forEach(a=>o.insert(a)),o}insert(e){if(0===this.It)return;const t=kB(e),[r,i]=RB(t);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);this.Rt(o)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class bd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Td{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Dd.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Td(G.min(),i,new Be(ne),qn(),le())}}class Dd{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Dd(r,t,le(),le(),le())}}class $g{constructor(e,t,r,i){this.Pt=e,this.removedTargetIds=t,this.key=r,this.bt=i}}class PB{constructor(e,t){this.targetId=e,this.Vt=t}}class OB{constructor(e,t,r=xt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class FB{constructor(){this.St=0,this.Dt=VB(),this.Ct=xt.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=le(),t=le(),r=le();return this.Dt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:F()}}),new Dd(this.Ct,this.xt,e,t,r)}Ft(){this.Nt=!1,this.Dt=VB()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Vue{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=qn(),this.zt=LB(),this.Wt=new Be(ne)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const r=this.Zt(t);switch(e.state){case 0:this.te(t)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(t);break;case 3:this.te(t)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),r.$t(e.resumeToken));break;default:F()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((r,i)=>{this.te(i)&&t(i)})}ne(e){var t;const r=e.targetId,i=e.Vt.count,s=this.se(r);if(s){const o=s.target;if(Rg(o))if(0===i){const a=new x(o.path);this.Yt(r,a,ze.newNoDocument(a,G.min()))}else j(1===i);else{const a=this.ie(r);if(a!==i){const u=this.re(e,a);0!==u&&(this.ee(r),this.Wt=this.Wt.insert(r,2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=WC.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(l,c,d){var h,f,p,g,m,_;const I={localCacheCount:c,existenceFilterCount:d.count},v=d.unchangedNames;return v&&(I.bloomFilter={applied:0===l,hashCount:null!==(h=v?.hashCount)&&void 0!==h?h:0,bitmapLength:null!==(g=null===(p=null===(f=v?.bits)||void 0===f?void 0:f.bitmap)||void 0===p?void 0:p.length)&&void 0!==g?g:0,padding:null!==(_=null===(m=v?.bits)||void 0===m?void 0:m.padding)&&void 0!==_?_:0}),I}(u,a,e.Vt))}}}}re(e,t){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=r;let u,l;try{u=Qi(s).toUint8Array()}catch(c){if(c instanceof GU)return $r("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw c}try{l=new KC(u,o,a)}catch(c){return $r(c instanceof bd?"BloomFilter error: ":"Applying bloom filter failed: ",c),1}return 0===l.It?1:i!==t-this.oe(e.targetId,l)?2:0}oe(e,t){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;t.vt(a)||(this.Yt(e,s,null),i++)}),i}ce(e){const t=new Map;this.Qt.forEach((s,o)=>{const a=this.se(o);if(a){if(s.current&&Rg(a.target)){const u=new x(a.target.path);null!==this.jt.get(u)||this.ae(o,u)||this.Yt(o,u,ze.newNoDocument(u,e))}s.Mt&&(t.set(o,s.Ot()),s.Ft())}});let r=le();this.zt.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const l=this.se(u);return!l||"TargetPurposeLimboResolution"===l.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.jt.forEach((s,o)=>o.setReadTime(e));const i=new Td(e,t,this.Wt,this.jt,r);return this.jt=qn(),this.zt=LB(),this.Wt=new Be(ne),i}Jt(e,t){if(!this.te(e))return;const r=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,r),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,t)?i.Bt(t,1):i.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),r&&(this.jt=this.jt.insert(t,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new FB,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new He(ne),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||S("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new FB),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function LB(){return new Be(x.comparator)}function VB(){return new Be(x.comparator)}const Uue={asc:"ASCENDING",desc:"DESCENDING"},Bue={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$ue={and:"AND",or:"OR"};class jue{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function QC(n,e){return n.useProto3Json||cd(e)?e:{value:e}}function Lu(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function UB(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Gue(n,e){return Lu(n,e.toTimestamp())}function gt(n){return j(!!n),G.fromTimestamp(function(e){const t=Ss(e);return new tt(t.seconds,t.nanos)}(n))}function YC(n,e){return(t=n,new Ee(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function BB(n){const e=Ee.fromString(n);return j(QB(e)),e}function Cd(n,e){return YC(n.databaseId,e.path)}function pi(n,e){const t=BB(e);if(t.get(1)!==n.databaseId.projectId)throw new C(E.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new C(E.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new x(jB(t))}function XC(n,e){return YC(n.databaseId,e)}function Sd(n){return new Ee(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function jB(n){return j(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function GB(n,e,t){return{name:Cd(n,e),fields:t.value.mapValue.fields}}function zB(n,e){return{documents:[XC(n,e.path)]}}function ZC(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=XC(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=XC(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(0!==u.length)return KB(Ne.create(u,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const s=function(u){if(0!==u.length)return u.map(l=>{return{field:ks((c=l).field),direction:Kue(c.dir)};var c})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const o=QC(n,e.limit);var a,u;return null!==o&&(t.structuredQuery.limit=o),e.startAt&&(t.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(t.structuredQuery.endAt={before:!(u=e.endAt).inclusive,values:u.position}),t}function qB(n){let e=function $B(n){const e=BB(n);return 4===e.length?Ee.emptyPath():jB(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){j(1===r);const c=t.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];t.where&&(s=function(c){const d=WB(c);return d instanceof Ne&&OC(d)?d.getFilters():[d]}(t.where));let o=[];t.orderBy&&(o=t.orderBy.map(c=>{return new xu(Vu((d=c).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;t.limit&&(a=function(c){let d;return d="object"==typeof c?c.value:c,cd(d)?null:d}(t.limit));let u=null;var c;t.startAt&&(u=new Ns((c=t.startAt).values||[],!!c.before));let l=null;return t.endAt&&(l=function(c){return new Ns(c.values||[],!c.before)}(t.endAt)),function uB(n,e,t,r,i,s,o,a){return new Yi(n,e,t,r,i,s,o,a)}(e,i,o,s,a,"F",u,l)}function WB(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Vu(e.unaryFilter.field);return ye.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=Vu(e.unaryFilter.field);return ye.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Vu(e.unaryFilter.field);return ye.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Vu(e.unaryFilter.field);return ye.create(s,"!=",{nullValue:"NULL_VALUE"});default:return F()}}(n):void 0!==n.fieldFilter?function(e){return ye.create(Vu(e.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return F()}}(e.fieldFilter.op),e.fieldFilter.value)}(n):void 0!==n.compositeFilter?function(e){return Ne.create(e.compositeFilter.filters.map(t=>WB(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return F()}}(e.compositeFilter.op))}(n):F()}function Kue(n){return Uue[n]}function Que(n){return Bue[n]}function Yue(n){return $ue[n]}function ks(n){return{fieldPath:n.canonicalString()}}function Vu(n){return pt.fromServerFormat(n.fieldPath)}function KB(n){return n instanceof ye?function(e){if("=="===e.op){if(qU(e.value))return{unaryFilter:{field:ks(e.field),op:"IS_NAN"}};if(zU(e.value))return{unaryFilter:{field:ks(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(qU(e.value))return{unaryFilter:{field:ks(e.field),op:"IS_NOT_NAN"}};if(zU(e.value))return{unaryFilter:{field:ks(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ks(e.field),op:Que(e.op),value:e.value}}}(n):n instanceof Ne?function(e){const t=e.getFilters().map(r=>KB(r));return 1===t.length?t[0]:{compositeFilter:{op:Yue(e.op),filters:t}}}(n):F()}function Xue(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function QB(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Zi{constructor(e,t,r,i,s=G.min(),o=G.min(),a=xt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new Zi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Zi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Zi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Zi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class YB{constructor(e){this.fe=e}}function e0(n){const e=qB({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Fg(e,e.limit,"L"):e}class Ho{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(ut(e.integerValue));else if("doubleValue"in e){const r=ut(e.doubleValue);isNaN(r)?this.ye(t,13):(this.ye(t,15),dd(r)?t.pe(0):t.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie(`${r.seconds||""}`),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Qi(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(t,45),t.pe(r.latitude||0),t.pe(r.longitude||0)}else"mapValue"in e?WU(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):F()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const r=e.fields||{};this.ye(t,55);for(const i of Object.keys(r))this.Te(i,t),this.me(r[i],t)}Pe(e,t){const r=e.values||[];this.ye(t,50);for(const i of r)this.me(i,t)}ve(e,t){this.ye(t,37),x.fromName(e).path.forEach(r=>{this.ye(t,60),this.be(r,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}Ho.Ve=new Ho;class ole{constructor(){this.rn=new a0}addToCollectionParentIndex(e,t){return this.rn.add(t),w.resolve()}getCollectionParents(e,t){return w.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return w.resolve()}deleteFieldIndex(e,t){return w.resolve()}getDocumentsMatchingTarget(e,t){return w.resolve(null)}getIndexType(e,t){return w.resolve(0)}getFieldIndexes(e,t){return w.resolve([])}getNextCollectionGroupToUpdate(e){return w.resolve(null)}getMinOffset(e,t){return w.resolve(sr.min())}getMinOffsetFromCollectionGroup(e,t){return w.resolve(sr.min())}updateCollectionGroup(e,t,r){return w.resolve()}updateIndexEntries(e,t){return w.resolve()}}class a0{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new He(Ee.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new He(Ee.comparator)).toArray()}}new Uint8Array(0);class pn{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new pn(e,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}pn.DEFAULT_COLLECTION_PERCENTILE=10,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pn.DEFAULT=new pn(41943040,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pn.DISABLED=new pn(-1,0,0);class qo{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new qo(0)}static Mn(){return new qo(-1)}}class hle{constructor(){this.changes=new Xi(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ze.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?w.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class gle{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class I${constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&Id(r.mutation,i,zn.empty(),tt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,le()).next(()=>r))}getLocalViewOfDocuments(e,t,r=le()){const i=fi();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=vd();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const r=fi();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,le()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,r,i){let s=qn();const o=wd(),a=wd();return t.forEach((u,l)=>{const c=r.get(l.key);i.has(l.key)&&(void 0===c||c.mutation instanceof Ji)?s=s.insert(l.key,l):void 0!==c?(o.set(l.key,c.mutation.getFieldMask()),Id(c.mutation,l,c.mutation.getFieldMask(),tt.now())):o.set(l.key,zn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((l,c)=>o.set(l,c)),t.forEach((l,c)=>{var d;return a.set(l,new gle(c,null!==(d=o.get(l))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,t){const r=wd();let i=new Be((o,a)=>o-a),s=le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const a of o)a.keys().forEach(u=>{const l=t.get(u);if(null===l)return;let c=r.get(u)||zn.empty();c=a.applyToLocalView(l,c),r.set(u,c);const d=(i.get(a.batchId)||le()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),l=u.key,c=u.value,d=gB();c.forEach(h=>{if(!s.has(h)){const f=TB(t.get(h),r.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,d))}return w.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return x.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):function UC(n){return null!==n.collectionGroup}(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):w.resolve(fi());let a=-1,u=s;return o.next(l=>w.forEach(l,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(c)?w.resolve():this.remoteDocumentCache.getEntry(e,c).next(h=>{u=u.insert(c,h)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,u,l,le())).next(c=>({batchId:a,changes:pB(c)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new x(t)).next(r=>{let i=vd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let s=vd();return this.indexManager.getCollectionParents(e,i).next(o=>w.forEach(o,a=>{const u=(l=t,c=a.child(i),new Yi(c,null,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt));var l,c;return this.getDocumentsMatchingCollectionQuery(e,u,r).next(l=>{l.forEach((c,d)=>{s=s.insert(c,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i))).next(s=>{i.forEach((a,u)=>{const l=u.getKey();null===s.get(l)&&(s=s.insert(l,ze.newInvalidDocument(l)))});let o=vd();return s.forEach((a,u)=>{const l=i.get(a);void 0!==l&&Id(l.mutation,u,zn.empty(),tt.now()),_d(t,u)&&(o=o.insert(a,u))}),o})}}class mle{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return w.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var r;return this.cs.set(t.id,{id:(r=t).id,version:r.version,createTime:gt(r.createTime)}),w.resolve()}getNamedQuery(e,t){return w.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(r=t).name,query:e0(r.bundledQuery),readTime:gt(r.readTime)}),w.resolve();var r}}class yle{constructor(){this.overlays=new Be(x.comparator),this.ls=new Map}getOverlay(e,t){return w.resolve(this.overlays.get(t))}getOverlays(e,t){const r=fi();return w.forEach(t,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.we(e,t,s)}),w.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),w.resolve()}getOverlaysForCollection(e,t,r){const i=fi(),s=t.length+1,o=new x(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,l=u.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return w.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new Be((l,c)=>l-c);const o=this.overlays.getIterator();for(;o.hasNext();){const l=o.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let c=s.get(l.largestBatchId);null===c&&(c=fi(),s=s.insert(l.largestBatchId,c)),c.set(l.getKey(),l)}}const a=fi(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,c)=>a.set(l,c)),!(a.size()>=i)););return w.resolve(a)}we(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new qC(t,r));let s=this.ls.get(t);void 0===s&&(s=le(),this.ls.set(t,s)),this.ls.set(t,s.add(r.key))}}class u0{constructor(){this.fs=new He(Ut.ds),this.ws=new He(Ut._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const r=new Ut(e,t);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ys(new Ut(e,t))}ps(e,t){e.forEach(r=>this.removeReference(r,t))}Is(e){const t=new x(new Ee([])),r=new Ut(t,e),i=new Ut(t,e+1),s=[];return this.ws.forEachInRange([r,i],o=>{this.ys(o),s.push(o.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new x(new Ee([])),r=new Ut(t,e),i=new Ut(t,e+1);let s=le();return this.ws.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const t=new Ut(e,0),r=this.fs.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Ut{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return x.comparator(e.key,t.key)||ne(e.As,t.As)}static _s(e,t){return ne(e.As,t.As)||x.comparator(e.key,t.key)}}class _le{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new He(Ut.ds)}checkEmpty(e){return w.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const s=this.vs;this.vs++;const o=new HC(s,t,r,i);this.mutationQueue.push(o);for(const a of i)this.Rs=this.Rs.add(new Ut(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return w.resolve(o)}lookupMutationBatch(e,t){return w.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.bs(t+1),s=i<0?0:i;return w.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return w.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return w.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Ut(t,0),i=new Ut(t,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],o=>{const a=this.Ps(o.As);s.push(a)}),w.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new He(ne);return t.forEach(i=>{const s=new Ut(i,0),o=new Ut(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],a=>{r=r.add(a.As)})}),w.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;x.isDocumentKey(s)||(s=s.child(""));const o=new Ut(new x(s),0);let a=new He(ne);return this.Rs.forEachWhile(u=>{const l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.As)),!0)},o),w.resolve(this.Vs(a))}Vs(e){const t=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){j(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return w.forEach(t.mutations,i=>{const s=new Ut(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,t){const r=new Ut(t,0),i=this.Rs.firstAfterOrEqual(r);return w.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return w.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class vle{constructor(e){this.Ds=e,this.docs=new Be(x.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ds(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return w.resolve(r?r.document.mutableCopy():ze.newInvalidDocument(t))}getEntries(e,t){let r=qn();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():ze.newInvalidDocument(i))}),w.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=qn();const o=t.path,a=new x(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:l,value:{document:c}}=u.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||AC(xU(c),r)<=0||(i.has(c.key)||_d(t,c))&&(s=s.insert(c.key,c.mutableCopy()))}return w.resolve(s)}getAllFromCollectionGroup(e,t,r,i){F()}Cs(e,t){return w.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new wle(this)}getSize(e){return w.resolve(this.size)}}class wle extends hle{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),w.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class Ele{constructor(e){this.persistence=e,this.xs=new Xi(t=>Lo(t),md),this.lastRemoteSnapshotVersion=G.min(),this.highestTargetId=0,this.Ns=0,this.ks=new u0,this.targetCount=0,this.Ms=qo.kn()}forEachTarget(e,t){return this.xs.forEach((r,i)=>t(i)),w.resolve()}getLastRemoteSnapshotVersion(e){return w.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return w.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),w.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ns&&(this.Ns=t),w.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new qo(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,w.resolve()}updateTargetData(e,t){return this.Fn(t),w.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,w.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=t&&null===r.get(a.targetId)&&(this.xs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),w.waitFor(s).next(()=>i)}getTargetCount(e){return w.resolve(this.targetCount)}getTargetData(e,t){const r=this.xs.get(t)||null;return w.resolve(r)}addMatchingKeys(e,t,r){return this.ks.gs(t,r),w.resolve()}removeMatchingKeys(e,t,r){this.ks.ps(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),w.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),w.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ks.Es(t);return w.resolve(r)}containsKey(e,t){return w.resolve(this.ks.containsKey(t))}}class l0{constructor(e,t){this.$s={},this.overlays={},this.Os=new or(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Ele(this),this.indexManager=new ole,this.remoteDocumentCache=new vle(r=>this.referenceDelegate.Ls(r)),this.serializer=new YB(t),this.qs=new mle(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new yle,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.$s[e.toKey()];return r||(r=new _le(t,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,r){S("MemoryPersistence","Starting transaction:",e);const i=new Ile(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(e,t){return w.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,t)))}}class Ile extends Gae{constructor(e){super(),this.currentSequenceNumber=e}}class Yg{constructor(e){this.persistence=e,this.Qs=new u0,this.js=null}static zs(e){return new Yg(e)}get Ws(){if(this.js)return this.js;throw F()}addReference(e,t,r){return this.Qs.addReference(r,t),this.Ws.delete(r.toString()),w.resolve()}removeReference(e,t,r){return this.Qs.removeReference(r,t),this.Ws.add(r.toString()),w.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),w.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return w.forEach(this.Ws,r=>{const i=x.fromPath(r);return this.Hs(e,i).next(s=>{s||t.removeEntry(i,G.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(r=>{r?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return w.or([()=>w.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class f0{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Fi=r,this.Bi=i}static Li(e,t){let r=le(),i=le();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new f0(e,t.fromCache,r,i)}}class T${constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.Ki(e,t).next(s=>s||this.Gi(e,t,i,r)).next(s=>s||this.Qi(e,t))}Ki(e,t){if(lB(t))return w.resolve(null);let r=kn(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=Fg(t,null,"F"),r=kn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=le(...s);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const l=this.ji(t,a);return this.zi(t,l,o,u.readTime)?this.Ki(e,Fg(t,null,"F")):this.Wi(e,l,t,u)}))})))}Gi(e,t,r,i){return lB(t)||i.isEqual(G.min())?this.Qi(e,t):this.Ui.getDocuments(e,r).next(s=>{const o=this.ji(t,s);return this.zi(t,o,r,i)?this.Qi(e,t):(DC()<=_e.DEBUG&&S("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),$C(t)),this.Wi(e,o,t,function MU(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=G.fromTimestamp(1e9===r?new tt(t+1,0):new tt(t,r));return new sr(i,x.empty(),e)}(i,-1)))})}ji(e,t){let r=new He(hB(e));return t.forEach((i,s)=>{_d(e,s)&&(r=r.add(s))}),r}zi(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(e,t){return DC()<=_e.DEBUG&&S("QueryEngine","Using full collection scan to execute query:",$C(t)),this.Ui.getDocumentsMatchingQuery(e,t,sr.min())}Wi(e,t,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}}class Tle{constructor(e,t,r,i){this.persistence=e,this.Hi=t,this.serializer=i,this.Ji=new Be(ne),this.Yi=new Xi(s=>Lo(s),md),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new I$(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function C$(n,e){return p0.apply(this,arguments)}function p0(){return p0=y(function*(n,e){const t=N(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.tr(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=le();for(const l of i){o.push(l.batchId);for(const c of l.mutations)u=u.add(c.key)}for(const l of s){a.push(l.batchId);for(const c of l.mutations)u=u.add(c.key)}return t.localDocuments.getDocuments(r,u).next(l=>({er:l,removedBatchIds:o,addedBatchIds:a}))})})}),p0.apply(this,arguments)}function S$(n){const e=N(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function Sle(n,e){const t=N(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function ju(n,e,t){return g0.apply(this,arguments)}function g0(){return g0=y(function*(n,e,t){const r=N(n),i=r.Ji.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Ds(o))throw o;S("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),g0.apply(this,arguments)}function Zg(n,e,t){const r=N(n);let i=G.min(),s=le();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,l){const c=N(a),d=c.Yi.get(l);return void 0!==d?w.resolve(c.Ji.get(d)):c.Bs.getTargetData(u,l)}(r,o,kn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,t?i:G.min(),t?s:le())).next(a=>(function N$(n,e,t){let r=n.Xi.get(e)||G.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.Xi.set(e,r)}(r,function dB(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),a),{documents:a,ir:s})))}class w0{constructor(){this.activeTargetIds=function jC(){return Aue}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class P${constructor(){this.Hr=new w0,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,r){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new w0,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class xle{Yr(e){}shutdown(){}}class O${constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){S("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){S("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let nm=null;function I0(){return null===nm?nm=268435456+Math.round(2147483648*Math.random()):nm++,"0x"+nm.toString(16)}const Nle={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class kle{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const gn="WebChannelConnection";class Rle extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,r,i,s){const o=I0(),a=this.To(e,t);S("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const u={};return this.Eo(u,i,s),this.Ao(e,a,u,r).then(l=>(S("RestConnection",`Received RPC '${e}' ${o}: `,l),l),l=>{throw $r("RestConnection",`RPC '${e}' ${o} failed with error: `,l,"url: ",a,"request:",r),l})}vo(e,t,r,i,s,o){return this.Io(e,t,r,i,s)}Eo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Cu,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}To(e,t){return`${this.mo}/v1/${t}:${Nle[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,r,i){const s=I0();return new Promise((o,a)=>{const u=new Nae;u.setWithCredentials(!0),u.listenOnce(Aae.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case TC.NO_ERROR:const c=u.getResponseJson();S(gn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(c)),o(c);break;case TC.TIMEOUT:S(gn,`RPC '${e}' ${s} timed out`),a(new C(E.DEADLINE_EXCEEDED,"Request time out"));break;case TC.HTTP_ERROR:const d=u.getStatus();if(S(gn,`RPC '${e}' ${s} failed with status:`,d,"response text:",u.getResponseText()),d>0){let h=u.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h?.error;if(f&&f.status&&f.message){const p=function(g){const m=g.toLowerCase().replace(/_/g,"-");return Object.values(E).indexOf(m)>=0?m:E.UNKNOWN}(f.status);a(new C(p,f.message))}else a(new C(E.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new C(E.UNAVAILABLE,"Connection failed."));break;default:F()}}finally{S(gn,`RPC '${e}' ${s} completed.`)}});const l=JSON.stringify(i);S(gn,`RPC '${e}' ${s} sending request:`,i),u.send(t,"POST",l,r,15)})}Ro(e,t,r){const i=I0(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Cae(),a=Sae(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.xmlHttpFactory=new xae({})),this.Eo(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;const c=s.join("");S(gn,`Creating RPC '${e}' stream ${i}: ${c}`,u);const d=o.createWebChannel(c,u);let h=!1,f=!1;const p=new kle({ro:m=>{f?S(gn,`Not sending because RPC '${e}' stream ${i} is closed:`,m):(h||(S(gn,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),S(gn,`RPC '${e}' stream ${i} sending:`,m),d.send(m))},oo:()=>d.close()}),g=(m,_,I)=>{m.listen(_,v=>{try{I(v)}catch(A){setTimeout(()=>{throw A},0)}})};return g(d,Ig.EventType.OPEN,()=>{f||S(gn,`RPC '${e}' stream ${i} transport opened.`)}),g(d,Ig.EventType.CLOSE,()=>{f||(f=!0,S(gn,`RPC '${e}' stream ${i} transport closed`),p.wo())}),g(d,Ig.EventType.ERROR,m=>{f||(f=!0,$r(gn,`RPC '${e}' stream ${i} transport errored:`,m),p.wo(new C(E.UNAVAILABLE,"The operation could not be completed")))}),g(d,Ig.EventType.MESSAGE,m=>{var _;if(!f){const I=m.data[0];j(!!I);const A=I.error||(null===(_=I[0])||void 0===_?void 0:_.error);if(A){S(gn,`RPC '${e}' stream ${i} received error:`,A);const L=A.status;let V=function(Nt){const yn=It[Nt];if(void 0!==yn)return xB(yn)}(L),be=A.message;void 0===V&&(V=E.INTERNAL,be="Unknown error status: "+L+" with message "+A.message),f=!0,p.wo(new C(V,be)),d.close()}else S(gn,`RPC '${e}' stream ${i} received:`,I),p._o(I)}}),g(a,Mae.STAT_EVENT,m=>{m.stat===bU.PROXY?S(gn,`RPC '${e}' stream ${i} detected buffering proxy`):m.stat===bU.NOPROXY&&S(gn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.fo()},0),p}}function rm(){return typeof document<"u"?document:null}function Ld(n){return new jue(n,!0)}class b0{constructor(e,t,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=t,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,t-r);i>0&&S("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class L${constructor(e,t,r,i,s,o,a,u){this.ii=e,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new b0(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return y(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return y(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var r=this;return y(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():t&&t.code===E.RESOURCE_EXHAUSTED?(ft(t.toString()),ft("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):t&&t.code===E.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===t&&this.Zo(r,i)},r=>{e(()=>{const i=new C(E.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,t){const r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No(y(function*(){e.state=0,e.start()}))}tu(e){return S("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(S("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Ple extends L${constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function zue(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:F(),i=e.targetChange.targetIds||[],s=function(u,l){return u.useProto3Json?(j(void 0===l||"string"==typeof l),xt.fromBase64String(l||"")):(j(void 0===l||l instanceof Uint8Array),xt.fromUint8Array(l||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const l=void 0===u.code?E.UNKNOWN:xB(u.code);return new C(l,u.message||"")}(o);t=new OB(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=pi(n,r.document.name),s=gt(r.document.updateTime),o=r.document.createTime?gt(r.document.createTime):G.min(),a=new Zt({mapValue:{fields:r.document.fields}}),u=ze.newFoundDocument(i,s,o,a);t=new $g(r.targetIds||[],r.removedTargetIds||[],u.key,u)}else if("documentDelete"in e){const r=e.documentDelete,i=pi(n,r.document),s=r.readTime?gt(r.readTime):G.min(),o=ze.newNoDocument(i,s);t=new $g([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=pi(n,r.document);t=new $g([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return F();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new Fue(i,s);t=new PB(r.targetId,o)}}var u;return t}(this.serializer,e),r=function(i){if(!("targetChange"in i))return G.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?G.min():s.readTime?gt(s.readTime):G.min()}(e);return this.listener.nu(t,r)}su(e){const t={};t.database=Sd(this.serializer),t.addTarget=function(i,s){let o;const a=s.target;if(o=Rg(a)?{documents:zB(i,a)}:{query:ZC(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=UB(i,s.resumeToken);const u=QC(i,s.expectedCount);null!==u&&(o.expectedCount=u)}else if(s.snapshotVersion.compareTo(G.min())>0){o.readTime=Lu(i,s.snapshotVersion.toTimestamp());const u=QC(i,s.expectedCount);null!==u&&(o.expectedCount=u)}return o}(this.serializer,e);const r=function Wue(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return F()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Wo(t)}iu(e){const t={};t.database=Sd(this.serializer),t.removeTarget=e,this.Wo(t)}}class Ole extends L${constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(j(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function que(n,e){return n&&n.length>0?(j(void 0!==e),n.map(t=>function(r,i){let s=gt(r.updateTime?r.updateTime:i);return s.isEqual(G.min())&&(s=gt(i)),new kue(s,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=gt(e.commitTime);return this.listener.cu(r,t)}return j(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Sd(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>function Ad(n,e){let t;if(e instanceof Ou)t={update:GB(n,e.key,e.value)};else if(e instanceof Fu)t={delete:Cd(n,e.key)};else if(e instanceof Ji)t={update:GB(n,e.key,e.data),updateMask:Xue(e.fieldMask)};else{if(!(e instanceof GC))return F();t={verify:Cd(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof Ru)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Uo)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Bo)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Pu)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw F()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:Gue(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:F()),t;var i}(this.serializer,r))};this.Wo(t)}}class Fle extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new C(E.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(e,t,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===E.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new C(E.UNKNOWN,i.toString())})}vo(e,t,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,t,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===E.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new C(E.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class Vle{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(ft(t),this.mu=!1):S("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class Ule{constructor(e,t,r,i,s){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(a=>{r.enqueueAndForget(y(function*(){var u;Fs(o)&&(S("RemoteStore","Restarting streams for network reachability change."),yield(u=y(function*(l){const c=N(l);c.vu.add(4),yield Gu(c),c.bu.set("Unknown"),c.vu.delete(4),yield Vd(c)}),function(l){return u.apply(this,arguments)})(o))}))}),this.bu=new Vle(r,i)}}function Vd(n){return D0.apply(this,arguments)}function D0(){return D0=y(function*(n){if(Fs(n))for(const e of n.Ru)yield e(!0)}),D0.apply(this,arguments)}function Gu(n){return C0.apply(this,arguments)}function C0(){return C0=y(function*(n){for(const e of n.Ru)yield e(!1)}),C0.apply(this,arguments)}function im(n,e){const t=N(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),M0(t)?A0(t):zu(t).Ko()&&S0(t,e))}function Ud(n,e){const t=N(n),r=zu(t);t.Au.delete(e),r.Ko()&&V$(t,e),0===t.Au.size&&(r.Ko()?r.jo():Fs(t)&&t.bu.set("Unknown"))}function S0(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(G.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}zu(n).su(e)}function V$(n,e){n.Vu.qt(e),zu(n).iu(e)}function A0(n){n.Vu=new Vue({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),zu(n).start(),n.bu.gu()}function M0(n){return Fs(n)&&!zu(n).Uo()&&n.Au.size>0}function Fs(n){return 0===N(n).vu.size}function U$(n){n.Vu=void 0}function Ble(n){return x0.apply(this,arguments)}function x0(){return x0=y(function*(n){n.Au.forEach((e,t)=>{S0(n,e)})}),x0.apply(this,arguments)}function $le(n,e){return N0.apply(this,arguments)}function N0(){return N0=y(function*(n,e){U$(n),M0(n)?(n.bu.Iu(e),A0(n)):n.bu.set("Unknown")}),N0.apply(this,arguments)}function jle(n,e,t){return k0.apply(this,arguments)}function k0(){return k0=y(function*(n,e,t){if(n.bu.set("Online"),e instanceof OB&&2===e.state&&e.cause)try{yield(r=y(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.Au.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.Au.delete(a),i.Vu.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(n,e)}catch(r){S("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield sm(n,r)}else if(e instanceof $g?n.Vu.Ht(e):e instanceof PB?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(G.min()))try{const r=yield S$(n.localStore);t.compareTo(r)>=0&&(yield function(i,s){const o=i.Vu.ce(s);return o.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const l=i.Au.get(u);l&&i.Au.set(u,l.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach((a,u)=>{const l=i.Au.get(a);if(!l)return;i.Au.set(a,l.withResumeToken(xt.EMPTY_BYTE_STRING,l.snapshotVersion)),V$(i,a);const c=new Zi(l.target,a,u,l.sequenceNumber);S0(i,c)}),i.remoteSyncer.applyRemoteEvent(o)}(n,t))}catch(r){S("RemoteStore","Failed to raise snapshot:",r),yield sm(n,r)}var r}),k0.apply(this,arguments)}function sm(n,e,t){return R0.apply(this,arguments)}function R0(){return R0=y(function*(n,e,t){if(!Ds(e))throw e;n.vu.add(1),yield Gu(n),n.bu.set("Offline"),t||(t=()=>S$(n.localStore)),n.asyncQueue.enqueueRetryable(y(function*(){S("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield Vd(n)}))}),R0.apply(this,arguments)}function B$(n,e){return e().catch(t=>sm(n,t,e))}function Hu(n){return P0.apply(this,arguments)}function P0(){return P0=y(function*(n){const e=N(n),t=Ls(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;Gle(e);)try{const i=yield Sle(e.localStore,r);if(null===i){0===e.Eu.length&&t.jo();break}r=i.batchId,Hle(e,i)}catch(i){yield sm(e,i)}$$(e)&&j$(e)}),P0.apply(this,arguments)}function Gle(n){return Fs(n)&&n.Eu.length<10}function Hle(n,e){n.Eu.push(e);const t=Ls(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function $$(n){return Fs(n)&&!Ls(n).Uo()&&n.Eu.length>0}function j$(n){Ls(n).start()}function zle(n){return O0.apply(this,arguments)}function O0(){return O0=y(function*(n){Ls(n).hu()}),O0.apply(this,arguments)}function qle(n){return F0.apply(this,arguments)}function F0(){return F0=y(function*(n){const e=Ls(n);for(const t of n.Eu)e.uu(t.mutations)}),F0.apply(this,arguments)}function Wle(n,e,t){return L0.apply(this,arguments)}function L0(){return L0=y(function*(n,e,t){const r=n.Eu.shift(),i=zC.from(r,e,t);yield B$(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Hu(n)}),L0.apply(this,arguments)}function Kle(n,e){return V0.apply(this,arguments)}function V0(){return V0=y(function*(n,e){var t;e&&Ls(n).ou&&(yield(t=y(function*(r,i){if(function MB(n){switch(n){default:return F();case E.CANCELLED:case E.UNKNOWN:case E.DEADLINE_EXCEEDED:case E.RESOURCE_EXHAUSTED:case E.INTERNAL:case E.UNAVAILABLE:case E.UNAUTHENTICATED:return!1;case E.INVALID_ARGUMENT:case E.NOT_FOUND:case E.ALREADY_EXISTS:case E.PERMISSION_DENIED:case E.FAILED_PRECONDITION:case E.ABORTED:case E.OUT_OF_RANGE:case E.UNIMPLEMENTED:case E.DATA_LOSS:return!0}}(s=i.code)&&s!==E.ABORTED){const o=r.Eu.shift();Ls(r).Qo(),yield B$(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Hu(r)}var s}),function(r,i){return t.apply(this,arguments)})(n,e)),$$(n)&&j$(n)}),V0.apply(this,arguments)}function G$(n,e){return U0.apply(this,arguments)}function U0(){return U0=y(function*(n,e){const t=N(n);t.asyncQueue.verifyOperationInProgress(),S("RemoteStore","RemoteStore received new credentials");const r=Fs(t);t.vu.add(3),yield Gu(t),r&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield Vd(t)}),U0.apply(this,arguments)}function $0(){return $0=y(function*(n,e){const t=N(n);e?(t.vu.delete(2),yield Vd(t)):e||(t.vu.add(2),yield Gu(t),t.bu.set("Unknown"))}),$0.apply(this,arguments)}function zu(n){return n.Su||(n.Su=function(e,t,r){const i=N(e);return i.fu(),new Ple(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:Ble.bind(null,n),ao:$le.bind(null,n),nu:jle.bind(null,n)}),n.Ru.push(function(){var e=y(function*(t){t?(n.Su.Qo(),M0(n)?A0(n):n.bu.set("Unknown")):(yield n.Su.stop(),U$(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function Ls(n){return n.Du||(n.Du=function(e,t,r){const i=N(e);return i.fu(),new Ole(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:zle.bind(null,n),ao:Kle.bind(null,n),au:qle.bind(null,n),cu:Wle.bind(null,n)}),n.Ru.push(function(){var e=y(function*(t){t?(n.Du.Qo(),yield Hu(n)):(yield n.Du.stop(),n.Eu.length>0&&(S("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class j0{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Mt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,t,r,i,s){const o=Date.now()+r,a=new j0(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new C(E.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function qu(n,e){if(ft("AsyncQueue",`${e}: ${n}`),Ds(n))return new C(E.UNAVAILABLE,`${e}: ${n}`);throw n}class Wu{constructor(e){this.comparator=e?(t,r)=>e(t,r)||x.comparator(t.key,r.key):(t,r)=>x.comparator(t.key,r.key),this.keyedMap=vd(),this.sortedSet=new Be(this.comparator)}static emptySet(e){return new Wu(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Wu)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Wu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class H${constructor(){this.Cu=new Be(x.comparator)}track(e){const t=e.doc.key,r=this.Cu.get(t);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(t):1===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):F():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Ku{constructor(e,t,r,i,s,o,a,u,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,s){const o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new Ku(e,t,Wu.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&yd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class Qle{constructor(){this.Nu=void 0,this.listeners=[]}}class Yle{constructor(){this.queries=new Xi(e=>cB(e),yd),this.onlineState="Unknown",this.ku=new Set}}function H0(){return H0=y(function*(n,e){const t=N(n),r=e.query;let i=!1,s=t.queries.get(r);if(s||(i=!0,s=new Qle),i)try{s.Nu=yield t.onListen(r)}catch(o){const a=qu(o,`Initialization of query '${$C(e.query)}' failed`);return void e.onError(a)}t.queries.set(r,s),s.listeners.push(e),e.Mu(t.onlineState),s.Nu&&e.$u(s.Nu)&&W0(t)}),H0.apply(this,arguments)}function q0(){return q0=y(function*(n,e){const t=N(n),r=e.query;let i=!1;const s=t.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),q0.apply(this,arguments)}function Xle(n,e){const t=N(n);let r=!1;for(const i of e){const o=t.queries.get(i.query);if(o){for(const a of o.listeners)a.$u(i)&&(r=!0);o.Nu=i}}r&&W0(t)}function Jle(n,e,t){const r=N(n),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(t);r.queries.delete(e)}function W0(n){n.ku.forEach(e=>{e.next()})}class K0{constructor(e,t,r){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Ku(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Ku.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class W${constructor(e){this.key=e}}class K${constructor(e){this.key=e}}class Q${constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=le(),this.mutatedKeys=le(),this.tc=hB(e),this.ec=new Wu(this.tc)}get nc(){return this.Yu}sc(e,t){const r=t?t.ic:new H$,i=t?t.ec:this.ec;let s=t?t.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const h=i.get(c),f=_d(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let m=!1;h&&f?h.data.isEqual(f.data)?p!==g&&(r.track({type:3,doc:f}),m=!0):this.rc(h,f)||(r.track({type:2,doc:f}),m=!0,(u&&this.tc(f,u)>0||l&&this.tc(f,l)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),m=!0):h&&!f&&(r.track({type:1,doc:h}),m=!0,(u||l)&&(a=!0)),m&&(f?(o=o.add(f),s=g?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const c="F"===this.query.limitType?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{ec:o,ic:r,zi:a,mutatedKeys:s}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((l,c)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return F()}};return f(d)-f(h)}(l.type,c.type)||this.tc(l.doc,c.doc)),this.oc(r);const o=t?this.uc():[],a=0===this.Zu.size&&this.current?1:0,u=a!==this.Xu;return this.Xu=a,0!==s.length||u?{snapshot:new Ku(this.query,e.ec,i,s,e.mutatedKeys,0===a,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new H$,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=le(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const t=[];return e.forEach(r=>{this.Zu.has(r)||t.push(new K$(r))}),this.Zu.forEach(r=>{e.has(r)||t.push(new W$(r))}),t}hc(e){this.Yu=e.ir,this.Zu=le();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return Ku.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class tce{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class nce{constructor(e){this.key=e,this.fc=!1}}class rce{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new Xi(a=>cB(a),yd),this._c=new Map,this.mc=new Set,this.gc=new Be(x.comparator),this.yc=new Map,this.Ic=new u0,this.Tc={},this.Ec=new Map,this.Ac=qo.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function ice(n,e){return Q0.apply(this,arguments)}function Q0(){return Q0=y(function*(n,e){const t=function _S(n){const e=N(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Y$.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=fce.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ace.bind(null,e),e.dc.nu=Xle.bind(null,e.eventManager),e.dc.Pc=Jle.bind(null,e.eventManager),e}(n);let r,i;const s=t.wc.get(e);if(s)r=s.targetId,t.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const o=yield function $u(n,e){const t=N(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Bs.getTargetData(r,e).next(s=>s?(i=s,w.resolve(i)):t.Bs.allocateTargetId(r).next(o=>(i=new Zi(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(r.targetId,r),t.Yi.set(e,r.targetId)),r})}(t.localStore,kn(e)),a=t.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield function Y0(n,e,t,r,i){return X0.apply(this,arguments)}(t,e,r,"current"===a,o.resumeToken),t.isPrimaryClient&&im(t.remoteStore,o)}return i}),Q0.apply(this,arguments)}function X0(){return X0=y(function*(n,e,t,r,i){n.Rc=(d,h,f)=>{return(p=y(function*(g,m,_,I){let v=m.view.sc(_);v.zi&&(v=yield Zg(g.localStore,m.query,!1).then(({documents:V})=>m.view.sc(V,v)));const A=I&&I.targetChanges.get(m.targetId),L=m.view.applyChanges(v,g.isPrimaryClient,A);return aS(g,m.targetId,L.cc),L.snapshot}),function(g,m,_,I){return p.apply(this,arguments)})(n,d,h,f);var p};const s=yield Zg(n.localStore,e,!0),o=new Q$(e,s.ir),a=o.sc(s.documents),u=Dd.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),l=o.applyChanges(a,n.isPrimaryClient,u);aS(n,t,l.cc);const c=new tce(e,t,o);return n.wc.set(e,c),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),l.snapshot}),X0.apply(this,arguments)}function sce(n,e){return J0.apply(this,arguments)}function J0(){return J0=y(function*(n,e){const t=N(n),r=t.wc.get(e),i=t._c.get(r.targetId);if(i.length>1)return t._c.set(r.targetId,i.filter(s=>!yd(s,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield ju(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Ud(t.remoteStore,r.targetId),Qu(t,r.targetId)}).catch(Ts))):(Qu(t,r.targetId),yield ju(t.localStore,r.targetId,!0))}),J0.apply(this,arguments)}function Z0(){return Z0=y(function*(n,e,t){const r=function vS(n){const e=N(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=uce.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=lce.bind(null,e),e}(n);try{const i=yield function(s,o){const a=N(s),u=tt.now(),l=o.reduce((h,f)=>h.add(f.key),le());let c,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=qn(),p=le();return a.Zi.getEntries(h,l).next(g=>{f=g,f.forEach((m,_)=>{_.isValidDocument()||(p=p.add(m))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(g=>{c=g;const m=[];for(const _ of o){const I=Pue(_,c.get(_.key).overlayedDocument);null!=I&&m.push(new Ji(_.key,I,YU(I.value.mapValue),Ye.exists(!0)))}return a.mutationQueue.addMutationBatch(h,u,m,o)}).next(g=>{d=g;const m=g.applyToLocalDocumentSet(c,p);return a.documentOverlayCache.saveOverlays(h,g.batchId,m)})}).then(()=>({batchId:d.batchId,changes:pB(c)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let u=s.Tc[s.currentUser.toKey()];u||(u=new Be(ne)),u=u.insert(o,a),s.Tc[s.currentUser.toKey()]=u}(r,i.batchId,t),yield es(r,i.changes),yield Hu(r.remoteStore)}catch(i){const s=qu(i,"Failed to persist write");t.reject(s)}}),Z0.apply(this,arguments)}function Y$(n,e){return eS.apply(this,arguments)}function eS(){return eS=y(function*(n,e){const t=N(n);try{const r=yield function Cle(n,e){const t=N(n),r=e.snapshotVersion;let i=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=t.Zi.newChangeBuffer({trackRemovals:!0});i=t.Ji;const a=[];e.targetChanges.forEach((c,d)=>{const h=i.get(d);if(!h)return;a.push(t.Bs.removeMatchingKeys(s,c.removedDocuments,d).next(()=>t.Bs.addMatchingKeys(s,c.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var p,g,m;null!==e.targetMismatches.get(d)?f=f.withResumeToken(xt.EMPTY_BYTE_STRING,G.min()).withLastLimboFreeSnapshotVersion(G.min()):c.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(c.resumeToken,r)),i=i.insert(d,f),g=f,m=c,(0===(p=h).resumeToken.approximateByteSize()||g.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0)&&a.push(t.Bs.updateTargetData(s,f))});let u=qn(),l=le();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(function A$(n,e,t){let r=le(),i=le();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=qn();return t.forEach((a,u)=>{const l=s.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(G.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||0===u.version.compareTo(l.version)&&l.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):S("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{nr:o,sr:i}})}(s,o,e.documentUpdates).next(c=>{u=c.nr,l=c.sr})),!r.isEqual(G.min())){const c=t.Bs.getLastRemoteSnapshotVersion(s).next(d=>t.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return w.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,u,l)).next(()=>u)}).then(s=>(t.Ji=i,s))}(t.localStore,e);e.targetChanges.forEach((i,s)=>{const o=t.yc.get(s);o&&(j(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.fc=!0:i.modifiedDocuments.size>0?j(o.fc):i.removedDocuments.size>0&&(j(o.fc),o.fc=!1))}),yield es(t,r,e)}catch(r){yield Ts(r)}}),eS.apply(this,arguments)}function X$(n,e,t){const r=N(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.wc.forEach((s,o)=>{const a=o.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=N(s);a.onlineState=o;let u=!1;a.queries.forEach((l,c)=>{for(const d of c.listeners)d.Mu(o)&&(u=!0)}),u&&W0(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function ace(n,e,t){return tS.apply(this,arguments)}function tS(){return tS=y(function*(n,e,t){const r=N(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.yc.get(e),s=i&&i.key;if(s){let o=new Be(x.comparator);o=o.insert(s,ze.newNoDocument(s,G.min()));const a=le().add(s),u=new Td(G.min(),new Map,new Be(ne),o,a);yield Y$(r,u),r.gc=r.gc.remove(s),r.yc.delete(e),uS(r)}else yield ju(r.localStore,e,!1).then(()=>Qu(r,e,t)).catch(Ts)}),tS.apply(this,arguments)}function uce(n,e){return nS.apply(this,arguments)}function nS(){return nS=y(function*(n,e){const t=N(n),r=e.batch.batchId;try{const i=yield function Dle(n,e){const t=N(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,u,l){const c=u.batch,d=c.keys();let h=w.resolve();return d.forEach(f=>{h=h.next(()=>l.getEntry(a,f)).next(p=>{const g=u.docVersions.get(f);j(null!==g),p.version.compareTo(g)<0&&(c.applyToRemoteDocument(p,u),p.isValidDocument()&&(p.setReadTime(u.commitVersion),l.addEntry(p)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,c))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=le();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(a=a.add(o.batch.mutations[u].key));return a}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}(t.localStore,e);oS(t,r,null),sS(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield es(t,i)}catch(i){yield Ts(i)}}),nS.apply(this,arguments)}function lce(n,e,t){return rS.apply(this,arguments)}function rS(){return rS=y(function*(n,e,t){const r=N(n);try{const i=yield function(s,o){const a=N(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let l;return a.mutationQueue.lookupMutationBatch(u,o).next(c=>(j(null!==c),l=c.keys(),a.mutationQueue.removeMutationBatch(u,c))).next(()=>a.mutationQueue.performConsistencyCheck(u)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(u,l,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,l)).next(()=>a.localDocuments.getDocuments(u,l))})}(r.localStore,e);oS(r,e,t),sS(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield es(r,i)}catch(i){yield Ts(i)}}),rS.apply(this,arguments)}function sS(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function oS(n,e,t){const r=N(n);let i=r.Tc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function Qu(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n._c.get(e))n.wc.delete(r),t&&n.dc.Pc(r,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(r=>{n.Ic.containsKey(r)||J$(n,r)})}function J$(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(Ud(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),uS(n))}function aS(n,e,t){for(const r of t)r instanceof W$?(n.Ic.addReference(r.key,e),dce(n,r)):r instanceof K$?(S("SyncEngine","Document no longer in limbo: "+r.key),n.Ic.removeReference(r.key,e),n.Ic.containsKey(r.key)||J$(n,r.key)):F()}function dce(n,e){const t=e.key,r=t.path.canonicalString();n.gc.get(t)||n.mc.has(r)||(S("SyncEngine","New document in limbo: "+t),n.mc.add(r),uS(n))}function uS(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new x(Ee.fromString(e)),r=n.Ac.next();n.yc.set(r,new nce(t)),n.gc=n.gc.insert(t,r),im(n.remoteStore,new Zi(kn(ku(t.path)),r,"TargetPurposeLimboResolution",or.ct))}}function es(n,e,t){return lS.apply(this,arguments)}function lS(){return lS=y(function*(n,e,t){const r=N(n),i=[],s=[],o=[];var a;r.wc.isEmpty()||(r.wc.forEach((a,u)=>{o.push(r.Rc(u,e,t).then(l=>{if((l||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,l?.fromCache?"not-current":"current"),l){i.push(l);const c=f0.Li(u.targetId,l);s.push(c)}}))}),yield Promise.all(o),r.dc.nu(i),yield(a=y(function*(u,l){const c=N(u);try{yield c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>w.forEach(l,h=>w.forEach(h.Fi,f=>c.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>w.forEach(h.Bi,f=>c.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!Ds(d))throw d;S("LocalStore","Failed to update sequence numbers: "+d)}for(const d of l){const h=d.targetId;if(!d.fromCache){const f=c.Ji.get(h),g=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);c.Ji=c.Ji.insert(h,g)}}}),function(u,l){return a.apply(this,arguments)})(r.localStore,s))}),lS.apply(this,arguments)}function hce(n,e){return cS.apply(this,arguments)}function cS(){return cS=y(function*(n,e){const t=N(n);if(!t.currentUser.isEqual(e)){S("SyncEngine","User change. New user:",e.toKey());const r=yield C$(t.localStore,e);t.currentUser=e,(i=t).Ec.forEach(o=>{o.forEach(a=>{a.reject(new C(E.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield es(t,r.er)}var i}),cS.apply(this,arguments)}function fce(n,e){const t=N(n),r=t.yc.get(e);if(r&&r.fc)return le().add(r.key);{let i=le();const s=t._c.get(e);if(!s)return i;for(const o of s){const a=t.wc.get(o);i=i.unionWith(a.view.nc)}return i}}class om{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return y(function*(){t.serializer=Ld(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function D$(n,e,t,r){return new Tle(n,e,t,r)}(this.persistence,new T$,e.initialUser,this.serializer)}createPersistence(e){return new l0(Yg.zs,this.serializer)}createSharedClientState(e){return new P$}terminate(){var e=this;return y(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Yu{initialize(e,t){var r=this;return y(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>X$(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=hce.bind(null,r.syncEngine),yield function B0(n,e){return $0.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Yle}createDatastore(e){const t=Ld(e.databaseInfo.databaseId),r=new Rle(e.databaseInfo);return new Fle(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>X$(this.syncEngine,a,0),o=O$.D()?new O$:new xle,new Ule(t,r,i,s,o);var t,r,i,s,o}createSyncEngine(e,t){return function(r,i,s,o,a,u,l){const c=new rce(r,i,s,o,a,u);return l&&(c.vc=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return function(){var e=y(function*(t){const r=N(t);S("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield Gu(r),r.Pu.shutdown(),r.bu.set("Unknown")});return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}class am{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):ft("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Cce{constructor(e,t,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Lt.UNAUTHENTICATED,this.clientId=SU.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=y(function*(a){S("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(S("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return y(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new C(E.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Mt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(y(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=qu(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function um(n,e){return wS.apply(this,arguments)}function wS(){return wS=y(function*(n,e){n.asyncQueue.verifyOperationInProgress(),S("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=y(function*(s){r.isEqual(s)||(yield C$(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),wS.apply(this,arguments)}function ES(n,e){return IS.apply(this,arguments)}function IS(){return IS=y(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield function bS(n){return TS.apply(this,arguments)}(n);S("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>G$(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>G$(e.remoteStore,s)),n._onlineComponents=e}),IS.apply(this,arguments)}function TS(){return TS=y(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){S("FirestoreClient","Using user provided OfflineComponentProvider");try{yield um(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function ij(n){return"FirebaseError"===n.name?n.code===E.FAILED_PRECONDITION||n.code===E.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}(t))throw t;$r("Error using user provided cache. Falling back to memory cache: "+t),yield um(n,new om)}}else S("FirestoreClient","Using default OfflineComponentProvider"),yield um(n,new om);return n._offlineComponents}),TS.apply(this,arguments)}function lm(n){return DS.apply(this,arguments)}function DS(){return DS=y(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(S("FirestoreClient","Using user provided OnlineComponentProvider"),yield ES(n,n._uninitializedComponentsProvider._online)):(S("FirestoreClient","Using default OnlineComponentProvider"),yield ES(n,new Yu))),n._onlineComponents}),DS.apply(this,arguments)}function Xu(n){return SS.apply(this,arguments)}function SS(){return SS=y(function*(n){const e=yield lm(n),t=e.eventManager;return t.onListen=ice.bind(null,e.syncEngine),t.onUnlisten=sce.bind(null,e.syncEngine),t}),SS.apply(this,arguments)}function cj(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const dj=new Map;function AS(n,e,t){if(!t)throw new C(E.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function hj(n){if(!x.isDocumentKey(n))throw new C(E.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function fj(n){if(x.isDocumentKey(n))throw new C(E.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function dm(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":F()}function ve(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new C(E.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=dm(n);throw new C(E.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class gj{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new C(E.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new C(E.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function Oce(n,e,t,r){if(!0===e&&!0===r)throw new C(E.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=cj(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new C(E.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new C(E.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new C(E.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Bd{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gj({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new C(E.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new C(E.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gj(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Rae;switch(t.type){case"firstParty":return new Lae(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new C(E.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=dj.get(e);t&&(S("ComponentProvider","Removing Datastore"),dj.delete(e),t.terminate())}(this),Promise.resolve()}}class mt{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new gi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new mt(this.firestore,e,this._key)}}class en{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new en(this.firestore,e,this._query)}}class gi extends en{constructor(e,t,r){super(e,t,ku(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new mt(this.firestore,null,new x(e))}withConverter(e){return new gi(this.firestore,e,this._path)}}function Lce(n,e,...t){if(n=An(n),AS("collection","path",e),n instanceof Bd){const r=Ee.fromString(e,...t);return fj(r),new gi(n,null,r)}{if(!(n instanceof mt||n instanceof gi))throw new C(E.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ee.fromString(e,...t));return fj(r),new gi(n.firestore,null,r)}}function mj(n,e,...t){if(n=An(n),1===arguments.length&&(e=SU.A()),AS("doc","path",e),n instanceof Bd){const r=Ee.fromString(e,...t);return hj(r),new mt(n,null,new x(r))}{if(!(n instanceof mt||n instanceof gi))throw new C(E.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ee.fromString(e,...t));return hj(r),new mt(n.firestore,n instanceof gi?n.converter:null,new x(r))}}class Vce{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new b0(this,"async_queue_retry"),this.Xc=()=>{const t=rm();t&&S("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=rm();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=rm();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new Mt;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return y(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!Ds(t))throw t;S("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,ft("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=t,t}enqueueAfterDelay(e,t,r){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const i=j0.createAndSchedule(this,e,t,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&F()}verifyOperationInProgress(){}sa(){var e=this;return y(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function MS(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class qe extends Bd{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Vce,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||_j(this),this._firestoreClient.terminate()}}function Bce(n,e){const r="string"==typeof n?n:e||"(default)",i=Xf("object"==typeof n?n:sO(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=qQ("firestore");s&&function Fce(n,e,t,r={}){var i;const s=(n=ve(n,Bd))._getSettings(),o=`${e}:${t}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&$r("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if("string"==typeof r.mockUserToken)a=r.mockUserToken,u=Lt.MOCK_USER;else{a=function KQ(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Hf(JSON.stringify({alg:"none",type:"JWT"})),Hf(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new C(E.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Lt(l)}n._authCredentials=new Pae(new DU(a,u))}}(i,...s)}return i}function bt(n){return n._firestoreClient||_j(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function _j(n){var e,t,r;const i=n._freezeSettings(),s=(a=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new fue(n._databaseId,a,n._persistenceKey,(l=i).host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,cj(l.experimentalLongPollingOptions),l.useFetchStreams));var a,l;n._firestoreClient=new Cce(n._authCredentials,n._appCheckCredentials,n._queue,s),null!==(t=i.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class Ko{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ko(xt.fromBase64String(e))}catch(t){throw new C(E.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ko(xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ju{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new C(E.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new pt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class xS{constructor(e){this._methodName=e}}class NS{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new C(E.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new C(E.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ne(this._lat,e._lat)||ne(this._long,e._long)}}const jce=/^__.*__$/;class Gce{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Ji(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ou(e,this.data,t,this.fieldTransforms)}}class Ej{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Ji(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Ij(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw F()}}class hm{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new hm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return pm(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(Ij(this.ca)&&jce.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class Hce{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Ld(e)}ya(e,t,r,i=!1){return new hm({ca:e,methodName:t,ga:r,path:pt.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Zu(n){const e=n._freezeSettings(),t=Ld(n._databaseId);return new Hce(n._databaseId,!!e.ignoreUndefinedProperties,t)}function kS(n,e,t,r,i,s={}){const o=n.ya(s.merge||s.mergeFields?2:0,e,t,i);PS("Data must be an object, but it was:",o,r);const a=Sj(r,o);let u,l;if(s.merge)u=new zn(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const d of s.mergeFields){const h=Gd(e,d,t);if(!o.contains(h))throw new C(E.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);Mj(c,h)||c.push(h)}u=new zn(c),l=o.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,l=o.fieldTransforms;return new Gce(new Zt(a),u,l)}class jd extends xS{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof jd}}function Qo(n,e){if(Aj(n=An(n)))return PS("Unsupported field value:",e,n),Sj(n,e);if(n instanceof xS)return function(t,r){if(!Ij(r.ca))throw r._a(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,r){const i=[];let s=0;for(const o of t){let a=Qo(o,r.wa(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=An(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return _B(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=tt.fromDate(t);return{timestampValue:Lu(r.serializer,i)}}if(t instanceof tt){const i=new tt(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Lu(r.serializer,i)}}if(t instanceof NS)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Ko)return{bytesValue:UB(r.serializer,t._byteString)};if(t instanceof mt){const i=r.databaseId,s=t.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:YC(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r._a(`Unsupported field value: ${dm(t)}`)}(n,e)}function Sj(n,e){const t={};return $U(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Cs(n,(r,i)=>{const s=Qo(i,e.ha(r));null!=s&&(t[r]=s)}),{mapValue:{fields:t}}}function Aj(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof tt||n instanceof NS||n instanceof Ko||n instanceof mt||n instanceof xS)}function PS(n,e,t){if(!Aj(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=dm(t);throw e._a("an object"===r?n+" a custom object":n+" "+r)}var r}function Gd(n,e,t){if((e=An(e))instanceof Ju)return e._internalPath;if("string"==typeof e)return fm(n,e);throw pm("Field path arguments must be of type string or ",n,!1,void 0,t)}const Kce=new RegExp("[~\\*/\\[\\]]");function fm(n,e,t){if(e.search(Kce)>=0)throw pm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ju(...e.split("."))._internalPath}catch{throw pm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function pm(n,e,t,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new C(E.INVALID_ARGUMENT,a+n+u)}function Mj(n,e){return n.some(t=>t.isEqual(e))}class OS{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new mt(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Qce(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(gm("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Qce extends OS{data(){return super.data()}}function gm(n,e){return"string"==typeof e?fm(n,e):e instanceof Ju?e._internalPath:e._delegate._internalPath}class Xce{convertValue(e,t="none"){switch(Ms(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ut(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Qi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw F()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Cs(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertGeoPoint(e){return new NS(ut(e.latitude),ut(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Mg(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(hd(e));default:return null}}convertTimestamp(e){const t=Ss(e);return new tt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Ee.fromString(e);j(QB(r));const i=new Oo(r.get(1),r.get(3)),s=new x(r.popFirst(5));return i.isEqual(t)||ft(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}class Yo{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class tl extends OS{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new vm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(gm("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class vm extends tl{data(e={}){return super.data(e)}}class nl{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Yo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new vm(this._firestore,this._userDataWriter,r.key,r,new Yo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new C(E.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new vm(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Yo(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new vm(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Yo(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,l=-1;return 0!==o.type&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),l=s.indexOf(o.doc.key)),{type:Zce(o.type),doc:a,oldIndex:u,newIndex:l}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Zce(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return F()}}class Vs extends Xce{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ko(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new mt(this.firestore,null,t)}}function ede(n,e,t,...r){n=ve(n,mt);const i=ve(n.firestore,qe),s=Zu(i);let o;return o="string"==typeof(e=An(e))||e instanceof Ju?function Dj(n,e,t,r,i,s){const o=n.ya(1,e,t),a=[Gd(e,r,t)],u=[i];if(s.length%2!=0)throw new C(E.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(Gd(e,s[h])),u.push(s[h+1]);const l=[],c=Zt.empty();for(let h=a.length-1;h>=0;--h)if(!Mj(l,a[h])){const f=a[h];let p=u[h];p=An(p);const g=o.da(f);if(p instanceof jd)l.push(f);else{const m=Qo(p,g);null!=m&&(l.push(f),c.set(f,m))}}const d=new zn(l);return new Ej(c,d,o.fieldTransforms)}(s,"updateDoc",n._key,e,t,r):function Tj(n,e,t,r){const i=n.ya(1,e,t);PS("Data must be an object, but it was:",i,r);const s=[],o=Zt.empty();Cs(r,(u,l)=>{const c=fm(e,u,t);l=An(l);const d=i.da(c);if(l instanceof jd)s.push(c);else{const h=Qo(l,d);null!=h&&(s.push(c),o.set(c,h))}});const a=new zn(s);return new Ej(o,a,i.fieldTransforms)}(s,"updateDoc",n._key,e),zd(i,[o.toMutation(n._key,Ye.exists(!0))])}function tde(n,e){const t=ve(n.firestore,qe),r=mj(n),i=function LS(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}(n.converter,e);return zd(t,[kS(Zu(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Ye.exists(!1))]).then(()=>r)}function zd(n,e){return function(t,r){const i=new Mt;return t.asyncQueue.enqueueAndForget(y(function*(){return function oce(n,e,t){return Z0.apply(this,arguments)}(yield function CS(n){return lm(n).then(e=>e.syncEngine)}(t),r,i)})),i.promise}(bt(n),e)}!function(n,e=!0){Cu=oc,Mn(new ln("firestore",(t,{instanceIdentifier:r,options:i})=>{const s=t.getProvider("app").getImmediate(),o=new qe(new Oae(t.getProvider("auth-internal")),new Vae(t.getProvider("app-check-internal")),function(a,u){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new C(E.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Oo(a.options.projectId,u)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),ht(TU,"3.13.0",n),ht(TU,"3.13.0","esm2017")}();var pde={includeMetadataChanges:!1};function US(n,e){return void 0===e&&(e=pde),new We(function(t){var r=function nde(n,...e){var t,r,i;n=An(n);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||MS(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(MS(e[o])){const d=e[o];e[o]=null===(t=d.next)||void 0===t?void 0:t.bind(d),e[o+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[o+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let u,l,c;if(n instanceof mt)l=ve(n.firestore,qe),c=ku(n._key.path),u={next:d=>{e[o]&&e[o](function VS(n,e,t){const r=t.docs.get(e._key),i=new Vs(n);return new tl(n,i,e._key,r,new Yo(t.hasPendingWrites,t.fromCache),e.converter)}(l,n,d))},error:e[o+1],complete:e[o+2]};else{const d=ve(n,en);l=ve(d.firestore,qe),c=d._query;const h=new Vs(l);u={next:f=>{e[o]&&e[o](new nl(l,h,d,f))},error:e[o+1],complete:e[o+2]},function xj(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new C(E.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query)}return function(d,h,f,p){const g=new am(p),m=new K0(h,g,f);return d.asyncQueue.enqueueAndForget(y(function*(){return function G0(n,e){return H0.apply(this,arguments)}(yield Xu(d),m)})),()=>{g.Dc(),d.asyncQueue.enqueueAndForget(y(function*(){return function z0(n,e){return q0.apply(this,arguments)}(yield Xu(d),m)}))}}(bt(l),c,a,u)}(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function Ede(n,e){return void 0===e&&(e={}),function wde(n){return US(n,{includeMetadataChanges:!0}).pipe(fe(function(e){return e.docs}))}(n).pipe(fe(function(t){return t.map(function(r){return function Vj(n,e){void 0===e&&(e={});var t=n.data();return!n.exists()||"object"!=typeof t||null===t||e.idField&&(t[e.idField]=n.id),t}(r,e)})}))}class rl{constructor(e){return e}}const jj="firestore",jS=new $("angularfire2.firestore-instances");function Tde(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new rl(r)}}const Dde={provide:class Ide{constructor(){return NI(jj)}},deps:[[new Tn,jS]]},Cde={provide:rl,useFactory:function bde(n,e){const t=function xI(n,e,t){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===t);if(1===s.length)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}(jj,n,e);return t&&new rl(t)},deps:[[new Tn,jS],nu]};let Sde=(()=>{class n{constructor(){ht("angularfire",II.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=On({type:n}),n.\u0275inj=vn({providers:[Cde,Dde]}),n})();function Ade(n,...e){return{ngModule:Sde,providers:[{provide:jS,useFactory:Tde(n),multi:!0,deps:[Re,Dn,wF,EF,[new Tn,UV],[new Tn,a2],...e]}]}}const Gj=wo(Ede,!0),Mde=wo(tde,!0),GS=wo(Lce,!0),xde=wo(mj,!0),Nde=wo(Bce,!0),kde=wo(ede,!0);var Tt=(()=>(function(n){n.EASY="easy",n.MEDIUM="medium",n.HARD="hard",n.PERSONALIZED="personalized"}(Tt||(Tt={})),Tt))(),Rn=(()=>(function(n){n.WON="You won!",n.LOSE="Game Over!",n.NONE=""}(Rn||(Rn={})),Rn))();let il=(()=>{var n;class e{constructor(){this.selectedLevel$=new cn(Tt.EASY),this.gameStatus$=new cn(Rn.NONE),this.gameConfiguration$=new cn({numberOfMines:1,numberOfSides:9}),this.savedData$=new cn({numberOfMines:1,numberOfSides:9}),this.historyLog$=new cn(null)}getSelectedLevel(){return this.selectedLevel$.asObservable()}setSelectedLevel(r){this.selectedLevel$.next(r)}getGameStatus(){return this.gameStatus$.asObservable()}setGameStatus(r){this.gameStatus$.next(r)}getGameConfiguration(){return this.gameConfiguration$.asObservable()}setGameConfiguration(r){this.gameConfiguration$.next(r)}getSavedData(){return this.savedData$.asObservable()}setSavedData(r){this.savedData$.next(r)}getHistoryLog(){return this.historyLog$.asObservable()}setHistoryLog(r){this.historyLog$.next(r)}}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"}),e})(),Hj=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(T(Ai),T(er))},n.\u0275dir=ee({type:n}),n})(),Xo=(()=>{class n extends Hj{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=Ht(n)))(r||n)}}(),n.\u0275dir=ee({type:n,features:[Me]}),n})();const mi=new $("NgValueAccessor"),Ode={provide:mi,useExisting:Ve(()=>Em),multi:!0},Lde=new $("CompositionEventMode");let Em=(()=>{class n extends Hj{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Fde(){const n=Oi()?Oi().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(T(Ai),T(er),T(Lde,8))},n.\u0275dir=ee({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&ke("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[Qe([Ode]),Me]}),n})();const Vde=!1;function Us(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function qj(n){return null!=n&&"number"==typeof n.length}const mn=new $("NgValidators"),Bs=new $("NgAsyncValidators"),Ude=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Im{static min(e){return Wj(e)}static max(e){return function Kj(n){return e=>{if(Us(e.value)||Us(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function Qj(n){return Us(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function Yj(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function Xj(n){return Us(n.value)||Ude.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function Jj(n){return e=>Us(e.value)||!qj(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function Zj(n){return e=>qj(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function eG(n){if(!n)return bm;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Us(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return oG(e)}static composeAsync(e){return aG(e)}}function Wj(n){return e=>{if(Us(e.value)||Us(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function bm(n){return null}function tG(n){return null!=n}function nG(n){const e=Bl(n)?yt(n):n;if(Vde&&!K_(e)){let t="Expected async validator to return Promise or Observable.";throw"object"==typeof n&&(t+=" Are you using a synchronous validator where an async validator is expected?"),new b(-1101,t)}return e}function rG(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function iG(n,e){return e.map(t=>t(n))}function sG(n){return n.map(e=>function Bde(n){return!n.validate}(e)?e:t=>e.validate(t))}function oG(n){if(!n)return null;const e=n.filter(tG);return 0==e.length?null:function(t){return rG(iG(t,e))}}function HS(n){return null!=n?oG(sG(n)):null}function aG(n){if(!n)return null;const e=n.filter(tG);return 0==e.length?null:function(t){return function Rde(...n){const e=cM(n),{args:t,keys:r}=IF(n),i=new We(s=>{const{length:o}=t;if(!o)return void s.complete();const a=new Array(o);let u=o,l=o;for(let c=0;c<o;c++){let d=!1;cr(t[c]).subscribe(Dt(s,h=>{d||(d=!0,l--),a[c]=h},()=>u--,void 0,()=>{(!u||!d)&&(l||s.next(r?TF(r,a):a),s.complete())}))}});return e?i.pipe(bF(e)):i}(iG(t,e).map(nG)).pipe(fe(rG))}}function zS(n){return null!=n?aG(sG(n)):null}function uG(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function lG(n){return n._rawValidators}function cG(n){return n._rawAsyncValidators}function qS(n){return n?Array.isArray(n)?n:[n]:[]}function Tm(n,e){return Array.isArray(n)?n.includes(e):n===e}function dG(n,e){const t=qS(e);return qS(n).forEach(i=>{Tm(t,i)||t.push(i)}),t}function hG(n,e){return qS(e).filter(t=>!Tm(n,t))}class fG{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=HS(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=zS(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Pn extends fG{get formDirective(){return null}get path(){return null}}class $s extends fG{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class pG{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let gG=(()=>{class n extends pG{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(T($s,2))},n.\u0275dir=ee({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&cf("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Me]}),n})(),mG=(()=>{class n extends pG{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(T(Pn,10))},n.\u0275dir=ee({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&cf("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[Me]}),n})();function yG(n,e){return n?`with name: '${e}'`:`at index: ${e}`}const QS=!1,qd="VALID",Cm="INVALID",sl="PENDING",Wd="DISABLED";function YS(n){return(Sm(n)?n.validators:n)||null}function XS(n,e){return(Sm(e)?e.asyncValidators:n)||null}function Sm(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function _G(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new b(1e3,QS?function Hde(n){return`\n    There are no form controls registered with this ${n?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(e):"");if(!r[t])throw new b(1001,QS?function zde(n,e){return`Cannot find form control ${yG(n,e)}`}(e,t):"")}function vG(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new b(1002,QS?function qde(n,e){return`Must supply a value for form control ${yG(n,e)}`}(e,i):"")})}class Am{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===qd}get invalid(){return this.status===Cm}get pending(){return this.status==sl}get disabled(){return this.status===Wd}get enabled(){return this.status!==Wd}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(dG(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(dG(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(hG(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(hG(e,this._rawAsyncValidators))}hasValidator(e){return Tm(this._rawValidators,e)}hasAsyncValidator(e){return Tm(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=sl,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Wd,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=qd,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===qd||this.status===sl)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Wd:qd}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=sl,this._hasOwnPendingAsyncValidator=!0;const t=nG(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Je,this.statusChanges=new Je}_calculateStatus(){return this._allControlsDisabled()?Wd:this.errors?Cm:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(sl)?sl:this._anyControlsHaveStatus(Cm)?Cm:qd}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Sm(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function Wde(n){return Array.isArray(n)?HS(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function Kde(n){return Array.isArray(n)?zS(n):n||null}(this._rawAsyncValidators)}}class Kd extends Am{constructor(e,t,r){super(YS(t),XS(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){vG(this,!0,e),Object.keys(e).forEach(r=>{_G(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class wG extends Kd{}const ol=new $("CallSetDisabledState",{providedIn:"root",factory:()=>Mm}),Mm="always";function Qd(n,e,t=Mm){JS(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function Yde(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&EG(n,e)})}(n,e),function Jde(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function Xde(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&EG(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function Qde(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Nm(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Rm(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function km(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function JS(n,e){const t=lG(n);null!==e.validator?n.setValidators(uG(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=cG(n);null!==e.asyncValidator?n.setAsyncValidators(uG(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();km(e._rawValidators,i),km(e._rawAsyncValidators,i)}function Rm(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=lG(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.validator);s.length!==i.length&&(t=!0,n.setValidators(s))}}if(null!==e.asyncValidator){const i=cG(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(t=!0,n.setAsyncValidators(s))}}}const r=()=>{};return km(e._rawValidators,r),km(e._rawAsyncValidators,r),t}function EG(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function TG(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function DG(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Xd=class extends Am{constructor(e=null,t,r){super(YS(t),XS(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Sm(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=DG(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){TG(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){TG(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){DG(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let xG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=ee({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const ahe={provide:mi,useExisting:Ve(()=>rA),multi:!0};let rA=(()=>{class n extends Xo{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=Ht(n)))(r||n)}}(),n.\u0275dir=ee({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,r){1&t&&ke("input",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},features:[Qe([ahe]),Me]}),n})(),NG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=On({type:n}),n.\u0275inj=vn({}),n})();const iA=new $("NgModelWithFormControlWarning"),hhe={provide:Pn,useExisting:Ve(()=>Pm)};let Pm=(()=>{class n extends Pn{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Je,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Rm(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Qd(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){Nm(t.control||null,t,!1),function nhe(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function bG(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(Nm(r||null,t),(n=>n instanceof Xd)(i)&&(Qd(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function IG(n,e){JS(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function Zde(n,e){return Rm(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){JS(this.form,this),this._oldForm&&Rm(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(T(mn,10),T(Bs,10),T(ol,8))},n.\u0275dir=ee({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&ke("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Qe([hhe]),Me,fr]}),n})();const ghe={provide:$s,useExisting:Ve(()=>aA)};let aA=(()=>{class n extends $s{set isDisabled(t){}constructor(t,r,i,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new Je,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function tA(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===Em?t=s:function the(n){return Object.getPrototypeOf(n.constructor)===Xo}(s)?r=s:i=s}),i||r||t||null}(0,s)}ngOnChanges(t){this._added||this._setUpControl(),function eA(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function xm(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(T(Pn,13),T(mn,10),T(Bs,10),T(mi,10),T(iA,8))},n.\u0275dir=ee({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Qe([ghe]),Me,fr]}),n})();let Jo=(()=>{class n{constructor(){this._validator=bm}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):bm,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=ee({type:n,features:[fr]}),n})();const bhe={provide:mn,useExisting:Ve(()=>cA),multi:!0};let cA=(()=>{class n extends Jo{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=t=>function UG(n){return"number"==typeof n?n:parseFloat(n)}(t),this.createValidator=t=>Wj(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=Ht(n)))(r||n)}}(),n.\u0275dir=ee({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&Bn("min",r._enabled?r.min:null)},inputs:{min:"min"},features:[Qe([bhe]),Me]}),n})(),xhe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=On({type:n}),n.\u0275inj=vn({imports:[NG]}),n})();class qG extends Am{constructor(e,t,r){super(YS(t),XS(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){vG(this,!1,e),e.forEach((r,i)=>{_G(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function WG(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let Nhe=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,r=null){const i=this._reduceControls(t);let s={};return WG(r)?s=r:null!==r&&(s.validators=r.validator,s.asyncValidators=r.asyncValidator),new Kd(i,s)}record(t,r=null){const i=this._reduceControls(t);return new wG(i,r)}control(t,r,i){let s={};return this.useNonNullable?(WG(r)?s=r:(s.validators=r,s.asyncValidators=i),new Xd(t,{...s,nonNullable:!0})):new Xd(t,r,i)}array(t,r,i){const s=t.map(o=>this._createControl(o));return new qG(s,r,i)}_reduceControls(t){const r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){return t instanceof Xd||t instanceof Am?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),khe=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:iA,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:ol,useValue:t.callSetDisabledState??Mm}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=On({type:n}),n.\u0275inj=vn({imports:[xhe]}),n})();function Rhe(n,e){1&n&&(H(0,"div",15),ae(1," This field is required. "),z())}function Phe(n,e){1&n&&(H(0,"div",15),ae(1," The number of sides should be at least 2. "),z())}function Ohe(n,e){1&n&&(H(0,"div",15),ae(1," This field is required. "),z())}function Fhe(n,e){1&n&&(H(0,"div",15),ae(1," There should be at least 1 mine. "),z())}function Lhe(n,e){if(1&n&&(H(0,"div",15),ae(1),z()),2&n){const t=zt(2);te(1),Rr(" ",t.errorStatus," ")}}function Vhe(n,e){if(1&n&&(H(0,"form",8)(1,"div",9)(2,"label",10),ae(3,"Number of Sides:"),z(),un(4,"input",11),Ke(5,Rhe,2,0,"div",12),Ke(6,Phe,2,0,"div",12),z(),H(7,"div",9)(8,"label",13),ae(9,"Number of Mines:"),z(),un(10,"input",14),Ke(11,Ohe,2,0,"div",12),Ke(12,Fhe,2,0,"div",12),Ke(13,Lhe,2,1,"div",12),z()()),2&n){const t=zt();pe("formGroup",t.settingsForm),te(5),pe("ngIf",(null==t.numberOfSides?null:t.numberOfSides.touched)&&(null==t.numberOfSides||null==t.numberOfSides.errors?null:t.numberOfSides.errors.required)),te(1),pe("ngIf",(null==t.numberOfSides?null:t.numberOfSides.touched)&&(null==t.numberOfMines||null==t.numberOfMines.errors?null:t.numberOfMines.errors.min)),te(5),pe("ngIf",(null==t.numberOfMines?null:t.numberOfMines.touched)&&(null==t.numberOfMines||null==t.numberOfMines.errors?null:t.numberOfMines.errors.required)),te(1),pe("ngIf",(null==t.numberOfMines?null:t.numberOfMines.touched)&&(null==t.numberOfMines||null==t.numberOfMines.errors?null:t.numberOfMines.errors.min)),te(1),pe("ngIf",!!t.errorStatus)}}const Om=function(n){return{active:n}};let Uhe=(()=>{var n;class e{constructor(r,i){this.fb=r,this.router=i,this.showForm=!1,this.selectedLevel=Tt.EASY,this.uiService=X(il)}ngOnInit(){this.settingsForm=this.fb.group({numberOfSides:["",[Im.required,Im.min(2)]],numberOfMines:["",[Im.required,Im.min(1)]]})}onStartLevel(){this.settingsForm.valid&&this.selectedLevel===Tt.PERSONALIZED&&this.uiService.setGameConfiguration(this.settingsForm.value),this.router.navigate(["board"])}onLoadLevel(){this.uiService.setSelectedLevel(Tt.PERSONALIZED),this.uiService.setGameStatus(Rn.NONE),this.router.navigate(["board"])}onSelectLevel(r){this.selectedLevel=r,this.uiService.setSelectedLevel(r),this.uiService.setGameStatus(Rn.NONE),this.showForm=r===Tt.PERSONALIZED}get numberOfSides(){return this.settingsForm.get("numberOfSides")}get numberOfMines(){return this.settingsForm.get("numberOfMines")}get errorStatus(){let r="";return this.numberOfSides?.valid&&this.numberOfMines?.valid&&Number(this.numberOfSides?.value)*Number(this.numberOfSides?.value)<=Number(this.numberOfMines?.value)&&(r="Number of mines can't be more or equal than the total tiles!"),r}get disabledStatus(){return!(this.selectedLevel!==Tt.PERSONALIZED||!this.numberOfMines?.invalid&&!this.numberOfSides?.invalid&&!this.errorStatus)}}return(n=e).\u0275fac=function(r){return new(r||n)(T(Nhe),T(Gn))},n.\u0275cmp=Cr({type:n,selectors:[["app-minesweeper-form"]],decls:20,vars:14,consts:[[1,"minesweeper-form"],[1,"minesweeper-form__buttons"],[3,"ngClass","click"],["class","minesweeper-form__inputs",3,"formGroup",4,"ngIf"],[1,"minesweeper-form__start"],["routerLink","/history"],[3,"disabled","click"],[3,"click"],[1,"minesweeper-form__inputs",3,"formGroup"],[1,"form-group"],["for","numberOfSides"],["type","number","id","numberOfSides","formControlName","numberOfSides","min","0"],["class","error",4,"ngIf"],["for","numberOfMines"],["type","number","id","numberOfMines","formControlName","numberOfMines","min","0"],[1,"error"]],template:function(r,i){1&r&&(H(0,"main",0)(1,"h1"),ae(2,"Select your difficulty"),z(),H(3,"div",1)(4,"button",2),ke("click",function(){return i.onSelectLevel("easy")}),ae(5,"Easy"),z(),H(6,"button",2),ke("click",function(){return i.onSelectLevel("medium")}),ae(7,"Medium"),z(),H(8,"button",2),ke("click",function(){return i.onSelectLevel("hard")}),ae(9,"Hard"),z(),H(10,"button",2),ke("click",function(){return i.onSelectLevel("personalized")}),ae(11,"Personalized"),z()(),Ke(12,Vhe,14,6,"form",3),H(13,"div",4)(14,"button",5),ae(15,"History Log"),z(),H(16,"button",6),ke("click",function(){return i.onStartLevel()}),ae(17,"Start Game"),z(),H(18,"button",7),ke("click",function(){return i.onLoadLevel()}),ae(19,"Load Game"),z()()()),2&r&&(te(4),pe("ngClass",so(6,Om,"easy"===i.selectedLevel)),te(2),pe("ngClass",so(8,Om,"medium"===i.selectedLevel)),te(2),pe("ngClass",so(10,Om,"hard"===i.selectedLevel)),te(2),pe("ngClass",so(12,Om,"personalized"===i.selectedLevel)),te(2),pe("ngIf",i.showForm),te(4),pe("disabled",i.disabledStatus))},dependencies:[Xv,tc,fu,xG,Em,rA,gG,mG,cA,Pm,aA],styles:[".minesweeper-form[_ngcontent-%COMP%]{padding:1rem;display:flex;flex-direction:column;gap:20px}.minesweeper-form__buttons[_ngcontent-%COMP%]{display:flex;gap:20px}.minesweeper-form__buttons[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{border:2px solid #9681eb}.minesweeper-form__inputs[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.minesweeper-form__inputs[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column}.minesweeper-form__inputs[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:40px;border:none;box-shadow:#00000026 1.95px 1.95px 2.6px}.minesweeper-form__start[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.minesweeper-form__start[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:150px;background-color:#9681eb}.minesweeper-form[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{color:#f66}"]}),e})(),Bhe=(()=>{var n;class e{constructor(r){this.firestore=r,this.uiService=X(il),this.destroyed=!1}ngOnInit(){const r=GS(this.firestore,"lastgame");Gj(r).pipe(dc(()=>!this.destroyed)).subscribe({next:i=>{const{numberOfSides:s,numberOfMines:o}=i[0].configuration;this.uiService.setGameConfiguration({numberOfMines:o,numberOfSides:s})}})}ngOnDestroy(){this.destroyed=!0}}return(n=e).\u0275fac=function(r){return new(r||n)(T(rl))},n.\u0275cmp=Cr({type:n,selectors:[["app-setup"]],decls:2,vars:0,consts:[[1,"setup"]],template:function(r,i){1&r&&(H(0,"div",0),un(1,"app-minesweeper-form"),z())},dependencies:[Uhe],styles:[".setup[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}"]}),e})();class KG{}class $he{}const ts="*";function jhe(n,e){return{type:7,name:n,definitions:e,options:{}}}function QG(n,e=null){return{type:4,styles:e,timings:n}}function YG(n,e=null){return{type:2,steps:n,options:e}}function Jd(n){return{type:6,styles:n,offset:null}}function hA(n,e,t){return{type:0,name:n,styles:e,options:t}}function XG(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function JG(n){Promise.resolve().then(n)}class Zd{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){JG(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class ZG{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const s=this.players.length;0==s?JG(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const fA="!",eH=["toast-component",""];function Ghe(n,e){if(1&n){const t=uf();H(0,"button",5),ke("click",function(){return vl(t),wl(zt().remove())}),H(1,"span",6),ae(2,"\xd7"),z()()}}function Hhe(n,e){if(1&n&&($a(0),ae(1),ja()),2&n){const t=zt(2);te(1),Rr("[",t.duplicatesCount+1,"]")}}function zhe(n,e){if(1&n&&(H(0,"div"),ae(1),Ke(2,Hhe,2,1,"ng-container",4),z()),2&n){const t=zt();Ni(t.options.titleClass),Bn("aria-label",t.title),te(1),Rr(" ",t.title," "),te(1),pe("ngIf",t.duplicatesCount)}}function qhe(n,e){if(1&n&&un(0,"div",7),2&n){const t=zt();Ni(t.options.messageClass),pe("innerHTML",t.message,y_)}}function Whe(n,e){if(1&n&&(H(0,"div",8),ae(1),z()),2&n){const t=zt();Ni(t.options.messageClass),Bn("aria-label",t.message),te(1),Rr(" ",t.message," ")}}function Khe(n,e){if(1&n&&(H(0,"div"),un(1,"div",9),z()),2&n){const t=zt();te(1),Ha("width",t.width+"%")}}class tfe{constructor(e,t){this.component=e,this.injector=t}attach(e,t){return this._attachedHost=e,e.attach(this,t)}detach(){const e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class nfe{attach(e,t){return this._attachedPortal=e,this.attachComponentPortal(e,t)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}}class rfe{constructor(e){this._overlayRef=e,this.duplicatesCount=0,this._afterClosed=new tn,this._activate=new tn,this._manualClose=new tn,this._resetTimeout=new tn,this._countDuplicate=new tn}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,t){e&&this._resetTimeout.next(),t&&this._countDuplicate.next(++this.duplicatesCount)}}class Fm{constructor(e,t,r,i,s,o){this.toastId=e,this.config=t,this.message=r,this.title=i,this.toastType=s,this.toastRef=o,this._onTap=new tn,this._onAction=new tn,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}}const nH=new $("ToastConfig");class ife extends nfe{constructor(e,t,r){super(),this._hostDomElement=e,this._componentFactoryResolver=t,this._appRef=r}attachComponentPortal(e,t){const r=this._componentFactoryResolver.resolveComponentFactory(e.component);let i;return i=r.create(e.injector),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.detachView(i.hostView),i.destroy()}),t?this._hostDomElement.insertBefore(this._getComponentRootNode(i),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(i)),i}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let sfe=(()=>{class n{constructor(){this._document=X(_t)}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._document.createElement("div");t.classList.add("overlay-container"),t.setAttribute("aria-live","polite"),this._document.body.appendChild(t),this._containerElement=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class ofe{constructor(e){this._portalHost=e}attach(e,t=!0){return this._portalHost.attach(e,t)}detach(){return this._portalHost.detach()}}let afe=(()=>{class n{constructor(){this._overlayContainer=X(sfe),this._componentFactoryResolver=X(Da),this._appRef=X(oo),this._document=X(_t),this._paneElements=new Map}create(t,r){return this._createOverlayRef(this.getPaneElement(t,r))}getPaneElement(t="",r){return this._paneElements.get(r)||this._paneElements.set(r,{}),this._paneElements.get(r)[t]||(this._paneElements.get(r)[t]=this._createPaneElement(t,r)),this._paneElements.get(r)[t]}_createPaneElement(t,r){const i=this._document.createElement("div");return i.id="toast-container",i.classList.add(t),i.classList.add("toast-container"),r?r.getContainerElement().appendChild(i):this._overlayContainer.getContainerElement().appendChild(i),i}_createPortalHost(t){return new ife(t,this._componentFactoryResolver,this._appRef)}_createOverlayRef(t){return new ofe(this._createPortalHost(t))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),pA=(()=>{class n{constructor(t,r,i,s,o){this.overlay=r,this._injector=i,this.sanitizer=s,this.ngZone=o,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig={...t.default,...t.config},t.config.iconClasses&&(this.toastrConfig.iconClasses={...t.default.iconClasses,...t.config.iconClasses})}show(t,r,i={},s=""){return this._preBuildNotification(s,t,r,this.applyConfig(i))}success(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",t,r,this.applyConfig(i))}error(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",t,r,this.applyConfig(i))}info(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",t,r,this.applyConfig(i))}warning(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",t,r,this.applyConfig(i))}clear(t){for(const r of this.toasts)if(void 0!==t){if(r.toastId===t)return void r.toastRef.manualClose()}else r.toastRef.manualClose()}remove(t){const r=this._findToast(t);if(!r||(r.activeToast.toastRef.close(),this.toasts.splice(r.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const i=this.toasts[this.currentlyActive].toastRef;i.isInactive()||(this.currentlyActive=this.currentlyActive+1,i.activate())}return!0}findDuplicate(t="",r="",i,s){const{includeTitleDuplicates:o}=this.toastrConfig;for(const a of this.toasts)if((!o||o&&a.title===t)&&a.message===r)return a.toastRef.onDuplicate(i,s),a;return null}applyConfig(t={}){return{...this.toastrConfig,...t}}_findToast(t){for(let r=0;r<this.toasts.length;r++)if(this.toasts[r].toastId===t)return{index:r,activeToast:this.toasts[r]};return null}_preBuildNotification(t,r,i,s){return s.onActivateTick?this.ngZone.run(()=>this._buildNotification(t,r,i,s)):this._buildNotification(t,r,i,s)}_buildNotification(t,r,i,s){if(!s.toastComponent)throw new Error("toastComponent required");const o=this.findDuplicate(i,r,this.toastrConfig.resetTimeoutOnDuplicate&&s.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&i||r)&&this.toastrConfig.preventDuplicates&&null!==o)return o;this.previousToastMessage=r;let a=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(a=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const u=this.overlay.create(s.positionClass,this.overlayContainer);this.index=this.index+1;let l=r;r&&s.enableHtml&&(l=this.sanitizer.sanitize(Oe.HTML,r));const c=new rfe(u),d=new Fm(this.index,s,l,i,t,c),f=Dn.create({providers:[{provide:Fm,useValue:d}],parent:this._injector}),p=new tfe(s.toastComponent,f),g=u.attach(p,s.newestOnTop);c.componentInstance=g.instance;const m={toastId:this.index,title:i||"",message:r||"",toastRef:c,onShown:c.afterActivate(),onHidden:c.afterClosed(),onTap:d.onTap(),onAction:d.onAction(),portal:g};return a||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{m.toastRef.activate()})),this.toasts.push(m),m}}return n.\u0275fac=function(t){return new(t||n)(P(nH),P(afe),P(Dn),P(jP),P(Re))},n.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),rH=(()=>{class n{get displayStyle(){if("inactive"===this.state.value)return"none"}constructor(t,r,i){this.toastrService=t,this.toastPackage=r,this.ngZone=i,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(s=>{this.duplicatesCount=s})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&"extendedTimeOut"!==this.options.disableTimeOut&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(t,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(t),r)):this.timeout=setTimeout(()=>t(),r)}outsideInterval(t,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(t),r)):this.intervalId=setInterval(()=>t(),r)}runInsideAngular(t){this.ngZone?this.ngZone.run(()=>t()):t()}}return n.\u0275fac=function(t){return new(t||n)(T(pA),T(Fm),T(Re))},n.\u0275cmp=Cr({type:n,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(t,r){1&t&&ke("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),2&t&&(tv("@flyInOut",r.state),Ni(r.toastClasses),Ha("display",r.displayStyle))},standalone:!0,features:[yf],attrs:eH,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(t,r){1&t&&(Ke(0,Ghe,3,0,"button",0),Ke(1,zhe,3,5,"div",1),Ke(2,qhe,1,3,"div",2),Ke(3,Whe,2,4,"div",3),Ke(4,Khe,2,2,"div",4)),2&t&&(pe("ngIf",r.options.closeButton),te(1),pe("ngIf",r.title),te(1),pe("ngIf",r.message&&r.options.enableHtml),te(1),pe("ngIf",r.message&&!r.options.enableHtml),te(1),pe("ngIf",r.options.progressBar))},dependencies:[tc],encapsulation:2,data:{animation:[jhe("flyInOut",[hA("inactive",Jd({opacity:0})),hA("active",Jd({opacity:1})),hA("removed",Jd({opacity:0})),XG("inactive => active",QG("{{ easeTime }}ms {{ easing }}")),XG("active => removed",QG("{{ easeTime }}ms {{ easing }}"))])]}}),n})();const ufe={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",toastComponent:rH},lfe=(n={})=>function Sq(n){return{\u0275providers:n}}([{provide:nH,useValue:{default:ufe,config:n}}]);let cfe=(()=>{class n{static forRoot(t={}){return{ngModule:n,providers:[lfe(t)]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=On({type:n}),n.\u0275inj=vn({imports:[rH]}),n})();function dfe(n,e){1&n&&(H(0,"span",7),un(1,"img",8),z())}function hfe(n,e){1&n&&(H(0,"span",7),un(1,"img",9),z())}const ffe=function(n){return{background:n}};function pfe(n,e){if(1&n){const t=uf();H(0,"div",5),ke("click",function(){const s=vl(t).$implicit;return wl(zt(2).revealTile(s))})("contextmenu",function(i){const o=vl(t).$implicit;return wl(zt(2).setFlag(i,o))}),Ke(1,dfe,2,0,"span",6),Ke(2,hfe,2,0,"span",6),z()}if(2&n){const t=e.$implicit;pe("ngStyle",so(3,ffe,t.isRevealed&&!t.hasMine&&"#45CFDD")),te(1),pe("ngIf",t.isRevealed&&t.hasMine),te(1),pe("ngIf",!t.isRevealed&&t.isFlagged)}}function gfe(n,e){if(1&n&&(H(0,"div",3),Ke(1,pfe,3,5,"div",4),z()),2&n){const t=e.$implicit;te(1),pe("ngForOf",t)}}let mfe=(()=>{var n;class e{constructor(){this.minesEmitter=new Je,this.startTime=new Date,this.endTime=new Date,this.mines=0,this.selectedLevel=Tt.EASY,this.gameStatus=Rn.NONE,this.boardSize=9,this.board=[],this.uiService=X(il)}ngOnInit(){sp([this.uiService.getSelectedLevel(),this.uiService.getGameConfiguration()]).subscribe({next:([r,i])=>{this.selectedLevel=r,r===Tt.PERSONALIZED?this.setBoardTiles(r,i.numberOfSides,i.numberOfMines):this.setBoardTiles(r)}})}setStartingValues(){this.startTime=new Date(Date.now())}revealTile(r,i,s){if(!r.isFlagged&&!r.isRevealed&&this.gameStatus===Rn.NONE){if(r.isRevealed=!0,r.hasMine)return void this.gameOver();if(0===r.adjacentMines){i=void 0===i?this.board.findIndex(a=>a.includes(r)):i,s=void 0===s?this.board[i].indexOf(r):s;const o=[[-1,-1],[-1,0],[-1,1],[0,-1],[0,1],[1,-1],[1,0],[1,1]];for(const[a,u]of o){const l=i+a,c=s+u;l>=0&&l<this.boardSize&&c>=0&&c<this.boardSize&&this.revealTile(this.board[l][c],l,c)}}this.checkGameStatus()}}setFlag(r,i){r.preventDefault(),this.gameStatus===Rn.NONE&&(i.isFlagged=!i.isFlagged,this.mines>0&&this.mines--,this.minesEmitter.emit(this.mines))}gameOver(){this.board.forEach(i=>i.forEach(s=>{s.hasMine&&(s.isRevealed=!0)})),this.gameStatus=Rn.LOSE,this.endTime=new Date(Date.now());const r={difficulty:this.selectedLevel,ellapsedTime:(this.endTime.valueOf()-this.startTime.valueOf())/1e3,startTime:this.startTime,endTime:this.endTime,status:this.gameStatus};this.uiService.setHistoryLog(r),this.uiService.setGameStatus(this.gameStatus)}checkGameStatus(){for(const i of this.board)for(const s of i)if(!s.hasMine&&!s.isRevealed)return;this.gameStatus=Rn.WON,this.endTime=new Date(Date.now());const r={difficulty:this.selectedLevel,ellapsedTime:(this.endTime.valueOf()-this.startTime.valueOf())/1e3,startTime:this.startTime,endTime:this.endTime,status:this.gameStatus};this.uiService.setHistoryLog(r),this.uiService.setGameStatus(this.gameStatus)}setBoardTiles(r,i=9,s=0){switch(this.gameStatus=Rn.NONE,r){case Tt.EASY:this.boardSize=9,s=9;break;case Tt.MEDIUM:this.boardSize=14,s=18;break;case Tt.HARD:this.boardSize=20,s=36;break;case Tt.PERSONALIZED:this.boardSize=i;break;default:this.boardSize=9,s=9}this.mines=s,this.initializeBoard(s)}initializeBoard(r){const i=new Set;for(this.board=new Array(this.boardSize);i.size<r;){const s=Math.floor(Math.random()*this.boardSize),o=Math.floor(Math.random()*this.boardSize);i.add(`${s},${o}`)}for(let s=0;s<this.boardSize;s++)this.board[s]=new Array(this.boardSize).fill(null).map((o,a)=>({hasMine:i.has(`${s},${a}`),adjacentMines:0,isRevealed:!1,isFlagged:!1}));this.uiService.setSavedData({numberOfSides:this.boardSize,numberOfMines:r}),this.minesEmitter.emit(r),this.calculateAdjacentMines()}calculateAdjacentMines(){const r=[[-1,-1],[-1,0],[-1,1],[0,-1],[0,1],[1,-1],[1,0],[1,1]];for(let i=0;i<this.boardSize;i++)for(let s=0;s<this.boardSize;s++)if(!this.board[i][s].hasMine){const o=r.reduce((a,[u,l])=>{const c=i+u,d=s+l;return c>=0&&c<this.boardSize&&d>=0&&d<this.boardSize&&this.board[c][d].hasMine&&a++,a},0);this.board[i][s].adjacentMines=o}}}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275cmp=Cr({type:n,selectors:[["app-minesweeper-layout"]],outputs:{minesEmitter:"minesEmitter"},decls:3,vars:2,consts:[[1,"layout",3,"ngClass"],[1,"layout__board"],["class","layout__board-tile",4,"ngFor","ngForOf"],[1,"layout__board-tile"],["class","layout__board-cell",3,"ngStyle","click","contextmenu",4,"ngFor","ngForOf"],[1,"layout__board-cell",3,"ngStyle","click","contextmenu"],["class","mine",4,"ngIf"],[1,"mine"],["src","assets/mine.png"],["src","assets/flag.png"]],template:function(r,i){1&r&&(H(0,"main",0)(1,"div",1),Ke(2,gfe,2,1,"div",2),z()()),2&r&&(pe("ngClass",i.selectedLevel),te(2),pe("ngForOf",i.board))},dependencies:[Xv,Jv,tc,tw],styles:[".layout[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:5px}.layout__board[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.layout__board-cell[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background:rgb(155,232,216);cursor:pointer;border:1px solid #1d5b79;height:30px;width:30px}.layout__board[_ngcontent-%COMP%]   .mine[_ngcontent-%COMP%]{display:flex}.layout__board[_ngcontent-%COMP%]   .mine[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:25px}"]}),e})();const yfe=function(n){return{width:n}};let _fe=(()=>{var n;class e{constructor(){this.mines=0,this.headerSize="270px",this.timeEllapsed=0,this.gameStatus="",this.selectedLevel=Tt.EASY,this.sides=0,this.uiService=X(il)}ngOnInit(){sp([this.uiService.getSelectedLevel(),this.uiService.getGameStatus(),this.uiService.getGameConfiguration()]).subscribe({next:([r,i,s])=>{this.gameStatus=i,this.sides=s.numberOfSides,this.selectedLevel=r,this.setHeaderSize(r)}})}resetGame(){this.uiService.setSelectedLevel(this.selectedLevel),this.uiService.setGameStatus(Rn.NONE),this.uiService.setHistoryLog(null)}setHeaderSize(r){switch(r){case Tt.EASY:this.headerSize="270px";break;case Tt.MEDIUM:this.headerSize="420px";break;case Tt.HARD:this.headerSize="600px";break;case Tt.PERSONALIZED:this.headerSize=30*this.sides+"px";break;default:this.headerSize="270px"}}get statusImg(){let r="assets/happiness.png";return this.gameStatus===Rn.LOSE&&(r="assets/sad.png"),this.gameStatus===Rn.WON&&(r="assets/smiling.png"),r}}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275cmp=Cr({type:n,selectors:[["app-minesweeper-header"]],inputs:{mines:"mines"},decls:7,vars:5,consts:[[1,"header",3,"ngStyle"],[1,"header__counter"],["src","assets/mine.png"],[1,"header__img",3,"click"],["alt","status face",3,"src"]],template:function(r,i){1&r&&(H(0,"main",0)(1,"div",1),un(2,"img",2),H(3,"span"),ae(4),z()(),H(5,"span",3),ke("click",function(){return i.resetGame()}),un(6,"img",4),z()()),2&r&&(pe("ngStyle",so(3,yfe,i.headerSize)),te(4),Rr(" ",i.mines," "),te(2),pe("src",i.statusImg,__))},dependencies:[tw],styles:[".header[_ngcontent-%COMP%]{height:60px;border:1px solid #1d5b79;border-bottom:none;border-radius:5px 5px 0 0;display:flex;gap:10px;align-items:center;justify-content:center}.header__counter[_ngcontent-%COMP%]{display:flex;align-items:center;gap:5px}.header__counter[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:2rem;color:#1d5b79}.header__counter[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px}.header__img[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer}.header__img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px}"]}),e})(),vfe=(()=>{var n;class e{constructor(r){this.firestore=r,this.gameStatus$=new We,this.destroyed=!1,this.mines=0,this.uiService=X(il),this.toastr=X(pA),this.cd=X(Xl)}ngOnInit(){this.gameStatus$=this.uiService.getGameStatus(),this.uiService.getHistoryLog().pipe(dc(()=>!this.destroyed)).subscribe({next:r=>{if(r){const i=GS(this.firestore,"log");Mde(i,r).catch(s=>{console.error("Error updating configuration:",s)})}}})}onSaveGame(){this.destroyed=!1,this.uiService.getSavedData().pipe(dc(()=>!this.destroyed)).subscribe({next:r=>{const i=xde(this.firestore,"lastgame","qluTJwbgCXASM5aqbWF9");kde(i,{configuration:r}).then(()=>{this.destroyed=!0,this.toastr.success("Succes!, your game was saved")}).catch(s=>{console.error("Error updating configuration:",s)})}})}getCurrentMineNumber(r){this.mines=r,this.cd.detectChanges()}ngOnDestroy(){this.uiService.setHistoryLog(null),this.destroyed=!0}}return(n=e).\u0275fac=function(r){return new(r||n)(T(rl))},n.\u0275cmp=Cr({type:n,selectors:[["app-minesweeper"]],decls:17,vars:4,consts:[[1,"minesweeper"],[1,"minesweeper__back"],["routerLink","/"],[1,"minesweeper__back-right-buttons"],["routerLink","/history"],[3,"click"],[1,"minesweeper__main"],[3,"mines"],[3,"minesEmitter"]],template:function(r,i){1&r&&(H(0,"main",0)(1,"div",1)(2,"button",2),ae(3,"Go Back"),z(),H(4,"div",3)(5,"button",4),ae(6,"History Log"),z(),H(7,"button",5),ke("click",function(){return i.onSaveGame()}),ae(8,"Save Game"),z()()(),H(9,"h1"),ae(10," MineSweeper"),z(),H(11,"div",6),un(12,"app-minesweeper-header",7),H(13,"app-minesweeper-layout",8),ke("minesEmitter",function(o){return i.getCurrentMineNumber(o)}),z()(),H(14,"h1"),ae(15),cv(16,"async"),z()()),2&r&&(te(12),pe("mines",i.mines),te(3),as(function $k(n,e,t){const r=n+je,i=D(),s=ha(i,r);return Kl(i,r)?Fk(i,In(),e,s.transform,t,s):s.transform(t)}(16,2,i.gameStatus$)))},dependencies:[fu,mfe,_fe,fP],styles:[".minesweeper[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-direction:column;width:100%}.minesweeper__back[_ngcontent-%COMP%]{padding:1rem;width:100vw;display:flex;justify-content:space-between}.minesweeper__back-right-buttons[_ngcontent-%COMP%]{display:flex;gap:10px}.minesweeper__main[_ngcontent-%COMP%]{box-shadow:#64646f33 0 7px 29px}"],changeDetection:0}),e})(),wfe=(()=>{var n;class e{transform(r,i="floor"){return"ceil"===i?Math.ceil(r):Math.floor(r)}}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275pipe=wn({name:"roundPipe",type:n,pure:!0}),e})();function Efe(n,e){if(1&n&&($a(0),H(1,"span"),ae(2),z(),H(3,"span"),ae(4),z(),H(5,"span"),ae(6),z(),H(7,"span"),ae(8),z(),H(9,"span"),ae(10),z(),ja()),2&n){const t=e.$implicit;te(2),as(t.startTime),te(2),as(t.endTime),te(2),as(t.ellapsedTime),te(2),as(t.difficulty),te(2),as(t.status)}}const Ife=[{path:"",component:Bhe},{path:"board",component:vfe},{path:"history",component:(()=>{var n;class e{constructor(r){this.firestore=r,this.uiService=X(il),this.logList=[],this.destroyed=!1,this.currentPage=1,this.itemsPerPage=10,this.totalItems=0}ngOnInit(){this.totalItems=this.logList.length;const r=GS(this.firestore,"log");Gj(r).pipe(fe(i=>this.mapCollectionData(i)),dc(()=>!this.destroyed)).subscribe({next:i=>{this.logList=i,this.totalItems=this.logList.length}})}mapCollectionData(r){return r.sort((i,s)=>i.ellapsedTime-s.ellapsedTime),r.map(i=>({ellapsedTime:this.formatEllapsedTime(i?.ellapsedTime),difficulty:i.difficulty,status:i.status,startTime:this.formatDate(i.startTime.seconds),endTime:this.formatDate(i.endTime.seconds)}))}formatEllapsedTime(r){return r<60?`${r} sec`:r<3600?`${Math.floor(r/60)} min`:`${Math.floor(r/3600)} hr`}formatDate(r){const i=new Date(1e3*r);return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!0}).format(i)}ngOnDestroy(){this.destroyed=!0}nextPage(){this.currentPage<Math.ceil(this.totalItems/this.itemsPerPage)&&this.currentPage++}prevPage(){this.currentPage>1&&this.currentPage--}get displayedLogs(){const r=(this.currentPage-1)*this.itemsPerPage;return this.logList.slice(r,r+this.itemsPerPage)}}return(n=e).\u0275fac=function(r){return new(r||n)(T(rl))},n.\u0275cmp=Cr({type:n,selectors:[["app-history"]],decls:23,vars:7,consts:[[1,"history"],["routerLink","/"],[1,"history__table"],[1,"history__table-header"],[4,"ngFor","ngForOf"],[1,"history__pagination"],[3,"disabled","click"],[3,"click"]],template:function(r,i){1&r&&(H(0,"main",0)(1,"button",1),ae(2,"Back to Configuration"),z(),H(3,"div",2)(4,"span",3),ae(5,"Start Time"),z(),H(6,"span",3),ae(7,"End Time"),z(),H(8,"span",3),ae(9,"Time Spent"),z(),H(10,"span",3),ae(11,"Difficulty"),z(),H(12,"span",3),ae(13,"Status"),z(),Ke(14,Efe,11,5,"ng-container",4),z(),H(15,"div",5)(16,"button",6),ke("click",function(){return i.prevPage()}),ae(17,"Previous"),z(),H(18,"span"),ae(19),cv(20,"roundPipe"),z(),H(21,"button",7),ke("click",function(){return i.nextPage()}),ae(22,"Next"),z()()()),2&r&&(te(14),pe("ngForOf",i.displayedLogs),te(2),pe("disabled",1===i.currentPage),te(3),ev("Page ",i.currentPage," of ",jk(20,4,i.totalItems/i.itemsPerPage,"ceil"),""))},dependencies:[Jv,fu,wfe],styles:[".history[_ngcontent-%COMP%]{padding:1rem;display:flex;flex-direction:column}.history__table[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(5,1fr);width:100%;padding:20px}.history__table-header[_ngcontent-%COMP%]{font-weight:700;background-color:#f2f2f2;padding:10px;border:1px solid #ddd}.history__table[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:10px;border:1px solid #ddd;text-align:left}.history[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:140px}.history__pagination[_ngcontent-%COMP%]{align-self:center}"]}),e})()}];let bfe=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275mod=On({type:n}),n.\u0275inj=vn({imports:[PL.forRoot(Ife),PL]}),e})(),Tfe=(()=>{var n;class e{constructor(){this.title="minesweep-angular"}}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275cmp=Cr({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(r,i){1&r&&un(0,"router-outlet")},dependencies:[XI]}),e})();const Dfe_firebase={projectId:"minesweep-angular",appId:"1:892391961566:web:d61a467dd41c7aee50234f",storageBucket:"minesweep-angular.appspot.com",apiKey:"AIzaSyAp7608JT_atIqWQTFbhYE2M7qhePqX0UY",authDomain:"minesweep-angular.firebaseapp.com",messagingSenderId:"892391961566"};function iH(n){return new b(3e3,!1)}function ope(){return typeof window<"u"&&typeof window.document<"u"}function gA(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function js(n){switch(n.length){case 0:return new Zd;case 1:return n[0];default:return new ZG(n)}}function sH(n,e,t,r,i=new Map,s=new Map){const o=[],a=[];let u=-1,l=null;if(r.forEach(c=>{const d=c.get("offset"),h=d==u,f=h&&l||new Map;c.forEach((p,g)=>{let m=g,_=p;if("offset"!==g)switch(m=e.normalizePropertyName(m,o),_){case fA:_=i.get(g);break;case ts:_=s.get(g);break;default:_=e.normalizeStyleValue(g,m,_,o)}f.set(m,_)}),h||a.push(f),l=f,u=d}),o.length)throw function Kfe(n){return new b(3502,!1)}();return a}function mA(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&yA(t,"start",n)));break;case"done":n.onDone(()=>r(t&&yA(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&yA(t,"destroy",n)))}}function yA(n,e,t){const s=_A(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),o=n._data;return null!=o&&(s._data=o),s}function _A(n,e,t,r,i="",s=0,o){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function ar(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function oH(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let vA=(n,e)=>!1,aH=(n,e,t)=>[],uH=null;function wA(n){const e=n.parentNode||n.host;return e===uH?null:e}(gA()||typeof Element<"u")&&(ope()?(uH=(()=>document.documentElement)(),vA=(n,e)=>{for(;e;){if(e===n)return!0;e=wA(e)}return!1}):vA=(n,e)=>n.contains(e),aH=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let Zo=null,lH=!1;const cH=vA,dH=aH;let hH=(()=>{class n{validateStyleProperty(t){return function upe(n){Zo||(Zo=function lpe(){return typeof document<"u"?document.body:null}()||{},lH=!!Zo.style&&"WebkitAppearance"in Zo.style);let e=!0;return Zo.style&&!function ape(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Zo.style,!e&&lH&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Zo.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return cH(t,r)}getParentElement(t){return wA(t)}query(t,r,i){return dH(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,s,o,a=[],u){return new Zd(i,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=B({token:n,factory:n.\u0275fac}),n})(),EA=(()=>{class n{}return n.NOOP=new hH,n})();const cpe=1e3,IA="ng-enter",Lm="ng-leave",Vm="ng-trigger",Um=".ng-trigger",pH="ng-animating",bA=".ng-animating";function ns(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:TA(parseFloat(e[1]),e[2])}function TA(n,e){return"s"===e?n*cpe:n}function Bm(n,e,t){return n.hasOwnProperty("duration")?n:function hpe(n,e,t){let i,s=0,o="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(iH()),{duration:0,delay:0,easing:""};i=TA(parseFloat(a[1]),a[2]);const u=a[3];null!=u&&(s=TA(parseFloat(u),a[4]));const l=a[5];l&&(o=l)}else i=n;if(!t){let a=!1,u=e.length;i<0&&(e.push(function Cfe(){return new b(3100,!1)}()),a=!0),s<0&&(e.push(function Sfe(){return new b(3101,!1)}()),a=!0),a&&e.splice(u,0,iH())}return{duration:i,delay:s,easing:o}}(n,e,t)}function eh(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function gH(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function Gs(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function yH(n,e,t){return t?e+":"+t+";":""}function _H(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=yH(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=yH(0,mpe(t),n.style[t]));n.setAttribute("style",e)}function yi(n,e,t){n.style&&(e.forEach((r,i)=>{const s=CA(i);t&&!t.has(i)&&t.set(i,n.style[s]),n.style[s]=r}),gA()&&_H(n))}function ea(n,e){n.style&&(e.forEach((t,r)=>{const i=CA(r);n.style[i]=""}),gA()&&_H(n))}function th(n){return Array.isArray(n)?1==n.length?n[0]:YG(n):n}const DA=new RegExp("{{\\s*(.+?)\\s*}}","g");function vH(n){let e=[];if("string"==typeof n){let t;for(;t=DA.exec(n);)e.push(t[1]);DA.lastIndex=0}return e}function nh(n,e,t){const r=n.toString(),i=r.replace(DA,(s,o)=>{let a=e[o];return null==a&&(t.push(function Mfe(n){return new b(3003,!1)}()),a=""),a.toString()});return i==r?n:i}function $m(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const gpe=/-+([a-z0-9])/g;function CA(n){return n.replace(gpe,(...e)=>e[1].toUpperCase())}function mpe(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function ur(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function xfe(n){return new b(3004,!1)}()}}function wH(n,e){return window.getComputedStyle(n)[e]}const Hm="*";function Ipe(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function bpe(n,e,t){if(":"==n[0]){const u=function Tpe(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function Hfe(n){return new b(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof u)return void e.push(u);n=u}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function Gfe(n){return new b(3015,!1)}()),e;const i=r[1],s=r[2],o=r[3];e.push(EH(i,o));"<"==s[0]&&!(i==Hm&&o==Hm)&&e.push(EH(o,i))}(r,t,e)):t.push(n),t}const zm=new Set(["true","1"]),qm=new Set(["false","0"]);function EH(n,e){const t=zm.has(n)||qm.has(n),r=zm.has(e)||qm.has(e);return(i,s)=>{let o=n==Hm||n==i,a=e==Hm||e==s;return!o&&t&&"boolean"==typeof i&&(o=i?zm.has(n):qm.has(n)),!a&&r&&"boolean"==typeof s&&(a=s?zm.has(e):qm.has(e)),o&&a}}const Dpe=new RegExp("s*:selfs*,?","g");function SA(n,e,t,r){return new Cpe(n).build(e,t,r)}class Cpe{constructor(e){this._driver=e}build(e,t,r){const i=new Mpe(t);return this._resetContextStyleTimingState(i),ur(this,th(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const s=[],o=[];return"@"==e.name.charAt(0)&&t.errors.push(function kfe(){return new b(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const u=a,l=u.name;l.toString().split(/\s*,\s*/).forEach(c=>{u.name=c,s.push(this.visitState(u,t))}),u.name=l}else if(1==a.type){const u=this.visitTransition(a,t);r+=u.queryCount,i+=u.depCount,o.push(u)}else t.errors.push(function Rfe(){return new b(3007,!1)}())}),{type:7,name:e.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const s=new Set,o=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(u=>{vH(u).forEach(l=>{o.hasOwnProperty(l)||s.add(l)})})}),s.size&&($m(s.values()),t.errors.push(function Pfe(n,e){return new b(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=ur(this,th(e.animation),t);return{type:1,matchers:Ipe(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:ta(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>ur(this,r,t)),options:ta(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const s=e.steps.map(o=>{t.currentTime=r;const a=ur(this,o,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:3,steps:s,options:ta(e.options)}}visitAnimate(e,t){const r=function Npe(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return AA(Bm(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=AA(0,0,"");return s.dynamic=!0,s.strValue=t,s}const i=Bm(t,e);return AA(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,s=e.styles?e.styles:Jd({});if(5==s.type)i=this.visitKeyframes(s,t);else{let o=e.styles,a=!1;if(!o){a=!0;const l={};r.easing&&(l.easing=r.easing),o=Jd(l)}t.currentTime+=r.duration+r.delay;const u=this.visitStyle(o,t);u.isEmptyStep=a,i=u}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)"string"==typeof a?a===ts?r.push(a):t.errors.push(new b(3002,!1)):r.push(gH(a));let s=!1,o=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s))for(let u of a.values())if(u.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:r,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,s=t.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,u)=>{const l=t.collectedStyles.get(t.currentQuerySelector),c=l.get(u);let d=!0;c&&(s!=i&&s>=c.startTime&&i<=c.endTime&&(t.errors.push(function Ffe(n,e,t,r,i){return new b(3010,!1)}()),d=!1),s=c.startTime),d&&l.set(u,{startTime:s,endTime:i}),t.options&&function ppe(n,e,t){const r=e.params||{},i=vH(n);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||t.push(function Afe(n){return new b(3001,!1)}())})}(a,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function Lfe(){return new b(3011,!1)}()),r;let s=0;const o=[];let a=!1,u=!1,l=0;const c=e.steps.map(_=>{const I=this._makeStyleAst(_,t);let v=null!=I.offset?I.offset:function xpe(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(I.styles),A=0;return null!=v&&(s++,A=I.offset=v),u=u||A<0||A>1,a=a||A<l,l=A,o.push(A),I});u&&t.errors.push(function Vfe(){return new b(3012,!1)}()),a&&t.errors.push(function Ufe(){return new b(3200,!1)}());const d=e.steps.length;let h=0;s>0&&s<d?t.errors.push(function Bfe(){return new b(3202,!1)}()):0==s&&(h=1/(d-1));const f=d-1,p=t.currentTime,g=t.currentAnimateTimings,m=g.duration;return c.forEach((_,I)=>{const v=h>0?I==f?1:h*I:o[I],A=v*m;t.currentTime=p+g.delay+A,g.duration=A,this._validateStyleAst(_,t),_.offset=v,r.styles.push(_)}),r}visitReference(e,t){return{type:8,animation:ur(this,th(e.animation),t),options:ta(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:ta(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:ta(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[s,o]=function Spe(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(Dpe,"")),n=n.replace(/@\*/g,Um).replace(/@\w+/g,t=>Um+"-"+t.slice(1)).replace(/:animating/g,bA),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+s:s,ar(t.collectedStyles,t.currentQuerySelector,new Map);const a=ur(this,th(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:ta(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function $fe(){return new b(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:Bm(e.timings,t.errors,!0);return{type:12,animation:ur(this,th(e.animation),t),timings:r,options:null}}}class Mpe{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function ta(n){return n?(n=eh(n)).params&&(n.params=function Ape(n){return n?eh(n):null}(n.params)):n={},n}function AA(n,e,t){return{duration:n,delay:e,easing:t}}function MA(n,e,t,r,i,s,o=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class Wm{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const Ppe=new RegExp(":enter","g"),Fpe=new RegExp(":leave","g");function xA(n,e,t,r,i,s=new Map,o=new Map,a,u,l=[]){return(new Lpe).buildKeyframes(n,e,t,r,i,s,o,a,u,l)}class Lpe{buildKeyframes(e,t,r,i,s,o,a,u,l,c=[]){l=l||new Wm;const d=new NA(e,t,l,i,s,c,[]);d.options=u;const h=u.delay?ns(u.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([o],null,d.errors,u),ur(this,r,d);const f=d.timelines.filter(p=>p.containsAnimation());if(f.length&&a.size){let p;for(let g=f.length-1;g>=0;g--){const m=f[g];if(m.element===t){p=m;break}}p&&!p.allowOnlyTimelineStyles()&&p.setStyles([a],null,d.errors,u)}return f.length?f.map(p=>p.buildKeyframes()):[MA(t,[],[],[],0,h,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const s=i?.delay;if(s){const o="number"==typeof s?s:ns(nh(s,i?.params??{},t.errors));r.delayNextStep(o)}}}_visitSubInstructions(e,t,r){let s=t.currentTimeline.currentTime;const o=null!=r.duration?ns(r.duration):null,a=null!=r.delay?ns(r.delay):null;return 0!==o&&e.forEach(u=>{const l=t.appendInstructionToTimeline(u,o,a);s=Math.max(s,l.duration+l.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),ur(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const s=e.options;if(s&&(s.params||s.delay)&&(i=t.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Km);const o=ns(s.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>ur(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?ns(e.options.delay):0;e.steps.forEach(o=>{const a=t.createSubContext(e.options);s&&a.delayNextStep(s),ur(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return Bm(t.params?nh(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(r.duration),this.visitStyle(s,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,s=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(u=>{a.forwardTime((u.offset||0)*s),a.setStyles(u.styles,u.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+s),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},s=i.delay?ns(i.delay):0;s&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Km);let o=r;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let u=null;a.forEach((l,c)=>{t.currentQueryIndex=c;const d=t.createSubContext(e.options,l);s&&d.delayNextStep(s),l===t.element&&(u=d.currentTimeline),ur(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,d.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),u&&(t.currentTimeline.mergeTimelineCollectedStyles(u),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(t.currentQueryTotal-1);let u=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":u=a-u;break;case"full":u=r.currentStaggerTime}const c=t.currentTimeline;u&&c.delayNextStep(u);const d=c.currentTime;ur(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-d+(i.startTime-r.currentTimeline.startTime)}}const Km={};class NA{constructor(e,t,r,i,s,o,a,u){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Km,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=u||new Qm(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=ns(r.duration)),null!=r.delay&&(i.delay=ns(r.delay));const s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!t||!o.hasOwnProperty(a))&&(o[a]=nh(s[a],o,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,s=new NA(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=Km,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},s=new Vpe(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,s,o){let a=[];if(i&&a.push(this.element),e.length>0){e=(e=e.replace(Ppe,"."+this._enterClassName)).replace(Fpe,"."+this._leaveClassName);let l=this._driver.query(this.element,e,1!=r);0!==r&&(l=r<0?l.slice(l.length+r,l.length):l.slice(0,r)),a.push(...l)}return!s&&0==a.length&&o.push(function jfe(n){return new b(3014,!1)}()),a}}class Qm{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Qm(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||ts),this._currentKeyframe.set(t,ts);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const s=i&&i.params||{},o=function Upe(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let s of r)t.set(s,ts)}else Gs(i,t)}),t}(e,this._globalTimelineStyles);for(let[a,u]of o){const l=nh(u,s,r);this._pendingStyles.set(a,l),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??ts),this._updateStyle(a,l)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,u)=>{const l=Gs(a,new Map,this._backFill);l.forEach((c,d)=>{c===fA?e.add(d):c===ts&&t.add(d)}),r||l.set("offset",u/this.duration),i.push(l)});const s=e.size?$m(e.values()):[],o=t.size?$m(t.values()):[];if(r){const a=i[0],u=new Map(a);a.set("offset",0),u.set("offset",1),i=[a,u]}return MA(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}}class Vpe extends Qm{constructor(e,t,r,i,s,o,a=!1){super(e,t,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],o=r+t,a=t/o,u=Gs(e[0]);u.set("offset",0),s.push(u);const l=Gs(e[0]);l.set("offset",TH(a)),s.push(l);const c=e.length-1;for(let d=1;d<=c;d++){let h=Gs(e[d]);const f=h.get("offset");h.set("offset",TH((t+f*r)/o)),s.push(h)}r=o,t=0,i="",e=s}return MA(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function TH(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class kA{}const Bpe=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class $pe extends kA{normalizePropertyName(e,t){return CA(e)}normalizeStyleValue(e,t,r,i){let s="";const o=r.toString().trim();if(Bpe.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(function Nfe(n,e){return new b(3005,!1)}())}return o+s}}function DH(n,e,t,r,i,s,o,a,u,l,c,d,h){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:u,preStyleProps:l,postStyleProps:c,totalTime:d,errors:h}}const RA={};class CH{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function jpe(n,e,t,r,i){return n.some(s=>s(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,s,o,a,u,l,c){const d=[],h=this.ast.options&&this.ast.options.params||RA,p=this.buildStyles(r,a&&a.params||RA,d),g=u&&u.params||RA,m=this.buildStyles(i,g,d),_=new Set,I=new Map,v=new Map,A="void"===i,L={params:Gpe(g,h),delay:this.ast.options?.delay},V=c?[]:xA(e,t,this.ast.animation,s,o,p,m,L,l,d);let be=0;if(V.forEach(yn=>{be=Math.max(yn.duration+yn.delay,be)}),d.length)return DH(t,this._triggerName,r,i,A,p,m,[],[],I,v,be,d);V.forEach(yn=>{const Gr=yn.element,$H=ar(I,Gr,new Set);yn.preStyleProps.forEach(na=>$H.add(na));const ih=ar(v,Gr,new Set);yn.postStyleProps.forEach(na=>ih.add(na)),Gr!==t&&_.add(Gr)});const Nt=$m(_.values());return DH(t,this._triggerName,r,i,A,p,m,V,Nt,I,v,be)}}function Gpe(n,e){const t=eh(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class Hpe{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=eh(this.defaultParams);return Object.keys(e).forEach(s=>{const o=e[s];null!==o&&(i[s]=o)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((o,a)=>{o&&(o=nh(o,i,t));const u=this.normalizer.normalizePropertyName(a,t);o=this.normalizer.normalizeStyleValue(a,u,o,t),r.set(a,o)})}),r}}class qpe{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new Hpe(i.style,i.options&&i.options.params||{},r))}),SH(this.states,"true","1"),SH(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new CH(e,i,this.states))}),this.fallbackTransition=function Wpe(n,e,t){return new CH(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(o=>o.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function SH(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const Kpe=new Wm;class Qpe{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],i=[],s=SA(this._driver,t,r,i);if(r.length)throw function Qfe(n){return new b(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,t,r){const i=e.element,s=sH(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],s=this._animations.get(e);let o;const a=new Map;if(s?(o=xA(this._driver,t,s,IA,Lm,new Map,new Map,r,Kpe,i),o.forEach(c=>{const d=ar(a,c.element,new Map);c.postStyleProps.forEach(h=>d.set(h,null))})):(i.push(function Yfe(){return new b(3300,!1)}()),o=[]),i.length)throw function Xfe(n){return new b(3504,!1)}();a.forEach((c,d)=>{c.forEach((h,f)=>{c.set(f,this._driver.computeStyle(d,f,ts))})});const l=js(o.map(c=>{const d=a.get(c.element);return this._buildPlayer(c,new Map,d)}));return this._playersById.set(e,l),l.onDestroy(()=>this.destroy(e)),this.players.push(l),l}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function Jfe(n){return new b(3301,!1)}();return t}listen(e,t,r,i){const s=_A(t,"","","");return mA(this._getPlayer(e),r,s,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const AH="ng-animate-queued",PA="ng-animate-disabled",ege=[],MH={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},tge={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ir="__ng_removed";class OA{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function sge(n){return n??null}(r?e.value:e),r){const s=eh(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const rh="void",FA=new OA(rh);class nge{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,br(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function Zfe(n,e){return new b(3302,!1)}();if(null==r||0==r.length)throw function epe(n){return new b(3303,!1)}();if(!function oge(n){return"start"==n||"done"==n}(r))throw function tpe(n,e){return new b(3400,!1)}();const s=ar(this._elementListeners,e,[]),o={name:t,phase:r,callback:i};s.push(o);const a=ar(this._engine.statesByElement,e,new Map);return a.has(t)||(br(e,Vm),br(e,Vm+"-"+t),a.set(t,FA)),()=>{this._engine.afterFlush(()=>{const u=s.indexOf(o);u>=0&&s.splice(u,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function npe(n){return new b(3401,!1)}();return t}trigger(e,t,r,i=!0){const s=this._getTrigger(t),o=new LA(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(br(e,Vm),br(e,Vm+"-"+t),this._engine.statesByElement.set(e,a=new Map));let u=a.get(t);const l=new OA(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&u&&l.absorbOptions(u.options),a.set(t,l),u||(u=FA),l.value!==rh&&u.value===l.value){if(!function lge(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const s=t[i];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(u.params,l.params)){const g=[],m=s.matchStyles(u.value,u.params,g),_=s.matchStyles(l.value,l.params,g);g.length?this._engine.reportError(g):this._engine.afterFlush(()=>{ea(e,m),yi(e,_)})}return}const h=ar(this._engine.playersByElement,e,[]);h.forEach(g=>{g.namespaceId==this.id&&g.triggerName==t&&g.queued&&g.destroy()});let f=s.matchTransition(u.value,l.value,e,l.params),p=!1;if(!f){if(!i)return;f=s.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:f,fromState:u,toState:l,player:o,isFallbackTransition:p}),p||(br(e,AH),o.onStart(()=>{al(e,AH)})),o.onDone(()=>{let g=this.players.indexOf(o);g>=0&&this.players.splice(g,1);const m=this._engine.playersByElement.get(e);if(m){let _=m.indexOf(o);_>=0&&m.splice(_,1)}}),this.players.push(o),h.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,Um,!0);r.forEach(i=>{if(i[Ir])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const s=this._engine.statesByElement.get(e),o=new Map;if(s){const a=[];if(s.forEach((u,l)=>{if(o.set(l,u.value),this._triggers.has(l)){const c=this.trigger(e,l,rh,i);c&&a.push(c)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,o),r&&js(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(s=>{const o=s.name;if(i.has(o))return;i.add(o);const u=this._triggers.get(o).fallbackTransition,l=r.get(o)||FA,c=new OA(rh),d=new LA(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:u,fromState:l,toState:c,player:d,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let o=e;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const s=e[Ir];(!s||s===MH)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){br(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==r.triggerName){const u=_A(s,r.triggerName,r.fromState.value,r.toState.value);u._data=e,mA(r.player,a.phase,u,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const s=r.transition.ast.depCount,o=i.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class rge{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new nge(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let o=!1,a=this.driver.getParentElement(t);for(;a;){const u=i.get(a);if(u){const l=r.indexOf(u);r.splice(l+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const s=this._fetchNamespace(i.namespaceId);s&&t.add(s)}return t}trigger(e,t,r,i){if(Ym(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!Ym(t))return;const s=t[Ir];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),br(e,PA)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),al(e,PA))}removeNode(e,t,r,i){if(Ym(t)){const s=e?this._fetchNamespace(e):null;if(s?s.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,s){this.collectedLeaveElements.push(t),t[Ir]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,r,i,s){return Ym(t)?this._fetchNamespace(e).listen(t,r,i,s):()=>{}}_buildInstruction(e,t,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,Um,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,bA,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return js(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Ir];if(t&&t.setForRemoval){if(e[Ir]=MH,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(PA)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)br(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?js(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function rpe(n){return new b(3402,!1)}()}_flushAnimations(e,t){const r=new Wm,i=[],s=new Map,o=[],a=new Map,u=new Map,l=new Map,c=new Set;this.disabledNodes.forEach(U=>{c.add(U);const q=this.driver.query(U,".ng-animate-queued",!0);for(let Z=0;Z<q.length;Z++)c.add(q[Z])});const d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=kH(h,this.collectedEnterElements),p=new Map;let g=0;f.forEach((U,q)=>{const Z=IA+g++;p.set(q,Z),U.forEach(Te=>br(Te,Z))});const m=[],_=new Set,I=new Set;for(let U=0;U<this.collectedLeaveElements.length;U++){const q=this.collectedLeaveElements[U],Z=q[Ir];Z&&Z.setForRemoval&&(m.push(q),_.add(q),Z.hasAnimation?this.driver.query(q,".ng-star-inserted",!0).forEach(Te=>_.add(Te)):I.add(q))}const v=new Map,A=kH(h,Array.from(_));A.forEach((U,q)=>{const Z=Lm+g++;v.set(q,Z),U.forEach(Te=>br(Te,Z))}),e.push(()=>{f.forEach((U,q)=>{const Z=p.get(q);U.forEach(Te=>al(Te,Z))}),A.forEach((U,q)=>{const Z=v.get(q);U.forEach(Te=>al(Te,Z))}),m.forEach(U=>{this.processLeaveNode(U)})});const L=[],V=[];for(let U=this._namespaceList.length-1;U>=0;U--)this._namespaceList[U].drainQueuedTransitions(t).forEach(Z=>{const Te=Z.player,Bt=Z.element;if(L.push(Te),this.collectedEnterElements.length){const _n=Bt[Ir];if(_n&&_n.setForMove){if(_n.previousTriggersValues&&_n.previousTriggersValues.has(Z.triggerName)){const ra=_n.previousTriggersValues.get(Z.triggerName),Tr=this.statesByElement.get(Z.element);if(Tr&&Tr.has(Z.triggerName)){const Zm=Tr.get(Z.triggerName);Zm.value=ra,Tr.set(Z.triggerName,Zm)}}return void Te.destroy()}}const _i=!d||!this.driver.containsElement(d,Bt),lr=v.get(Bt),Hs=p.get(Bt),nt=this._buildInstruction(Z,r,Hs,lr,_i);if(nt.errors&&nt.errors.length)return void V.push(nt);if(_i)return Te.onStart(()=>ea(Bt,nt.fromStyles)),Te.onDestroy(()=>yi(Bt,nt.toStyles)),void i.push(Te);if(Z.isFallbackTransition)return Te.onStart(()=>ea(Bt,nt.fromStyles)),Te.onDestroy(()=>yi(Bt,nt.toStyles)),void i.push(Te);const HH=[];nt.timelines.forEach(_n=>{_n.stretchStartingKeyframe=!0,this.disabledNodes.has(_n.element)||HH.push(_n)}),nt.timelines=HH,r.append(Bt,nt.timelines),o.push({instruction:nt,player:Te,element:Bt}),nt.queriedElements.forEach(_n=>ar(a,_n,[]).push(Te)),nt.preStyleProps.forEach((_n,ra)=>{if(_n.size){let Tr=u.get(ra);Tr||u.set(ra,Tr=new Set),_n.forEach((Zm,BA)=>Tr.add(BA))}}),nt.postStyleProps.forEach((_n,ra)=>{let Tr=l.get(ra);Tr||l.set(ra,Tr=new Set),_n.forEach((Zm,BA)=>Tr.add(BA))})});if(V.length){const U=[];V.forEach(q=>{U.push(function ipe(n,e){return new b(3505,!1)}())}),L.forEach(q=>q.destroy()),this.reportError(U)}const be=new Map,Nt=new Map;o.forEach(U=>{const q=U.element;r.has(q)&&(Nt.set(q,q),this._beforeAnimationBuild(U.player.namespaceId,U.instruction,be))}),i.forEach(U=>{const q=U.element;this._getPreviousPlayers(q,!1,U.namespaceId,U.triggerName,null).forEach(Te=>{ar(be,q,[]).push(Te),Te.destroy()})});const yn=m.filter(U=>PH(U,u,l)),Gr=new Map;NH(Gr,this.driver,I,l,ts).forEach(U=>{PH(U,u,l)&&yn.push(U)});const ih=new Map;f.forEach((U,q)=>{NH(ih,this.driver,new Set(U),u,fA)}),yn.forEach(U=>{const q=Gr.get(U),Z=ih.get(U);Gr.set(U,new Map([...Array.from(q?.entries()??[]),...Array.from(Z?.entries()??[])]))});const na=[],jH=[],GH={};o.forEach(U=>{const{element:q,player:Z,instruction:Te}=U;if(r.has(q)){if(c.has(q))return Z.onDestroy(()=>yi(q,Te.toStyles)),Z.disabled=!0,Z.overrideTotalTime(Te.totalTime),void i.push(Z);let Bt=GH;if(Nt.size>1){let lr=q;const Hs=[];for(;lr=lr.parentNode;){const nt=Nt.get(lr);if(nt){Bt=nt;break}Hs.push(lr)}Hs.forEach(nt=>Nt.set(nt,Bt))}const _i=this._buildAnimation(Z.namespaceId,Te,be,s,ih,Gr);if(Z.setRealPlayer(_i),Bt===GH)na.push(Z);else{const lr=this.playersByElement.get(Bt);lr&&lr.length&&(Z.parentPlayer=js(lr)),i.push(Z)}}else ea(q,Te.fromStyles),Z.onDestroy(()=>yi(q,Te.toStyles)),jH.push(Z),c.has(q)&&i.push(Z)}),jH.forEach(U=>{const q=s.get(U.element);if(q&&q.length){const Z=js(q);U.setRealPlayer(Z)}}),i.forEach(U=>{U.parentPlayer?U.syncPlayerEvents(U.parentPlayer):U.destroy()});for(let U=0;U<m.length;U++){const q=m[U],Z=q[Ir];if(al(q,Lm),Z&&Z.hasAnimation)continue;let Te=[];if(a.size){let _i=a.get(q);_i&&_i.length&&Te.push(..._i);let lr=this.driver.query(q,bA,!0);for(let Hs=0;Hs<lr.length;Hs++){let nt=a.get(lr[Hs]);nt&&nt.length&&Te.push(...nt)}}const Bt=Te.filter(_i=>!_i.destroyed);Bt.length?age(this,q,Bt):this.processLeaveNode(q)}return m.length=0,na.forEach(U=>{this.players.push(U),U.onDone(()=>{U.destroy();const q=this.players.indexOf(U);this.players.splice(q,1)}),U.play()}),na}elementContainsData(e,t){let r=!1;const i=t[Ir];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,s){let o=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(o=a)}else{const a=this.playersByElement.get(e);if(a){const u=!s||s==rh;a.forEach(l=>{l.queued||!u&&l.triggerName!=i||o.push(l)})}}return(r||i)&&(o=o.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(e,t,r){const s=t.element,o=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const u of t.timelines){const l=u.element,c=l!==s,d=ar(r,l,[]);this._getPreviousPlayers(l,c,o,a,t.toState).forEach(f=>{const p=f.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),f.destroy(),d.push(f)})}ea(s,t.fromStyles)}_buildAnimation(e,t,r,i,s,o){const a=t.triggerName,u=t.element,l=[],c=new Set,d=new Set,h=t.timelines.map(p=>{const g=p.element;c.add(g);const m=g[Ir];if(m&&m.removedBeforeQueried)return new Zd(p.duration,p.delay);const _=g!==u,I=function uge(n){const e=[];return RH(n,e),e}((r.get(g)||ege).map(be=>be.getRealPlayer())).filter(be=>!!be.element&&be.element===g),v=s.get(g),A=o.get(g),L=sH(0,this._normalizer,0,p.keyframes,v,A),V=this._buildPlayer(p,L,I);if(p.subTimeline&&i&&d.add(g),_){const be=new LA(e,a,g);be.setRealPlayer(V),l.push(be)}return V});l.forEach(p=>{ar(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>function ige(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,p.element,p))}),c.forEach(p=>br(p,pH));const f=js(h);return f.onDestroy(()=>{c.forEach(p=>al(p,pH)),yi(u,t.toStyles)}),d.forEach(p=>{ar(i,p,[]).push(f)}),f}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new Zd(e.duration,e.delay)}}class LA{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new Zd,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>mA(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){ar(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Ym(n){return n&&1===n.nodeType}function xH(n,e){const t=n.style.display;return n.style.display=e??"none",t}function NH(n,e,t,r,i){const s=[];t.forEach(u=>s.push(xH(u)));const o=[];r.forEach((u,l)=>{const c=new Map;u.forEach(d=>{const h=e.computeStyle(l,d,i);c.set(d,h),(!h||0==h.length)&&(l[Ir]=tge,o.push(l))}),n.set(l,c)});let a=0;return t.forEach(u=>xH(u,s[a++])),o}function kH(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const r=1,i=new Set(e),s=new Map;function o(a){if(!a)return r;let u=s.get(a);if(u)return u;const l=a.parentNode;return u=t.has(l)?l:i.has(l)?r:o(l),s.set(a,u),u}return e.forEach(a=>{const u=o(a);u!==r&&t.get(u).push(a)}),t}function br(n,e){n.classList?.add(e)}function al(n,e){n.classList?.remove(e)}function age(n,e,t){js(t).onDone(()=>n.processLeaveNode(e))}function RH(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof ZG?RH(r.players,e):e.push(r)}}function PH(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(s=>i.add(s)):e.set(n,r),t.delete(n),!0}class Xm{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new rge(e,t,r),this._timelineEngine=new Qpe(e,t,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(e,t,r,i,s){const o=e+"-"+i;let a=this._triggerCache[o];if(!a){const u=[],l=[],c=SA(this._driver,s,u,l);if(u.length)throw function Wfe(n,e){return new b(3404,!1)}();a=function zpe(n,e,t){return new qpe(n,e,t)}(i,c,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[s,o]=oH(r);this._timelineEngine.command(s,t,o,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,s){if("@"==r.charAt(0)){const[o,a]=oH(r);return this._timelineEngine.listen(o,t,a,s)}return this._transitionEngine.listen(e,t,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let dge=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&yi(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(yi(this._element,this._initialStyles),this._endStyles&&(yi(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(ea(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ea(this._element,this._endStyles),this._endStyles=null),yi(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function VA(n){let e=null;return n.forEach((t,r)=>{(function hge(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class OH{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:wH(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class fge{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return cH(e,t)}getParentElement(e){return wA(e)}query(e,t,r){return dH(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,s,o=[]){const u={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(u.easing=s);const l=new Map,c=o.filter(f=>f instanceof OH);(function ype(n,e){return 0===n||0===e})(r,i)&&c.forEach(f=>{f.currentSnapshot.forEach((p,g)=>l.set(g,p))});let d=function fpe(n){return n.length?n[0]instanceof Map?n:n.map(e=>gH(e)):[]}(t).map(f=>Gs(f));d=function _pe(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((s,o)=>{r.has(o)||i.push(o),r.set(o,s)}),i.length)for(let s=1;s<e.length;s++){let o=e[s];i.forEach(a=>o.set(a,wH(n,a)))}}return e}(e,d,l);const h=function cge(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=VA(e[0]),e.length>1&&(r=VA(e[e.length-1]))):e instanceof Map&&(t=VA(e)),t||r?new dge(n,t,r):null}(e,d);return new OH(e,d,u,h)}}let pge=(()=>{class n extends KG{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:Dr.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?YG(t):t;return FH(this._renderer,null,r,"register",[i]),new gge(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(P(Ol),P(_t))},n.\u0275prov=B({token:n,factory:n.\u0275fac}),n})();class gge extends $he{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new mge(this._id,e,t||{},this._renderer)}}class mge{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return FH(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function FH(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const LH="@.disabled";let yge=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(s,o)=>{const a=o?.parentNode(s);a&&o.removeChild(a,s)}}createRenderer(t,r){const s=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let c=this._rendererCache.get(s);return c||(c=new VH("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,c)),c}const o=r.id,a=r.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);const u=c=>{Array.isArray(c)?c.forEach(u):this.engine.registerTrigger(o,a,t,c.name,c)};return r.data.animation.forEach(u),new _ge(this,a,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(P(Ol),P(Xm),P(Re))},n.\u0275prov=B({token:n,factory:n.\u0275fac}),n})();class VH{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i,this.destroyNode=this.delegate.destroyNode?s=>t.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==LH?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class _ge extends VH{constructor(e,t,r,i,s){super(t,r,i,s),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==LH?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function vge(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.slice(1),o="";return"@"!=s.charAt(0)&&([s,o]=function wge(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,i,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(e,t,r)}}let Ege=(()=>{class n extends Xm{constructor(t,r,i,s){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(P(_t),P(EA),P(kA),P(oo))},n.\u0275prov=B({token:n,factory:n.\u0275fac}),n})();const UH=[{provide:KG,useClass:pge},{provide:kA,useFactory:function Ige(){return new $pe}},{provide:Xm,useClass:Ege},{provide:Ol,useFactory:function bge(n,e,t){return new yge(n,e,t)},deps:[Gf,Xm,Re]}],UA=[{provide:EA,useFactory:()=>new fge},{provide:vR,useValue:"BrowserAnimations"},...UH],BH=[{provide:EA,useClass:hH},{provide:vR,useValue:"NoopAnimations"},...UH];let Tge=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?BH:UA}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=On({type:n}),n.\u0275inj=vn({providers:UA,imports:[VP]}),n})(),Dge=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275mod=On({type:n,bootstrap:[Tfe]}),n.\u0275inj=vn({imports:[xee(()=>Nee(Dfe_firebase)),Ade(()=>Nde()),VP,bfe,khe,Tge,cfe.forRoot()]}),e})();SQ().bootstrapModule(Dge).catch(n=>console.error(n))}},Fe=>{Fe(Fe.s=655)}]);